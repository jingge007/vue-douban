webpackJsonp([1],{"+yCw":function(t,e){},"/Hax":function(t,e){},"/a+k":function(t,e){},"2QGA":function(t,e){},"34KM":function(t,e){},"6N/Q":function(t,e){},"7TlL":function(t,e,s){t.exports=s.p+"static/img/avatar.ab7112d.jpg"},"8VTl":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowMjIyMUZGOTYyNjQxMUU0QkFDN0JDMDA0RUFERjJGNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowMjIyMUZGQTYyNjQxMUU0QkFDN0JDMDA0RUFERjJGNiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjAyMjIxRkY3NjI2NDExRTRCQUM3QkMwMDRFQURGMkY2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjAyMjIxRkY4NjI2NDExRTRCQUM3QkMwMDRFQURGMkY2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+vlyY+wAAAYBQTFRFBa8QAKoAFdkhLsg4E8YeAMYBALEAN9JBAMoJErAcB8wTBsYSg9qIB9ITB88TWthijt+TBbAQB84TAM0ABsASBsQS////BsISALsABsoTBscTBrkRBroRBbYRBr4SdNt7b+V3SuFTBbQRBbMR5frmALIJoeOl7fvuE7sdBrwSKbwzCcgWTNRUeOh/FNAf0fbUxvXJHbUnt+i6QsVKSstTk+uYoOylcN13tvK6yu/N8/z0Y9psverAo++oAKMAwuzF+v77AK8LbNVxUsdaAbcKdNN74vbjYMtnrOawxu3JvvPB2/XdGMAjVs5fCNMW2fnbac9wBboQAtEQC7MUOsJDB80WB7oTB7gT/P/8BrYSBLYRBawQB9cUB9YUB9QUB9UUBa0QBrcRQtpLBrwRB64SBbURV+JfC9gYDdYab8919/33BrYUqvGvBc4SBrMTCK8PBrsTBrQSELwbBbEQ+/77BbgRBbgSCK8T6PnqBMsOBbwQA84NC70V2PTazvDQ////esWf9QAAAIB0Uk5T/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wA4BUtnAAAEbUlEQVR42uzb/V/aRhzA8Ts0B2yM0rI6NrcpKoJYmIA4yxR8SBWcWmmpXS3Wyaabm9s6Hzasq/zrDTjygM038Y7c+Wr7+a25+H2TiIEqQY3OooeJcM3VxdzhwamRKwzq+PfhvqvqROFsFIDnss6orVyJETN4wkG2Rc++HU5UHW8/ehV+WKtyyDXdCR9WOZUwwtxcVb6E61WOrejgGk/4l6gKJ6pcq7XhiSrnsv/Drm3ePWzBWe7udrgF8z/g5iGjxrQAd3tQgfd3BORqoNyvIuCdFXQoxN0ZRIkXQqqhsBjYjdxiYBdyfYB5wclPzHvEGDA6CcDrQebW12ng8+TsClPT4SDNEful2T7GTvxBCvhRcIIV/iEJwX6TzoPTrHAuGTSbDsIrrPBvdLDEfKr7qGC/tM/qTnnOaWC/5K4x5fac+QH4jml/SIyd+01ng7CTKfBHQrrJ8JmHojNm+IlHooElzxNL+HMwz/jUNxRlx8/guZawNEh37bglscIJOvg7ZvhbQUccooVDNxbu/QJMD0eXRuByehie23sd2C2Ng4VuOQT3hOAXo5DbqSO2GBa6dy34YzAjbLGvAYb3fS/hu2BG2GJfAwzv+wF+L+DPwIywxb4GGN5XgT8FIwYY3tcIw/u+GzDRw6SLcC8mYLjHITi7MAC2UHQIvtZbH0t49Wswehieu3pz4QFRsI/yfxKWcGwMjGTo4B4Cz42ho5/AXpHJgHW+UVX83tfckCGv4LlHKPYl2FiZ2Ci/psKT+daWsTF4bswKViorvZTbhvyyfCWZvFZ/mfcfaW6xHGoHbnZ61HNZXJE7FzeJdq1ME9nWQLswVn+qRq9OLuOACi/gTbtwv53IpDq6gjc7FmUyoq7Gia15/XZhWa63Rxdx2bi2ibVHdUFk2/CprXRnc5U8NSzJOK2uDeB+e/MUeNdOT3VH5cP/6JdOSUx/3Ti1NW/XLrxLjubaw5dIxPiYFlS3LpPdLsMyntGuEfiZYaWkrpSIbB/+yl7aD5Ty9NrSL6xqZzpgWIG6BlzR5sfwM3X7Fta9flV0C5bwnr30T6FAfkvdHhmuay8QJGJz2h4ID0V0EVzQfv0TIep2HNcekC8fMQTDQyb9TozvZvO6U7qW1zZvaJsz+Y73u3t/m00H4PnHo/f1FZZ0f1AqqZtLc9rm1wX9F1yU1vAQAA+blH/A/GenvsfEbDoEB5jduRimgX3McI4OZj/iEzq4G99jAPYemzT/V2CGrfQiNht+7DWH/5zPY9aGaeDj49vzjJmPbsK3heRFKTFwCsWRkFIoIwaOow0xcAWNioGXUV0MXESNigj33xxqBETAiw3UyP38I/8Kzc/eHvB3460P/Ub5H/LM5eeri885t9z+KHuGr+s9acM5L1e4pN01UODpBvQ3aDzg52aMt6RwkxdPOm7CSXs5nmfDbUdLHJ7bqZm33mjlc9rdyJncWnZ/0Um2kgZuprs4SDl00VhOw3fxKc+yg0w8lfJ2r1S8slyMdjJvBBgAjaD61EhSiREAAAAASUVORK5CYII="},"9s07":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowMjIyMUZGOTYyNjQxMUU0QkFDN0JDMDA0RUFERjJGNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowMjIyMUZGQTYyNjQxMUU0QkFDN0JDMDA0RUFERjJGNiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjAyMjIxRkY3NjI2NDExRTRCQUM3QkMwMDRFQURGMkY2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjAyMjIxRkY4NjI2NDExRTRCQUM3QkMwMDRFQURGMkY2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+vlyY+wAAAYBQTFRFBa8QAKoAFdkhLsg4E8YeAMYBALEAN9JBAMoJErAcB8wTBsYSg9qIB9ITB88TWthijt+TBbAQB84TAM0ABsASBsQS////BsISALsABsoTBscTBrkRBroRBbYRBr4SdNt7b+V3SuFTBbQRBbMR5frmALIJoeOl7fvuE7sdBrwSKbwzCcgWTNRUeOh/FNAf0fbUxvXJHbUnt+i6QsVKSstTk+uYoOylcN13tvK6yu/N8/z0Y9psverAo++oAKMAwuzF+v77AK8LbNVxUsdaAbcKdNN74vbjYMtnrOawxu3JvvPB2/XdGMAjVs5fCNMW2fnbac9wBboQAtEQC7MUOsJDB80WB7oTB7gT/P/8BrYSBLYRBawQB9cUB9YUB9QUB9UUBa0QBrcRQtpLBrwRB64SBbURV+JfC9gYDdYab8919/33BrYUqvGvBc4SBrMTCK8PBrsTBrQSELwbBbEQ+/77BbgRBbgSCK8T6PnqBMsOBbwQA84NC70V2PTazvDQ////esWf9QAAAIB0Uk5T/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wA4BUtnAAAEbUlEQVR42uzb/V/aRhzA8Ts0B2yM0rI6NrcpKoJYmIA4yxR8SBWcWmmpXS3Wyaabm9s6Hzasq/zrDTjygM038Y7c+Wr7+a25+H2TiIEqQY3OooeJcM3VxdzhwamRKwzq+PfhvqvqROFsFIDnss6orVyJETN4wkG2Rc++HU5UHW8/ehV+WKtyyDXdCR9WOZUwwtxcVb6E61WOrejgGk/4l6gKJ6pcq7XhiSrnsv/Drm3ePWzBWe7udrgF8z/g5iGjxrQAd3tQgfd3BORqoNyvIuCdFXQoxN0ZRIkXQqqhsBjYjdxiYBdyfYB5wclPzHvEGDA6CcDrQebW12ng8+TsClPT4SDNEful2T7GTvxBCvhRcIIV/iEJwX6TzoPTrHAuGTSbDsIrrPBvdLDEfKr7qGC/tM/qTnnOaWC/5K4x5fac+QH4jml/SIyd+01ng7CTKfBHQrrJ8JmHojNm+IlHooElzxNL+HMwz/jUNxRlx8/guZawNEh37bglscIJOvg7ZvhbQUccooVDNxbu/QJMD0eXRuByehie23sd2C2Ng4VuOQT3hOAXo5DbqSO2GBa6dy34YzAjbLGvAYb3fS/hu2BG2GJfAwzv+wF+L+DPwIywxb4GGN5XgT8FIwYY3tcIw/u+GzDRw6SLcC8mYLjHITi7MAC2UHQIvtZbH0t49Wswehieu3pz4QFRsI/yfxKWcGwMjGTo4B4Cz42ho5/AXpHJgHW+UVX83tfckCGv4LlHKPYl2FiZ2Ci/psKT+daWsTF4bswKViorvZTbhvyyfCWZvFZ/mfcfaW6xHGoHbnZ61HNZXJE7FzeJdq1ME9nWQLswVn+qRq9OLuOACi/gTbtwv53IpDq6gjc7FmUyoq7Gia15/XZhWa63Rxdx2bi2ibVHdUFk2/CprXRnc5U8NSzJOK2uDeB+e/MUeNdOT3VH5cP/6JdOSUx/3Ti1NW/XLrxLjubaw5dIxPiYFlS3LpPdLsMyntGuEfiZYaWkrpSIbB/+yl7aD5Ty9NrSL6xqZzpgWIG6BlzR5sfwM3X7Fta9flV0C5bwnr30T6FAfkvdHhmuay8QJGJz2h4ID0V0EVzQfv0TIep2HNcekC8fMQTDQyb9TozvZvO6U7qW1zZvaJsz+Y73u3t/m00H4PnHo/f1FZZ0f1AqqZtLc9rm1wX9F1yU1vAQAA+blH/A/GenvsfEbDoEB5jduRimgX3McI4OZj/iEzq4G99jAPYemzT/V2CGrfQiNht+7DWH/5zPY9aGaeDj49vzjJmPbsK3heRFKTFwCsWRkFIoIwaOow0xcAWNioGXUV0MXESNigj33xxqBETAiw3UyP38I/8Kzc/eHvB3460P/Ub5H/LM5eeri885t9z+KHuGr+s9acM5L1e4pN01UODpBvQ3aDzg52aMt6RwkxdPOm7CSXs5nmfDbUdLHJ7bqZm33mjlc9rdyJncWnZ/0Um2kgZuprs4SDl00VhOw3fxKc+yg0w8lfJ2r1S8slyMdjJvBBgAjaD61EhSiREAAAAASUVORK5CYII="},"A+ZV":function(t,e){},DCtu:function(t,e){},DLAi:function(t,e){},EiT9:function(t,e){},H7Ot:function(t,e){},INY0:function(t,e){},Je7N:function(t,e){},"MvV+":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={};s.d(i,"markWatchedMovie",function(){return Ke}),s.d(i,"markWantedMovie",function(){return ts}),s.d(i,"markComment",function(){return es}),s.d(i,"saveSearchHistory",function(){return ss}),s.d(i,"deleteSearchHistory",function(){return is}),s.d(i,"clearSearchHistory",function(){return as}),s.d(i,"markCelebrity",function(){return ns});var a={};s.d(a,"movie",function(){return rs}),s.d(a,"wantedMovies",function(){return os}),s.d(a,"watchedMovies",function(){return cs}),s.d(a,"reviewsType",function(){return ls}),s.d(a,"reviewId",function(){return us}),s.d(a,"favoriteComments",function(){return hs}),s.d(a,"searchHistory",function(){return vs}),s.d(a,"currentCelebrityId",function(){return ds}),s.d(a,"collected",function(){return ms});var n=s("VCXJ"),r={data:function(){return{text:"欢迎进入豆瓣电影",timer:5,stop:!1,interval:null}},props:{loadingFlag:{type:Boolean,default:!1}},computed:{date:function(){var t=new Date,e=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][t.getDay()];return t.getFullYear()+"年"+(t.getMonth()+1)+"月"+t.getDate()+"日  "+e}},created:function(){this.starTimer()},methods:{timeItem:function(){this.$emit("select"),clearInterval(this.interval)},update:function(){this.timer<2?clearInterval(this.interval):this.timer--},starTimer:function(){!1===this.stop&&(this.interval=setInterval(this.update,1e3))}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"move"}},[i("div",{staticClass:"startup"},[i("div",{staticClass:"welcome"},[i("div",{staticClass:"time",on:{click:t.timeItem}},[t._v("跳过 "+t._s(t.timer)+"s")]),t._v(" "),i("div",{staticClass:"welcome-wrapper"},[i("div",{staticClass:"smile"},[t._v("^_^")]),t._v(" "),i("div",{staticClass:"date"},[t._v(t._s(t.date))]),t._v(" "),i("div",{staticClass:"test"},[t._v(t._s(t.text))])])]),t._v(" "),i("div",{staticClass:"logo"},[i("div",{staticClass:"logo-wrapper"},[i("img",{attrs:{src:s("9s07"),alt:"",width:"48",height:"48"}}),t._v(" "),i("div",{staticClass:"logo-desc"},[i("span",{staticClass:"title"},[t._v("豆瓣")]),t._v(" "),i("span",{staticClass:"desc"},[t._v("我们的精神角落")])])])])])])},staticRenderFns:[]};var c=s("Z0/y")(r,o,!1,function(t){s("kSb7")},"data-v-280c3966",null).exports,l={props:{tabFlag:{type:Boolean,default:!0}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.tabFlag,expression:"tabFlag"}],staticClass:"tab"},[s("router-link",{staticClass:"tab-item",attrs:{to:"/moiveshow",tag:"div"}},[s("span",{staticClass:"tab-icon"},[s("i",{staticClass:"icon-collect"})]),t._v(" "),s("span",{staticClass:"tab-link"},[t._v("热映")])]),t._v(" "),s("router-link",{staticClass:"tab-item",attrs:{to:"/rank",tag:"div"}},[s("span",{staticClass:"tab-icon"},[s("i",{staticClass:"icon-stats-bars"})]),t._v(" "),s("span",{staticClass:"tab-link"},[t._v("排行")])]),t._v(" "),s("router-link",{staticClass:"tab-item",attrs:{to:"/video",tag:"div"}},[s("span",{staticClass:"tab-icon"},[s("i",{staticClass:"icon-video-camera"})]),t._v(" "),s("span",{staticClass:"tab-link"},[t._v("视频")])]),t._v(" "),s("router-link",{staticClass:"tab-item",attrs:{to:"/user",tag:"div"}},[s("span",{staticClass:"tab-icon"},[s("i",{staticClass:"icon-user"})]),t._v(" "),s("span",{staticClass:"tab-link"},[t._v("我的")])])],1)},staticRenderFns:[]};var h=s("Z0/y")(l,u,!1,function(t){s("DCtu")},"data-v-f540801a",null).exports,v={data:function(){return{loadingFlag:!1}},methods:{hasLoad:function(){var t=this;setTimeout(function(){t.loadingFlag=!0},4e3)},selectItem:function(){this.loadingFlag=!0}},components:{startup:c,tab:h}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("keep-alive",[t.$route.meta.keepAlive?s("router-view",{on:{hasLoad:t.hasLoad}}):t._e()],1),t._v(" "),t.$route.meta.keepAlive?t._e():s("router-view",{on:{hasLoad:t.hasLoad}}),t._v(" "),s("tab"),t._v(" "),t.loadingFlag?t._e():s("startup",{on:{select:t.selectItem}})],1)},staticRenderFns:[]};var m=s("Z0/y")(v,d,!1,function(t){s("izP1")},"data-v-7813b7d9",null).exports,f=s("zO6J"),p=s("4YfN"),g=s.n(p),_=s("rVsN"),w=s.n(_),b=s("aA9S"),C=s.n(b),y=s("2sCs"),k=s.n(y),x={apikey:"0b2bdeda43b5688921839c8ecb20399b"};function I(t,e){var s=C()({},x,{start:t,count:e});return k.a.get("/v2/movie/in_theaters",{params:s}).then(function(t){return w.a.resolve(t.data)}).catch(function(t){console.log(t)})}function M(t,e){var s=C()({},x,{start:t,count:e});return k.a.get("v2/movie/coming_soon",{params:s}).then(function(t){return w.a.resolve(t.data)}).catch(function(t){console.log(t)})}var T={props:{switches:{type:Array,default:[]},currentIndex:{type:Number,default:0},smallFont:{type:Boolean,default:!1}},methods:{switchItem:function(t){this.$emit("switch",t)}}},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"switches"},t._l(t.switches,function(e,i){return s("li",{staticClass:"switch-item",class:{active:t.currentIndex===i,"small-font":!0===t.smallFont},on:{click:function(e){t.switchItem(i)}}},[s("span",[t._v(t._s(e.name))])])}))},staticRenderFns:[]};var A=s("Z0/y")(T,S,!1,function(t){s("Je7N")},"data-v-0a4c9203",null).exports,R=s("l8oT"),D={props:{probeType:{type:Number,default:1},click:{type:Boolean,default:!0},data:{default:null},scrollX:{type:Boolean,default:!1},listenScroll:{type:Boolean,default:!1},pullup:{type:Boolean,default:!1},beforeScroll:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20},eventPassthrough:{type:String,default:""}},mounted:function(){var t=this;setTimeout(function(){t._initScroll()},20)},watch:{data:function(){var t=this;setTimeout(function(){t.refresh()},this.refreshDelay)}},methods:{_initScroll:function(){var t=this;this.$refs.wrapper&&(this.scroll=new R.a(this.$refs.wrapper,{probeType:this.probeType,click:this.click,scrollX:this.scrollX,eventPassthrough:this.eventPassthrough}),this.listenScroll&&this.scroll.on("scroll",function(e){t.$emit("scroll",e)}),this.pullup&&this.scroll.on("scrollEnd",function(){t.scroll.y<=t.scroll.maxScrollY+50&&t.$emit("scrollToEnd")}),this.beforeScroll&&this.scroll.on("beforeScrollStart",function(){t.$emit("beforeScroll")}))},enable:function(){this.scroll&&this.scroll.enable()},disable:function(){this.scroll&&this.scroll.disable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)}}},E={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"wrapper"},[this._t("default")],2)},staticRenderFns:[]};var N=s("Z0/y")(D,E,!1,function(t){s("EiT9")},"data-v-5f6dfb87",null).exports,B=s("AA3o"),F=s.n(B),L=function t(e){var s=e.id,i=e.title,a=e.director,n=e.casts,r=e.collectCount,o=e.rating,c=e.image,l=e.date,u=e.pubdates,h=e.subtype;F()(this,t),this.id=s,this.title=i,this.director=a,this.casts=n,this.collectCount=r||0,this.rating=o,this.image=c,this.date=l||0,this.pubdates=u||"",this.subtype=h||""};function j(t){var e=[];return t.forEach(function(t,s){e.push(new L({id:t.id,title:t.title,director:Y(t.directors),casts:z(t.casts),collectCount:t.collect_count,rating:t.rating.average,image:t.images.large,date:function(t,e){if((new Date).getTime()>new Date(t).getTime()){for(var s=/^\d{4}[-]\d{2}[-]\d{2}/,i=0;i<e.length;i++)if(-1!==e[i].indexOf("中国大陆重映")&&s.test(e[i]))return O(e[i].match(s)[0]);return Z(e,"中国大陆重映")}if(!t)return Z(e,"中国大陆");return O(t)}(t.mainland_pubdate,t.pubdates),pubdates:t.pubdates}))}),e}function U(t){var e=[];return t.forEach(function(t){t=t.subject?t.subject:t,e.push(new L({id:t.id,title:t.title,director:Y(t.directors),casts:z(t.casts),rating:t.rating.average,image:t.images.large}))}),e}function W(t){var e=[];return t.forEach(function(t,s){e.push(new L({id:t.id,title:t.title,director:Y(t.directors),casts:z(t.casts),rating:t.rating.average,image:t.images.small,pubdates:t.pubdates,subtype:t.subtype}))}),e}function Y(t){return t.length?t[0].name:""}function z(t){var e="";return t.forEach(function(s,i){i<t.length-1?e+=s.name+" / ":e+=s.name}),e}function Z(t,e){var s="",i="";return t.forEach(function(t){t.indexOf(e)>-1&&(t.split("-")[1]?"0"===(s=t.split("-")[1].substr(0,2)).substr(0,1)&&(s=s.substr(1,1)):i=t.split("-")[0].substr(0,4))}),s?s+"月待定":i+"年待定"}function O(t){var e=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][new Date(t).getDay()],s=t.split("-")[1]+"月"+t.split("-")[2]+"日";"0"===s.substr(0,1)&&(s=s.substr(1));var i=s+" "+e;return function(t){return parseInt(new Date(t).getFullYear())>parseInt((new Date).getFullYear())}(t)?t.split("-")[0]+"年"+i:i}var H=s("ZLEe"),G=s.n(H),$=s("MgeX"),Q=s.n($),J={props:{hasMore:{type:Boolean,default:!0},fullScreen:{type:Boolean,default:!1}}},V={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading",class:{full:this.fullScreen}},[this.hasMore?e("div",{staticClass:"hasmore"},[e("span"),this._v(" "),e("span"),this._v(" "),e("span"),this._v(" "),e("span"),this._v(" "),e("span")]):e("div",{staticClass:"nomore"},[this._v("没有更多数据了...")])])},staticRenderFns:[]};var X=s("Z0/y")(J,V,!1,function(t){s("yIWi")},"data-v-3709b3e9",null).exports,P={props:{size:{type:Number,default:24},showScore:{type:Boolean,default:!1},score:{type:Number,default:0},needNullStar:{type:Boolean,default:!1}},computed:{normalizeScore:function(){return this.score.toString().length<2?this.score+".0":this.score},starType:function(){return"star-"+this.size},itemClass:function(){for(var t=[],e=Math.floor(this.score)/2,s=e%1!=0,i=Math.floor(e),a=0;a<i;a++)t.push("on");for(s&&t.push("half");t.length<5;)t.push("off");return t}}},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"star",class:t.starType},[t.score?t._e():s("div",{staticClass:"no-score"},[t._v("暂无评分")]),t._v(" "),t._l(t.itemClass,function(e){return t.score||t.needNullStar?s("span",{staticClass:"star-item",class:e}):t._e()}),t._v(" "),t.showScore&&t.score?s("span",{staticClass:"show-score"},[t._v(t._s(t.normalizeScore)+"分")]):t._e()],2)},staticRenderFns:[]};var K=s("Z0/y")(P,q,!1,function(t){s("+yCw")},"data-v-50a2e2d2",null).exports,tt={data:function(){return{showScore:!0,casts:[]}},props:{moviehot:{type:Array,default:[]},hasMore:{type:Boolean,default:!0},timeData:{type:Boolean,default:!1}},created:function(){this.listHeight=[],this.indexMap={}},watch:{moviehot:function(){var t=this;this.timeData&&setTimeout(function(){t.getMap(),t._recalculateHeight()},20)}},methods:{selectItem:function(t){this.$emit("select",t)},dateEqual:function(t){return 0!==t&&this.moviehot[t].date===this.moviehot[t-1].date},recalculate:function(){var t=this;setTimeout(function(){t.getMap(),t._recalculateHeight()},20)},getMap:function(){for(var t={},e=0;e<this.moviehot.length;e++)t[this.moviehot[e].date]?t[this.moviehot[e].date].push(e):t[this.moviehot[e].date]=[e];this.indexMap=t},_recalculateHeight:function(){var t=this;this.listHeight=[];var e=this.$refs.group,s=0,i=Q()(this.indexMap);this.listHeight.push(s),i.forEach(function(i,a){i.forEach(function(t){s+=e[t].clientHeight}),t.listHeight.push(s)}),this.$emit("getHeight",this.listHeight),this.$emit("getMap",G()(this.indexMap))},replaceUrl:function(t){return"https://images.weserv.nl/?url="+t.replace(/http\w{0,1}:\/\//,"")}},components:{loading:X,star:K}},et={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"movielist"},[s("ul",t._l(t.moviehot,function(e,i){return s("li",{ref:"group",refInFor:!0,on:{click:function(s){t.selectItem(e)}}},[t.timeData&&!t.dateEqual(i)?s("div",{staticClass:"date"},[t._v(t._s(e.date))]):t._e(),t._v(" "),s("div",{staticClass:"item"},[s("div",{staticClass:"info-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.replaceUrl(e.image),expression:"replaceUrl(item.image)"}],attrs:{alt:"",height:"120",width:"80"}})]),t._v(" "),s("div",{staticClass:"info-desc"},[s("p",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),s("star",{staticClass:"stars",attrs:{showScore:t.showScore,size:24,score:e.rating}}),t._v(" "),s("div",{staticClass:"director"},[t._v("导演："+t._s(e.director))]),t._v(" "),s("div",{staticClass:"casts"},[t._v("主演："+t._s(e.casts))]),t._v(" "),s("div",{staticClass:"hasWatched"},[t._v(t._s(e.collectCount)+" 人看过")])],1)])])})),t._v(" "),t.moviehot.length?s("loading",{attrs:{hasMore:t.hasMore}}):t._e()],1)},staticRenderFns:[]};var st=s("Z0/y")(tt,et,!1,function(t){s("VUVe")},"data-v-4b959f80",null).exports,it={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"go-search",on:{click:this.goSearch}},[this._m(0),this._v(" "),this._m(1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{staticClass:"src",attrs:{src:s("8VTl"),alt:"",width:"35",height:"35"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search-content"},[e("span",{staticClass:"icon-search"}),this._v(" "),e("span",[this._v("电影/影人/标签")])])}]};var at=s("Z0/y")({methods:{goSearch:function(){this.$emit("search")}}},it,!1,function(t){s("x3N0")},"data-v-4bd29bb3",null).exports,nt=s("9rMa"),rt={data:function(){return{moviehot:[],movieshow:[],currentIndex:0,hotData:!0,showData:!0,hotDataIndex:0,showDataIndex:0,switches:[{name:"正在热映"},{name:"即将上映"}],pullup:!0,timeData:!0,loadingFlag:!0,scrollY:-1,diff:-1,fullScreen:!0,scrollIndex:0}},created:function(){this._getMovieShow(),this.probeType=3,this.listenScroll=!0,this.listHeight=[],this.scrollMap=[]},computed:{fixedTitle:function(){return this.scrollY>0?"":this.scrollMap[this.scrollIndex]?this.scrollMap[this.scrollIndex]:""}},methods:g()({},Object(nt.d)({setMovie:"SET_MOVIE"}),{selectMovie:function(t){this.$router.push({path:"/moiveshow/"+t.id}),this.setMovie(t)},goSearch:function(){this.$router.push({path:"/search"})},_getMovieShow:function(){var t=this;I(this.hotDataIndex,10).then(function(e){0===e.start&&(t.$emit("hasLoad"),t.moviehot=j(e.subjects),t._checkMore(e))})},switchItem:function(t){var e=this;this.currentIndex=t,1===t&&(this.$refs.list.recalculate(),this.$refs.movieshow.scrollTo(0,this.scrollY)),setTimeout(function(){e.$refs.moviehot.refresh(),e.$refs.movieshow.refresh()},20),1!==t||this.movieshow.length||M(this.showDataIndex,10).then(function(t){e.movieshow=j(t.subjects),e._checkMore(t)})},loadMore:function(){var t=this;if(this.loadingFlag)if(this.loadingFlag=!1,0===this.currentIndex){if(!this.hotData)return void(this.loadingFlag=!0);this.hotDataIndex+=10,I(this.hotDataIndex,10).then(function(e){t.moviehot=t.moviehot.concat(j(e.subjects)),t._checkMore(e),t.loadingFlag=!0})}else{if(!this.showData)return void(this.loadingFlag=!0);this.showDataIndex+=10,M(this.showDataIndex,10).then(function(e){t.movieshow=t.movieshow.concat(j(e.subjects)),t._checkMore(e),t.loadingFlag=!0})}},_checkMore:function(t){(!t.subjects.length||t.start+t.count>=t.total)&&(0===this.currentIndex?this.hotData=!1:this.showData=!1,this.loadingFlag=!0)},scroll:function(t){this.scrollY=t.y},getHeight:function(t){this.listHeight=t},getMap:function(t){this.scrollMap=t}}),watch:{scrollY:function(t,e){if(t||(this.scrollY=e),0!==this.listHeight.length&&0!==this.scrollMap.length)if(t>0)this.scrollIndex=0;else{for(var s=0;s<this.listHeight.length;s++){var i=this.listHeight[s],a=this.listHeight[s+1];if(-t>=i&&-t<a)return this.scrollIndex=s,void(this.diff=a+t)}this.scrollIndex=this.listHeight.length-2}},diff:function(t){var e=this,s=t>0&&t<30?t-30:0;this.fixedtop!==s&&(this.fixedtop=s,this.$nextTick(function(){e.$refs.fixed.style.transform="translate3d(0,"+s+"px,0)"}))}},components:{switches:A,scroll:N,movielist:st,loading:X,search:at}},ot={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"moiveshow"},[s("search",{on:{search:t.goSearch}}),t._v(" "),s("switches",{attrs:{switches:t.switches,currentIndex:t.currentIndex},on:{switch:t.switchItem}}),t._v(" "),s("div",{staticClass:"list-wrapper"},[s("scroll",{directives:[{name:"show",rawName:"v-show",value:0===t.currentIndex,expression:"currentIndex===0"}],ref:"moviehot",staticClass:"list-scroll",attrs:{data:t.moviehot,pullup:t.pullup},on:{scrollToEnd:t.loadMore}},[s("div",{staticClass:"list-inner"},[s("movielist",{attrs:{moviehot:t.moviehot,hasMore:t.hotData},on:{select:t.selectMovie}})],1)]),t._v(" "),s("scroll",{directives:[{name:"show",rawName:"v-show",value:1===t.currentIndex,expression:"currentIndex===1"}],ref:"movieshow",staticClass:"list-scroll",attrs:{data:t.movieshow,pullup:t.pullup,probeType:t.probeType,listenScroll:t.listenScroll},on:{scrollToEnd:t.loadMore,scroll:t.scroll}},[s("div",{staticClass:"list-inner"},[s("movielist",{ref:"list",attrs:{moviehot:t.movieshow,hasMore:t.showData,timeData:t.timeData},on:{getHeight:t.getHeight,getMap:t.getMap,select:t.selectMovie}})],1)]),t._v(" "),s("loading",{directives:[{name:"show",rawName:"v-show",value:1===t.currentIndex&&!t.movieshow.length||0===t.currentIndex&&!t.moviehot.length,expression:"currentIndex===1 && !movieshow.length || currentIndex===0 && !moviehot.length"}],attrs:{fullScreen:t.fullScreen}})],1),t._v(" "),t.fixedTitle?s("div",{directives:[{name:"show",rawName:"v-show",value:1===t.currentIndex,expression:"currentIndex===1"}],ref:"fixed",staticClass:"list-fixed"},[s("h1",{staticClass:"fixed-title"},[t._v(t._s(t.fixedTitle))])]):t._e(),t._v(" "),s("router-view")],1)},staticRenderFns:[]};var ct=s("Z0/y")(rt,ot,!1,function(t){s("OVyN")},"data-v-16cf8fdb",null).exports,lt=s("xSur"),ut=s.n(lt),ht=function(){function t(){F()(this,t);var e=new Date;this.nowYear=e.getFullYear(),this.nowMonth=e.getMonth(),this.nowDay=e.getDate(),this.nowDayOfWeek=e.getDay(),this.nowDayOfWeek=0===this.nowDayOfWeek?7:this.nowDayOfWeek}return ut()(t,[{key:"formatDate",value:function(t){return t.getMonth()+1+"月"+t.getDate()+"日"}},{key:"getWeekStartDate",value:function(){var t=new Date(this.nowYear,this.nowMonth,this.nowDay-this.nowDayOfWeek+1);return this.formatDate(t)}},{key:"getWeekEndDate",value:function(){var t=new Date(this.nowYear,this.nowMonth,this.nowDay+(6-this.nowDayOfWeek+1));return this.formatDate(t)}}]),t}();function vt(t,e){var s=C()({},x,{start:t,count:e});return k.a.get("/v2/movie/top250",{params:s}).then(function(t){return w.a.resolve(t.data)}).catch(function(t){console.log(t)})}function dt(){var t=C()({},x);return k.a.get("/v2/movie/us_box",{params:t}).then(function(t){return w.a.resolve(t.data)}).catch(function(t){console.log(t)})}function mt(){var t=C()({},x);return k.a.get("/v2/movie/weekly",{params:t}).then(function(t){return w.a.resolve(t.data)}).catch(function(t){console.log(t)})}function ft(){var t=C()({},x);return k.a.get("/v2/movie/new_movies",{params:t}).then(function(t){return w.a.resolve(t.data)}).catch(function(t){console.log(t)})}var pt={data:function(){return{fullScreen:!0,weekDate:"",hasLoad:!1,rankImgUrl:[],urlList:[]}},created:function(){this._getBriefRank(),this._getWeekDate()},activated:function(){this.$refs.scroll.refresh()},methods:{goSearch:function(){this.$router.push({path:"/search"})},getUrlList:function(t){var e=[];t.forEach(function(t,s){var i=t.subjects.slice(0,3);e[s]=[],i.forEach(function(t){e[s].push(t.subject?t.subject.images.medium:t.images.medium)})}),e.forEach(function(t){var e=t[0];t[0]=t[1],t[1]=e}),this.urlList=e},_getBriefRank:function(){var t=this;w.a.all([vt(0,3),mt(),dt(),ft()]).then(function(e){t.$emit("hasLoad"),t.hasLoad=!0,t.getUrlList(e)})},_getWeekDate:function(){var t=new ht;this.weekDate=t.getWeekStartDate()+"-"+t.getWeekEndDate()},replaceUrl:function(t){return"https://images.weserv.nl/?url="+t.replace(/http\w{0,1}:\/\//,"")}},components:{search:at,scroll:N,loading:X}},gt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rank"},[s("search",{on:{search:t.goSearch}}),t._v(" "),s("scroll",{ref:"scroll",staticClass:"rank-list",attrs:{data:t.urlList}},[s("div",{staticClass:"scroll-wrapper"},[t.hasLoad?s("div",{staticClass:"scroll-content"},[s("h1",{staticClass:"title"},[t._v("精选榜单")]),t._v(" "),s("router-link",{staticClass:"top250 rank-item",attrs:{tag:"div",to:"/rank/top250"}},[s("div",{staticClass:"desc"},[s("h2",{staticClass:"name"},[t._v("豆瓣 Top250")]),t._v(" "),s("span",{staticClass:"brief"},[t._v("8分以上好电影")])]),t._v(" "),s("div",{staticClass:"rank-img"},t._l(t.urlList[0],function(e,i){return s("img",{class:{top:1===i},attrs:{src:t.replaceUrl(e),alt:""}})}))]),t._v(" "),s("router-link",{staticClass:"weekly rank-item",attrs:{tag:"div",to:"/rank/weekly"}},[s("div",{staticClass:"desc"},[s("h2",{staticClass:"name"},[t._v("本周口碑榜")]),t._v(" "),s("span",{staticClass:"brief"},[t._v(t._s(t.weekDate))])]),t._v(" "),s("div",{staticClass:"rank-img"},t._l(t.urlList[1],function(e,i){return s("img",{class:{top:1===i},attrs:{src:t.replaceUrl(e),alt:""}})}))]),t._v(" "),s("router-link",{staticClass:"new-movie rank-item",attrs:{tag:"div",to:"/rank/newmovie"}},[s("div",{staticClass:"desc"},[s("h2",{staticClass:"name"},[t._v("新片榜")]),t._v(" "),s("span",{staticClass:"brief"},[t._v(t._s(t.weekDate))])]),t._v(" "),s("div",{staticClass:"rank-img"},t._l(t.urlList[2],function(e,i){return s("img",{class:{top:1===i},attrs:{src:t.replaceUrl(e),alt:""}})}))]),t._v(" "),s("router-link",{staticClass:"us-box rank-item",attrs:{tag:"div",to:"/rank/usbox"}},[s("div",{staticClass:"desc"},[s("h2",{staticClass:"name"},[t._v("北美票房榜")]),t._v(" "),s("span",{staticClass:"brief"},[t._v("票房最高排名")])]),t._v(" "),s("div",{staticClass:"rank-img"},t._l(t.urlList[3],function(e,i){return s("img",{class:{top:1===i},attrs:{src:t.replaceUrl(e),alt:""}})}))])],1):t._e()])]),t._v(" "),t.hasLoad?t._e():s("loading",{attrs:{fullScreen:t.fullScreen}}),t._v(" "),s("router-view")],1)},staticRenderFns:[]};var _t=s("Z0/y")(pt,gt,!1,function(t){s("6N/Q")},"data-v-423d513e",null).exports,wt={data:function(){return{showScore:!0}},props:{bottom:{type:Boolean,default:!1},rankItems:{type:Array,default:[]},page:{type:Number,default:0},hasMore:{type:Boolean,default:!1},needRank:{type:Boolean,default:!0},needLoading:{type:Boolean,default:!0}},methods:{selectItem:function(t){event._constructed&&this.$emit("select",t)},replaceUrl:function(t){return"https://images.weserv.nl/?url="+t.replace(/http\w{0,1}:\/\//,"")}},components:{loading:X,star:K}},bt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ranklist"},[s("ul",{class:{bottom:t.bottom}},t._l(t.rankItems,function(e,i){return s("li",{staticClass:"rank-item",class:{compact:!t.needRank},on:{click:function(s){s.stopPropagation(),t.selectItem(e,s)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.needRank,expression:"needRank"}],staticClass:"rank-rating"},[s("div",{staticClass:"line"}),t._v(" "),s("span",{staticClass:"text"},[t._v(t._s(50*t.page+(i+1)))])]),t._v(" "),s("div",{staticClass:"rank-info",class:{compact:!t.needRank}},[s("div",{staticClass:"info-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.replaceUrl(e.image),expression:"replaceUrl(item.image)"}],attrs:{alt:"",height:"100",width:"70"}})]),t._v(" "),s("div",{staticClass:"info-desc"},[s("p",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),s("star",{attrs:{size:24,score:e.rating,showScore:t.showScore}}),t._v(" "),s("div",{staticClass:"director"},[t._v("导演："+t._s(e.director))]),t._v(" "),s("div",{staticClass:"casts"},[t._v("主演："+t._s(e.casts))])],1)])])})),t._v(" "),s("loading",{directives:[{name:"show",rawName:"v-show",value:t.rankItems.length&&t.needLoading,expression:"rankItems.length && needLoading"}],attrs:{hasMore:t.hasMore}})],1)},staticRenderFns:[]};var Ct=s("Z0/y")(wt,bt,!1,function(t){s("X7+o")},"data-v-88148506",null).exports,yt={props:{celebrities:{type:Array,default:[]}},methods:{selectItem:function(t){this.$emit("select",t)},replaceUrl:function(t){return"https://images.weserv.nl/?url="+t.replace(/http\w{0,1}:\/\//,"")}}},kt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"celebritylist"},[s("ul",t._l(t.celebrities,function(e){return s("li",{staticClass:"celebrity-item",on:{click:function(s){t.selectItem(e.id,s)}}},[s("div",{staticClass:"image"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.replaceUrl(e.image),expression:"replaceUrl(item.image)"}],attrs:{alt:"",height:"120",width:"80"}})]),t._v(" "),s("div",{staticClass:"desc"},[s("p",{staticClass:"title"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"works"},[t._v("代表作："+t._s(e.works))])])])}))])},staticRenderFns:[]};var xt=s("Z0/y")(yt,kt,!1,function(t){s("INY0")},"data-v-c7602e28",null).exports,It={data:function(){return{currentIndex:0,needLoading:!1,needRank:!1,switches:[{name:"想看的电影"},{name:"看过的电影"},{name:"收藏的影人"}],itemLists:[],itemLength:0}},watch:{wantedMovies:function(t){0===this.currentIndex&&(this.itemLists=t,this.itemLength=t.length)},watchedMovies:function(t){1===this.currentIndex&&(this.itemLists=t,this.itemLength=t.length)},collected:function(t){2===this.currentIndex&&(this.itemLists=t,this.itemLength=t.length)}},created:function(){this.itemLists=this.wantedMovies,this.itemLength=this.wantedMovies.length,this.$emit("hasLoad")},computed:g()({},Object(nt.c)(["wantedMovies","watchedMovies","collected"])),activated:function(){var t=this;this.$nextTick(function(){t.$refs.scroll.refresh()})},methods:g()({},Object(nt.d)({setMovie:"SET_MOVIE",setCelebrity:"SET_CELEBRITY_ID"}),{switchTab:function(t){var e=this;switch(this.currentIndex=t,t){case 0:this.itemLists=this.wantedMovies;break;case 1:this.itemLists=this.watchedMovies;break;case 2:this.itemLists=this.collected}this.itemLength=this.itemLists.length,this.$nextTick(function(){e.$refs.scroll.scrollTo(0,0),e.$refs.scroll.refresh()})},selectMovie:function(t){this.setMovie(t),this.$router.push({path:"/movieshow/"+t.id})},selectCelebrity:function(t){this.setCelebrity(t),this.$router.push({path:"/clebrity/"+t})}}),components:{switches:A,scroll:N,ranklist:Ct,celebritylist:xt}},Mt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-cetner"},[t._m(0),t._v(" "),s("switches",{attrs:{switches:t.switches,currentIndex:t.currentIndex},on:{switch:t.switchTab}}),t._v(" "),s("scroll",{ref:"scroll",staticClass:"switch-item",attrs:{data:t.itemLists}},t._l(t.switches,function(e,i){return i===t.currentIndex?s("div",{staticClass:"user-item"},[s("div",{directives:[{name:"show",rawName:"v-show",value:0===i,expression:"index===0"}],staticClass:"movie-num"},[t._v("总共有："+t._s(t.itemLength)+"部电影想看")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1===i,expression:"index===1"}],staticClass:"movie-num"},[t._v("总共看过："+t._s(t.itemLength)+"部电影")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2===i,expression:"index===2"}],staticClass:"movie-num"},[t._v("总共收藏："+t._s(t.itemLength)+"个影人")]),t._v(" "),2!==i?s("ranklist",{attrs:{rankItems:t.itemLists,needLoading:t.needLoading,needRank:t.needRank},on:{select:t.selectMovie}}):s("celebritylist",{attrs:{celebrities:t.itemLists},on:{select:t.selectCelebrity}})],1):t._e()}))],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"user"},[e("div",{staticClass:"login"},[this._v("登录")]),this._v(" "),e("div",{staticClass:"register"},[this._v("注册")]),this._v(" "),e("div",{staticClass:"avatar"},[e("img",{attrs:{src:s("7TlL"),alt:"",width:"70",height:"70"}})]),this._v(" "),e("div",{staticClass:"name"},[this._v("这里是用户名")])])}]};var Tt=s("Z0/y")(It,Mt,!1,function(t){s("MvV+")},"data-v-7b647ea8",null).exports,St={data:function(){return{query:""}},props:{placeholder:{type:String,default:"搜索电影 / 影人"},tagSearch:{type:Boolean,default:!1}},methods:{back:function(){this.$router.back()},setQuery:function(t){this.query=t},clear:function(){this.query=""},blur:function(){this.$refs.query.blur()},focus:function(){this.$refs.query.focus()},focusInput:function(){this.$emit("focusInput")},blurInput:function(){this.$emit("blurInput")}},watch:{query:function(t){var e=this;this.tagSearch?this.$emit("query",t):(this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.$emit("query",t)},200))}}},At={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"searchBox"},[s("div",{staticClass:"box"},[s("i",{staticClass:"icon-search"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"query",staticClass:"box-item",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.query},on:{focus:t.focusInput,blur:t.blurInput,input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:t.query,expression:"query"}],staticClass:"icon-close",on:{click:t.clear}})]),t._v(" "),s("span",{staticClass:"cancel",on:{click:t.back}},[t._v("取消")])])},staticRenderFns:[]};var Rt=s("Z0/y")(St,At,!1,function(t){s("eO/K")},"data-v-726c8820",null).exports,Dt={data:function(){return{showFalg:!1}},props:{text:{type:String,default:""},cancelbtnText:{type:String,default:"取消"},confirmbtnText:{type:String,default:"确定"}},methods:{show:function(){this.showFalg=!0},hide:function(){this.showFalg=!1},cancel:function(){this.hide(),this.$emit("cancel")},confirm:function(){this.hide(),this.$emit("confirm")}}},Et={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showFalg,expression:"showFalg"}],staticClass:"confirm",on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"confirm-wrapper"},[s("div",{staticClass:"confirm-content"},[s("p",{staticClass:"text"},[t._v(t._s(t.text))]),t._v(" "),s("div",{staticClass:"operate"},[s("div",{staticClass:"operate-btn left",on:{click:t.cancel}},[t._v(t._s(t.cancelbtnText))]),t._v(" "),s("div",{staticClass:"operate-btn",on:{click:t.confirm}},[t._v(t._s(t.confirmbtnText))])])])])])])},staticRenderFns:[]};var Nt=s("Z0/y")(Dt,Et,!1,function(t){s("fEGK")},"data-v-11cf76b5",null).exports;function Bt(t,e,s){var i=C()({},x,{q:t,start:e,count:s});return k.a.get("/v2/movie/search",{params:i}).then(function(t){return w.a.resolve(t.data)}).catch(function(t){console.log(t)})}function Ft(t,e,s){var i=C()({},x,{tag:t,start:e,count:s});return k.a.get("/v2/movie/search",{params:i}).then(function(t){return w.a.resolve(t.data)}).catch(function(t){console.log(t)})}var Lt={data:function(){return{result:[],beforeScroll:!0,searchIndex:0,dataFn:null,noResult:!1,fullScreen:!0,loadingFlag:!0,pullup:!0,hasMore:!0,oddData:[],evenData:[]}},props:{query:{type:String,default:""},tagSearch:{type:Boolean,default:!1}},created:function(){this._selectType(),this.search()},watch:{query:function(){this._selectType(),this.query&&(this.result=[],this.search())}},methods:g()({},Object(nt.d)({setMovie:"SET_MOVIE"}),{toTop:function(){this.$refs.suggest.scrollTo(0,0,1e3)},search:function(){var t=this;this.result=[],this.searchIndex=0,this.loadingFlag=!0,this.hasMore=!0,this.dataFn(this.query,this.searchIndex,10).then(function(e){var s=e.title.split('"');t.query===s[1]&&(e.subjects.length?t.noResult=!1:t.noResult=!0,t.result=W(e.subjects),t.result.findIndex(function(e,s){s%2!=1?t.evenData.push(e):t.oddData.push(e)}),t._checkMore(e))})},searchMore:function(){var t=this;this.loadingFlag&&(this.loadingFlag=!1,this.hasMore&&(this.searchIndex+=10,this.dataFn(this.query,this.searchIndex,10).then(function(e){t.result=t.result.concat(W(e.subjects)),t.result.findIndex(function(e,s){s%2!=1?t.evenData.push(e):t.oddData.push(e)}),t.loadingFlag=!0,t._checkMore(e)})))},getRating:function(t){return 0===t?"":t+"分"},_checkMore:function(t){(!t.subjects.length||t.start+t.count>=t.total)&&(this.hasMore=!1)},listScroll:function(){this.$emit("listScroll")},selectItem:function(t){this.$router.push({path:"/moiveshow/"+t.id}),this.setMovie(t),this.$emit("select")},_selectType:function(){this.dataFn=this.tagSearch?Ft:Bt},replaceUrl:function(t){return"https://images.weserv.nl/?url="+t.replace(/http\w{0,1}:\/\//,"")}}),components:{scroll:N,loading:X,star:K}},jt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"suggest-wrapper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.result.length,expression:"result.length"}],staticClass:"to-top",on:{click:t.toTop}},[s("span",[t._v("返回顶部")])]),t._v(" "),s("scroll",{ref:"suggest",staticClass:"suggest",attrs:{data:t.result,pullup:t.pullup,beforeScroll:t.beforeScroll},on:{scrollToEnd:t.searchMore,beforeScroll:t.listScroll}},[s("div",{staticClass:"suggest-list clearfix"},[s("div",{staticClass:"content-box clearfix"},[s("div",{staticClass:"suggest-left"},t._l(t.evenData,function(e){return s("div",{staticClass:"suggest-item",on:{click:function(s){t.selectItem(e)}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.replaceUrl(e.image),expression:"replaceUrl(item.image)"}],attrs:{alt:""}}),t._v(" "),s("div",{staticClass:"item-info"},[s("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"casts"},[t._v(t._s(e.casts))]),t._v(" "),s("star",{staticClass:"star",attrs:{size:24,score:e.rating}}),t._v(" "),s("span",{staticClass:"rating"},[t._v(t._s(t.getRating(e.rating)))])],1)])})),t._v(" "),s("div",{staticClass:"suggest-right"},t._l(t.oddData,function(e){return s("div",{staticClass:"suggest-item",on:{click:function(s){t.selectItem(e)}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.replaceUrl(e.image),expression:"replaceUrl(item.image)"}],attrs:{alt:""}}),t._v(" "),s("div",{staticClass:"item-info"},[s("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"casts"},[t._v(t._s(e.casts))]),t._v(" "),s("star",{staticClass:"star",attrs:{size:24,score:e.rating}}),t._v(" "),s("span",{staticClass:"rating"},[t._v(t._s(t.getRating(e.rating)))])],1)])}))]),t._v(" "),t.result.length?s("loading",{attrs:{hasMore:t.hasMore}}):t._e()],1),t._v(" "),t.noResult?s("div",{staticClass:"no-result"},[t._v("暂无搜索结果数据...")]):t._e(),t._v(" "),t.result.length||t.noResult?t._e():s("loading",{attrs:{fullScreen:t.fullScreen}})],1)],1)},staticRenderFns:[]};var Ut=s("Z0/y")(Lt,jt,!1,function(t){s("ir+1")},"data-v-113d0f04",null).exports,Wt={props:{searches:{type:Array,default:[]}},methods:{selectItem:function(t){this.$emit("select",t)},deleteOne:function(t){this.$emit("delete",t)}}},Yt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"historylist"},[s("ul",t._l(t.searches,function(e){return s("li",{key:e,staticClass:"history-item",on:{click:function(s){t.selectItem(e)}}},[s("div",{staticClass:"text"},[t._v(t._s(e))]),t._v(" "),s("div",{staticClass:"icon",on:{click:function(s){s.stopPropagation(),t.deleteOne(e)}}},[s("i",{staticClass:"icon-close"})])])})),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.searches.length,expression:"!searches.length"}],staticClass:"no-history"},[t._v("还没有搜索历史...")])])},staticRenderFns:[]};var zt=s("Z0/y")(Wt,Yt,!1,function(t){s("R663")},"data-v-48fc0e50",null).exports,Zt={name:"search",data:function(){return{query:"",tagSearch:!1,doubanTag:["剧情","爱情","喜剧","科幻","动作","悬疑","治愈","青春","文艺","经典","豆瓣高分"],beforeScroll:!0,tabFlag:!0}},watch:{query:function(t){var e=this;t||setTimeout(function(){e.$refs.shortcut.refresh()},20)}},computed:g()({},Object(nt.c)(["searchHistory"])),mounted:function(){var t=this;this.$nextTick(function(){t.focusInput()})},methods:g()({},Object(nt.b)(["saveSearchHistory","deleteSearchHistory","clearSearchHistory"]),{onQueryChange:function(t){this.query=t},back:function(){this.tagSearch=!1,this.query=""},tagQuery:function(t){this.tagSearch=!0,this.query=t},listenScroll:function(){this.blurInput()},blurInput:function(){this.$refs.searchBox.blur()},focusInput:function(){this.$refs.searchBox.focus()},showConfirm:function(){this.$refs.confirm.show()},saveSearch:function(){this.tagSearch||this.saveSearchHistory(this.query)},addQuery:function(t){this.$refs.searchBox.setQuery(t)},deleteOne:function(t){this.deleteSearchHistory(t)},focusInputs:function(){this.tabFlag=!1},blurInputs:function(){this.tabFlag=!0}}),components:{searchBox:Rt,scroll:N,confirm:Nt,suggest:Ut,historylist:zt,tab:h}},Ot={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"search-move"}},[s("div",{staticClass:"search"},[s("searchBox",{directives:[{name:"show",rawName:"v-show",value:!t.tagSearch,expression:"!tagSearch"}],ref:"searchBox",attrs:{tagSearch:t.tagSearch},on:{query:t.onQueryChange,focusInput:t.focusInputs,blurInput:t.blurInputs}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.tagSearch,expression:"tagSearch"}],staticClass:"fixed-title"},[s("span",{staticClass:"back",on:{click:t.back}},[s("i",{staticClass:"icon-back"})]),t._v(" "),s("span",{staticClass:"type"},[s("span",[t._v("关于"+t._s(t.query)+"的电影")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.query,expression:"!query"}],staticClass:"shortcut-wrapper"},[s("div",{staticClass:"tag-list"},[s("h2",{staticClass:"search-title"},[t._v("搜索关键词")]),t._v(" "),s("div",{staticClass:"douban-tag"},t._l(t.doubanTag,function(e){return s("span",{staticClass:"tag-item",on:{click:function(s){t.tagQuery(e)}}},[t._v(t._s(e))])}))]),t._v(" "),s("div",{staticClass:"search-history"},[s("h1",{staticClass:"title"},[s("span",{staticClass:"text"},[t._v("搜索历史")]),t._v(" "),s("span",{staticClass:"clear",on:{click:t.showConfirm}},[s("i",{staticClass:"icon-bin"})])]),t._v(" "),s("scroll",{ref:"shortcut",staticClass:"shortcut",attrs:{beforeScroll:t.beforeScroll},on:{beforeScroll:t.listenScroll}},[s("div",[s("historylist",{attrs:{searches:t.searchHistory},on:{select:t.addQuery,delete:t.deleteOne}})],1)])],1)]),t._v(" "),t.query?s("div",{ref:"searchResult",staticClass:"search-result",class:{"tag-search":t.tagSearch}},[s("suggest",{ref:"suggest",attrs:{tagSearch:t.tagSearch,query:t.query},on:{listScroll:t.blurInput,select:t.saveSearch}})],1):t._e(),t._v(" "),s("confirm",{ref:"confirm",attrs:{text:"是否清空所有搜索历史",confirmbtnText:"清空"},on:{confirm:t.clearSearchHistory}}),t._v(" "),s("tab",{attrs:{tabFlag:t.tabFlag}})],1)])},staticRenderFns:[]};var Ht=s("Z0/y")(Zt,Ot,!1,function(t){s("/a+k")},"data-v-3d1cb578",null).exports;function Gt(t){var e="/v2/movie/subject/"+t,s=C()({},x);return k.a.get(e,{params:s}).then(function(t){return w.a.resolve(t.data)}).catch(function(t){console.log(t)})}function $t(t,e,s){var i="/v2/movie/subject/"+t+"/reviews",a=C()({},x,{start:e,count:s});return k.a.get(i,{params:a}).then(function(t){return w.a.resolve(t.data)}).catch(function(t){console.log(t)})}function Qt(t,e,s){var i="/v2/movie/subject/"+t+"/comments",a=C()({},x,{start:e,count:s});return k.a.get(i,{params:a}).then(function(t){return w.a.resolve(t.data)}).catch(function(t){console.log(t)})}var Jt={data:function(){return{eventPassthrough:"vertical",scrollX:!0,needNullStar:!0,wantedText:"想看",watchedText:"看过 ☆☆☆☆☆",wanted:!1,hasWacthed:!1,click:!1}},props:{moviedetail:{type:Object,default:{}}},mounted:function(){var t=this;this.$nextTick(function(){t._initPic(),t.$refs.scroll.refresh()})},computed:g()({},Object(nt.c)(["movie","watchedMovies","wantedMovies"]),{tag:function(){var t=this.moviedetail.year,e=this.moviedetail.genres.join(" / ");return t+" / "+e},pubdate:function(){for(var t="",e=this.moviedetail.pubdates,s=0;s<e.length;s++)if(-1===e[s].indexOf("电影节")&&(t=e[s]),e[s].indexOf("中国大陆")>-1){t=e[s];break}return t||(t="暂无上映信息"),t},durations:function(){return this.moviedetail.durations[0]},rating:function(){var t=this.moviedetail.rating.average;return 0!==t},allCasts:function(){var t=[];this.moviedetail.directors.forEach(function(e,s){e.isDirector=!0,null===e.avatars&&t.push(s)});for(var e=t.length;e>0;e--)this.moviedetail.directors.splice(t[e-1],1);t=[],this.moviedetail.casts.forEach(function(e,s){null===e.avatars&&t.push(s)});for(var s=t.length;s>0;s--)this.moviedetail.casts.splice(t[s-1],1);return this.moviedetail.directors.concat(this.moviedetail.casts)}}),methods:g()({},Object(nt.b)(["markWatchedMovie","markWantedMovie"]),{normalizeScore:function(){return this.moviedetail.rating.average.toString().length<2?this.moviedetail.rating.average+".0":this.moviedetail.rating.average},saveWantedMovie:function(){var t=this;this.markWantedMovie(this.movie);var e=this.wantedMovies.findIndex(function(e){return e.id===t.movie.id});this.wantedText=e>-1?"已想看":"想看"},isWanted:function(t){return this.wantedMovies.findIndex(function(e){return e.id===t})>-1},saveWatchedMovie:function(){var t=this;this.markWatchedMovie(this.movie),this.watchedMovies.findIndex(function(e){return e.id===t.movie.id})>-1?(this.hasWacthed=!0,this.watchedText="已看过"):(this.hasWacthed=!1,this.watchedText="看过 ☆☆☆☆☆")},isWatched:function(t){return this.watchedMovies.findIndex(function(e){return e.id===t})>-1&&(this.hasWacthed=!0,!0)},_initPic:function(){var t=98*this.allCasts.length-8;this.$refs.content.style.width=t+"px"},selectCelebrity:function(t){event._constructed&&this.$emit("selectCelebrity",t)},replaceUrl:function(t){return"https://images.weserv.nl/?url="+t.replace(/http\w{0,1}:\/\//,"")}}),components:{scroll:N,star:K}},Vt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"movieinfo"},[i("div",{staticClass:"overall"},[i("div",{staticClass:"desc"},[i("h2",{staticClass:"title"},[t._v(t._s(t.moviedetail.title))]),t._v(" "),i("span",{staticClass:"original-title"},[t._v("电影原名："+t._s(t.moviedetail.original_title))]),t._v(" "),i("span",{staticClass:"duration"},[t._v("电影片长："+t._s(t.durations))]),t._v(" "),i("span",{staticClass:"tag"},[t._v("电影类型："+t._s(t.tag))]),t._v(" "),i("span",{staticClass:"pubdate"},[t._v("上映时间："+t._s(t.pubdate))])]),t._v(" "),i("div",{staticClass:"rank"},[i("span",{staticClass:"origin"},[t._v("豆瓣评分")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.rating,expression:"rating"}],staticClass:"rating"},[t._v(t._s(t.normalizeScore()))]),t._v(" "),i("star",{staticClass:"star",attrs:{size:24,score:t.moviedetail.rating.average,needNullStar:t.needNullStar}}),t._v(" "),i("span",{staticClass:"num"},[t._v(t._s(t.moviedetail.ratings_count)+" 人")])],1)]),t._v(" "),i("div",{staticClass:"operate"},[i("div",{staticClass:"want-watch",class:{wanted:t.isWanted(t.moviedetail.id)},domProps:{textContent:t._s(t.wantedText)},on:{click:t.saveWantedMovie}}),t._v(" "),i("div",{staticClass:"has-watched",class:{wacthed:t.isWatched(t.moviedetail.id)},on:{click:t.saveWatchedMovie}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.hasWacthed,expression:"hasWacthed"}],attrs:{src:s("T/KO"),alt:"",width:"25",height:"25"}}),t._v("\n      "+t._s(t.watchedText)+"\n    ")])]),t._v(" "),i("div",{staticClass:"summary"},[i("h2",{staticClass:"title"},[t._v("剧情简介")]),t._v(" "),i("p",{staticClass:"content"},[t._v(t._s(t.moviedetail.summary))])]),t._v(" "),i("h2",{staticClass:"casts-content-title"},[t._v("影人")]),t._v(" "),i("scroll",{ref:"scroll",staticClass:"casts",attrs:{scrollX:this.scrollX,eventPassthrough:this.eventPassthrough,click:this.click}},[i("div",{ref:"content",staticClass:"casts-content"},[t._l(t.allCasts,function(e){return i("div",{staticClass:"cast-item",on:{click:function(s){t.selectCelebrity(e.id,s)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.replaceUrl(e.avatars.large),expression:"replaceUrl(item.avatars.large)"}],attrs:{alt:"",width:"90",height:"120"}}),t._v(" "),i("h3",{staticClass:"item-title"},[t._v(t._s(e.name))]),t._v(" "),e.isDirector?i("span",[t._v("导演")]):i("span",[t._v("演员")])])}),t._v(" "),t.allCasts.length?t._e():i("div",{staticClass:"no-result"},[t._v("抱歉，暂无影人信息...")])],2)])],1)},staticRenderFns:[]};var Xt=s("Z0/y")(Jt,Vt,!1,function(t){s("DLAi")},"data-v-de2d2d92",null).exports,Pt={props:{comments:{type:Array,default:[]},commentNum:{type:Number,default:0},needTitle:{type:Boolean,default:!1},hasMore:{type:Boolean,default:!0}},computed:g()({},Object(nt.c)(["favoriteComments"])),methods:g()({},Object(nt.b)(["markComment"]),{needAllComments:function(){this.$emit("needAllComments")},markItem:function(t,e){this.markComment(t),this.favoriteComments.findIndex(function(e){return e===t})>-1?this.comments[e].useful_count++:this.comments[e].useful_count--},isLike:function(t){return this.favoriteComments.findIndex(function(e){return e===t})>-1}}),components:{star:K,loading:X}},qt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"moviecomment"},[t.needTitle?s("div",{staticClass:"type-title"},[t._v("短评"+t._s(t.commentNum)+"条")]):t._e(),t._v(" "),s("ul",t._l(t.comments,function(e,i){return s("li",{staticClass:"comment-item"},[s("div",{staticClass:"avatar"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.author.avatar,expression:"item.author.avatar"}],attrs:{alt:"",width:"36",height:"36"}})]),t._v(" "),s("div",{staticClass:"content"},[s("h1",{staticClass:"name"},[t._v(t._s(e.author.name))]),t._v(" "),s("star",{attrs:{size:24,score:2*e.rating.value}}),t._v(" "),s("p",{staticClass:"text"},[t._v(t._s(e.content))]),t._v(" "),s("span",{staticClass:"date"},[t._v(t._s(e.created_at))]),t._v(" "),s("div",{staticClass:"useful-count",class:{like:t.isLike(e.id)},on:{click:function(s){t.markItem(e.id,i)}}},[s("i",{staticClass:"icon-thumb_up"}),t._v("\n          "+t._s(e.useful_count)+"\n        ")])],1)])})),t._v(" "),t.needTitle?t._e():s("div",{staticClass:"allComment",on:{click:t.needAllComments}},[s("span",[t._v("全部短评"+t._s(t.commentNum)+"个")])]),t._v(" "),t.needTitle?s("loading",{directives:[{name:"show",rawName:"v-show",value:t.comments.length,expression:"comments.length"}],attrs:{hasMore:t.hasMore}}):t._e()],1)},staticRenderFns:[]};var Kt=s("Z0/y")(Pt,qt,!1,function(t){s("/Hax")},"data-v-b13748a2",null).exports,te={props:{reviews:{type:Array,default:[]},reviewsNum:{type:Number,default:0},needTitle:{type:Boolean,default:!1},hasMore:{type:Boolean,default:!0}},methods:{needAllReviews:function(){this.$emit("needAllReviews")},selectReview:function(t){this.$emit("selectReview",t)}},components:{star:K,loading:X}},ee={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"moviereview"},[t.needTitle?s("div",{staticClass:"type-title"},[t._v("影评"+t._s(t.reviewsNum)+"条")]):t._e(),t._v(" "),s("ul",t._l(t.reviews,function(e){return s("li",{staticClass:"review-item",on:{click:function(s){t.selectReview(e.id)}}},[s("div",{staticClass:"content"},[s("h1",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"user-info"},[s("div",{staticClass:"avatar"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.author.avatar,expression:"item.author.avatar"}],attrs:{alt:"",width:"25",height:"25"}})]),t._v(" "),s("span",{staticClass:"name"},[t._v(t._s(e.author.name))]),t._v(" "),s("star",{attrs:{size:24,score:2*e.rating.value}})],1),t._v(" "),s("p",{staticClass:"desc"},[t._v(t._s(e.summary))])])])})),t._v(" "),t.needTitle?t._e():s("div",{staticClass:"allReview",on:{click:t.needAllReviews}},[s("span",[t._v("全部影评"+t._s(t.reviewsNum)+"个")])]),t._v(" "),t.needTitle?s("loading",{directives:[{name:"show",rawName:"v-show",value:t.reviews.length,expression:"reviews.length"}],attrs:{hasMore:t.hasMore}}):t._e()],1)},staticRenderFns:[]};var se=s("Z0/y")(te,ee,!1,function(t){s("SVk7")},"data-v-4856ddec",null).exports,ie={name:"moviedetail",data:function(){return{moviedetail:{},fullScreen:!0,switches:[{name:"短评"},{name:"影评"}],currentIndex:0,scrollY:-1,imgHeight:-1,changeFix:!1}},created:function(){this._getMoviedetail(),this.probeType=3,this.listenScroll=!0},computed:g()({},Object(nt.c)(["movie"])),methods:g()({},Object(nt.d)({setMovieType:"SET_REVIEWS_TYPE",setReview:"SET_REVIEWS_ID",setCelebrity:"SET_CELEBRITY_ID"}),{back:function(){this.$router.back()},_getMoviedetail:function(){var t=this;this.movie.id?Gt(this.movie.id).then(function(e){t.moviedetail=e}):this.$router.push("/moiveshow")},selectItem:function(t){var e=this;this.currentIndex=t,this.$nextTick(function(){e.$refs.scroll.refresh()})},needAllComments:function(){this.setMovieType("comments"),this.$router.push({path:"/moiveshow/"+this.moviedetail.id+"/comments"})},needAllReviews:function(){this.setMovieType("reviews"),this.$router.push({path:"/moiveshow/"+this.moviedetail.id+"/reviews"})},selectReview:function(t){this.setReview(t),this.$router.push({path:"/moiveshow/"+this.movie.id+"/reviews/"+t})},scroll:function(t){this.scrollY=t.y,-this.imgHeight>t.y&&-1!==this.imgHeight?this.changeFix=!0:this.changeFix=!1},selectCelebrity:function(t){this.setCelebrity(t),this.$router.push({path:"/clebrity/"+t})},replaceUrl:function(t){return"https://images.weserv.nl/?url="+t.replace(/http\w{0,1}:\/\//,"")}}),components:{scroll:N,movieinfo:Xt,switches:A,moviecomment:Kt,moviereview:se,loading:X}},ae={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("div",{staticClass:"moviedetail"},[s("div",{staticClass:"fixed-title"},[s("span",{staticClass:"back",on:{click:t.back}},[s("i",{staticClass:"icon-back"})]),t._v(" "),s("span",{ref:"fixed",staticClass:"type"},[s("span",{directives:[{name:"show",rawName:"v-show",value:!this.changeFix,expression:"!this.changeFix"}],staticClass:"icon"},[s("i",{staticClass:"icon-video-camera"}),t._v("电影\n        ")]),t._v(" "),t.changeFix?s("span",{staticClass:"movie-name",domProps:{textContent:t._s(t.moviedetail.title)}}):t._e()])]),t._v(" "),s("scroll",{ref:"scroll",staticClass:"movie-detail",attrs:{data:t.moviedetail,probeType:t.probeType,listenScroll:t.listenScroll},on:{scroll:t.scroll}},[s("div",{staticClass:"scroll-wrapper"},[t.moviedetail.images?s("div",{staticClass:"scroll-content"},[s("div",{ref:"image",staticClass:"bg-image"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.replaceUrl(t.moviedetail.images.large),expression:"replaceUrl(moviedetail.images.large)"}],attrs:{alt:""}})]),t._v(" "),s("movieinfo",{attrs:{moviedetail:t.moviedetail},on:{selectCelebrity:t.selectCelebrity}}),t._v(" "),s("div",{staticClass:"switch"},[s("switches",{attrs:{switches:t.switches,currentIndex:t.currentIndex},on:{switch:t.selectItem}})],1),t._v(" "),s("moviecomment",{directives:[{name:"show",rawName:"v-show",value:0===t.currentIndex,expression:"currentIndex===0"}],attrs:{comments:t.moviedetail.popular_comments,commentNum:t.moviedetail.comments_count},on:{needAllComments:t.needAllComments}}),t._v(" "),s("moviereview",{directives:[{name:"show",rawName:"v-show",value:1===t.currentIndex,expression:"currentIndex===1"}],attrs:{reviews:t.moviedetail.popular_reviews.slice(0,5),reviewsNum:t.moviedetail.reviews_count},on:{needAllReviews:t.needAllReviews,selectReview:t.selectReview}})],1):t._e()]),t._v(" "),s("loading",{directives:[{name:"show",rawName:"v-show",value:!t.moviedetail.images,expression:"!moviedetail.images"}],attrs:{fullScreen:t.fullScreen}})],1),t._v(" "),s("router-view")],1)])},staticRenderFns:[]};var ne=s("Z0/y")(ie,ae,!1,function(t){s("2QGA")},"data-v-2161e530",null).exports,re={data:function(){return{discussionIndex:0,discussion:[],discussionNum:0,pullup:!0,hasMore:!0,noResult:!1}},created:function(){this.fullScreen=!0,this.needTitle=!0,this.loadingFlag=!0,this._getAlldiscussion()},computed:g()({},Object(nt.c)(["movie","reviewsType"]),{title:function(){return this.movie.title+"的全部"+this.type},type:function(){return"comments"===this.reviewsType?"短评":"影评"}}),methods:g()({},Object(nt.d)({setReview:"SET_REVIEWS_ID"}),{toTop:function(){this.$refs.scroll.scrollTo(0,0,500)},back:function(){this.$router.back()},_getAlldiscussion:function(){var t=this;this.reviewsType||this.$router.push({path:"/moiveshow/"+this.movie.id});var e="comments"===this.reviewsType;this.discussType=e?"comments":"reviews",this.getData=e?Qt:$t,this.getData(this.movie.id,this.discussionIndex,20).then(function(e){t.discussion=e[t.discussType],t.noResult=!t.discussion.length||t.noResult,t.discussionNum=e.total,t._checkMore(e)})},_checkMore:function(t){(!(t.comments?t.comments:t.reviews).length||t.start+t.count>t.total)&&(this.hasMore=!1)},loadMore:function(){var t=this;this.loadingFlag&&this.hasMore&&(this.loadingFlag=!1,this.discussionIndex+=20,this.getData(this.movie.id,this.discussionIndex,20).then(function(e){t.discussion=t.discussion.concat(e[t.discussType]),t._checkMore(e),t.loadingFlag=!0}))},selectReview:function(t){this.setReview(t),this.$router.push({path:"/moiveshow/"+this.movie.id+"/reviews/"+t})}}),components:{scroll:N,moviecomment:Kt,loading:X,moviereview:se}},oe={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"allcomments"},[s("div",{staticClass:"fixed-title"},[s("span",{staticClass:"back",on:{click:t.back}},[s("i",{staticClass:"icon-back"})]),t._v(" "),s("span",{staticClass:"type"},[t._v(t._s(t.title))]),t._v(" "),s("span",{staticClass:"to-top",on:{click:t.toTop}},[s("i",{staticClass:"icon-circle-up"})])]),t._v(" "),s("scroll",{ref:"scroll",staticClass:"all-discuss",attrs:{data:t.discussion,pullup:t.pullup},on:{scrollToEnd:t.loadMore}},[s("div",{staticClass:"discuss-content"},["comments"===t.reviewsType?s("moviecomment",{attrs:{needTitle:t.needTitle,comments:t.discussion,commentNum:t.discussionNum,hasMore:t.hasMore}}):s("moviereview",{attrs:{reviews:t.discussion,reviewsNum:t.discussionNum,needTitle:t.needTitle,hasMore:t.hasMore},on:{selectReview:t.selectReview}})],1),t._v(" "),t.discussion.length||t.noResult?t._e():s("loading",{attrs:{fullScreen:t.fullScreen}}),t._v(" "),t.noResult?s("div",{staticClass:"no-result"},[t._v("暂无评论的数据...")]):t._e()],1),t._v(" "),s("router-view")],1)},staticRenderFns:[]};var ce=s("Z0/y")(re,oe,!1,function(t){s("QIXt")},"data-v-4f595ab4",null).exports,le={data:function(){return{reviewdetail:{},fullScreen:!0}},created:function(){this._getMovieReview(this.reviewId)},computed:g()({},Object(nt.c)(["reviewId"])),methods:{back:function(){this.$router.back()},_getMovieReview:function(t){var e=this;this.reviewId?function(t){var e="/v2/movie/review/"+t,s=C()({},x);return k.a.get(e,{params:s}).then(function(t){return w.a.resolve(t.data)}).catch(function(t){console.log(t)})}(t).then(function(t){e.reviewdetail=t}):this.$router.push("/moiveshow")}},components:{loading:X,scroll:N,star:K}},ue={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"reviewdetail"},[s("div",{staticClass:"fixed-title"},[s("span",{staticClass:"back",on:{click:t.back}},[s("i",{staticClass:"icon-back"})]),t._v(" "),s("span",{staticClass:"type"},[t._v("影评")])]),t._v(" "),s("scroll",{staticClass:"review-detail",attrs:{data:t.reviewdetail}},[s("div",{staticClass:"scroll-wrapper"},[t.reviewdetail.author?s("div",{staticClass:"review-content"},[s("h1",{staticClass:"title"},[t._v(t._s(t.reviewdetail.title))]),t._v(" "),s("div",{staticClass:"author"},[s("div",{staticClass:"avatar"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.reviewdetail.author.avatar,expression:"reviewdetail.author.avatar"}],attrs:{alt:"",height:"36",width:"36"}})]),t._v(" "),s("div",{staticClass:"info"},[s("h2",[s("span",{staticClass:"name"},[t._v(t._s(t.reviewdetail.author.name))]),t._v("的影评\n            ")]),t._v(" "),s("span",{staticClass:"date"},[t._v(t._s(t.reviewdetail.created_at))]),t._v(" "),s("star",{staticClass:"star",attrs:{size:24,score:2*t.reviewdetail.rating.value}})],1)]),t._v(" "),s("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.reviewdetail.content)}}),t._v(" "),s("div",{staticClass:"copyright"},[t._v("本文版权归"+t._s(t.reviewdetail.author.name)+"所有，任何形式转载请联系作者")]),t._v(" "),s("div",{staticClass:"end"},[s("div",{staticClass:"line"}),t._v(" "),s("span",{staticClass:"text"},[t._v("THE END")])]),t._v(" "),s("div",{staticClass:"useful"},[s("div",{staticClass:"use"},[t._v("有用"+t._s(t.reviewdetail.useful_count))]),t._v(" "),s("div",{staticClass:"no-use"},[t._v("没用"+t._s(t.reviewdetail.useless_count))])])]):t._e()]),t._v(" "),t.reviewdetail.author?t._e():s("loading",{attrs:{fullScreen:t.fullScreen}})],1)],1)},staticRenderFns:[]};var he=s("Z0/y")(le,ue,!1,function(t){s("P3zC")},"data-v-9bd5fbea",null).exports,ve={data:function(){return{rankType:"",dataFn:null,top250Index:0,rankList:{},fullScreen:!0,currentIndex:0,switches:[{name:"1-50"},{name:"51-100"},{name:"101-150"},{name:"151-200"},{name:"201-250"}],smallFont:!0,pullup:!0,hasMore:[!1,!1,!1,!1,!1],movieIndex:[0,50,100,150,200],scrollY:[0,0,0,0,0]}},created:function(){this.probeType=3,this.listenScroll=!0,this.loadingFlag=!0,this._selectType(),this._getRankList()},beforeMount:function(){for(var t=0;t<this.switches.length;t++)this.$set(this.rankList,t,[])},methods:g()({},Object(nt.d)({setMovie:"SET_MOVIE"}),{back:function(){this.$router.back()},switchTab:function(t){var e=this;this.currentIndex=t,this.loadingFlag=!0,this.$refs.scroll.forEach(function(s){s.scrollTo(0,e.scrollY[t]),setTimeout(function(){s.refresh()},20)}),0===this.rankList[t].length&&(this.hasMore[t]=!0,this.dataFn(this.movieIndex[t],10).then(function(s){e.rankList[t]=U(s.subjects)}))},selectMovie:function(t){this.$router.push({path:"/moiveshow/"+t.id}),this.setMovie(t)},_selectType:function(){switch(this.$route.params.rankType){case"top250":this.dataFn=vt,this.rankType="豆瓣 Top250";break;case"weekly":this.dataFn=mt,this.rankType="本周口碑榜";break;case"newmovie":this.dataFn=ft,this.rankType="新片榜";break;case"usbox":this.dataFn=dt,this.rankType="北美票房榜"}},_getRankList:function(){var t=this;"豆瓣 Top250"!==this.rankType?this.dataFn().then(function(e){t.rankList[0]=U(e.subjects)}):this.dataFn(this.movieIndex[0],10).then(function(e){t.rankList[0]=U(e.subjects),t.hasMore[0]=!0})},loadMore:function(){var t=this,e=this.currentIndex;this.loadingFlag&&(this.loadingFlag=!1,this.hasMore[e]&&(this.movieIndex[e]+=10,this.dataFn(this.movieIndex[e],10).then(function(s){t.rankList[e]=t.rankList[e].concat(U(s.subjects)),t.loadingFlag=!0,t._checkMore(s)})))},_checkMore:function(t){var e=t.subjects,s=50*(this.currentIndex+1);(!e.length||t.start+t.count>=s)&&(this.hasMore[this.currentIndex]=!1)},scroll:function(t){this.scrollY[this.currentIndex]=t.y}}),components:{switches:A,scroll:N,loading:X,ranklist:Ct}},de={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"rank"}},[s("div",{staticClass:"rankdetail"},[s("div",{staticClass:"fixed-title"},[s("span",{staticClass:"back",on:{click:t.back}},[s("i",{staticClass:"icon-back"})]),t._v(" "),s("span",{staticClass:"type"},[s("span",[t._v(t._s(t.rankType))])])]),t._v(" "),"豆瓣 Top250"===t.rankType?s("switches",{staticClass:"switches",attrs:{switches:t.switches,smallFont:t.smallFont,currentIndex:t.currentIndex},on:{switch:t.switchTab}}):t._e(),t._v(" "),t._l(t.switches,function(e,i){return s("scroll",{directives:[{name:"show",rawName:"v-show",value:t.currentIndex===i,expression:"currentIndex===index"}],key:i,ref:"scroll",refInFor:!0,staticClass:"rank-list-wrapper",attrs:{data:t.rankList[i],pullup:t.pullup,probeType:t.probeType},on:{scrollToEnd:t.loadMore,scroll:t.scroll}},[s("div",{staticClass:"rank-content",class:{"more-padding":"豆瓣 Top250"===t.rankType}},[s("ranklist",{attrs:{rankItems:t.rankList[i],page:i,hasMore:t.hasMore[i]},on:{select:t.selectMovie}})],1),t._v(" "),t.rankList[i].length?t._e():s("loading",{attrs:{fullScreen:t.fullScreen}})],1)})],2)])},staticRenderFns:[]};var me=s("Z0/y")(ve,de,!1,function(t){s("Xadt")},"data-v-0e939eac",null).exports;function fe(t,e,s){var i="/v2/movie/celebrity/"+t+"/works",a=C()({},x,{start:e,count:s});return k.a.get(i,{params:a}).then(function(t){return w.a.resolve(t.data)}).catch(function(t){console.log(t)})}var pe=function t(e){var s=e.id,i=e.name,a=e.works,n=e.image;F()(this,t),this.id=s,this.name=i,this.works=a,this.image=n},ge={props:{infoLists:{type:Object,default:{}}},data:function(){return{showFlag:!1}},methods:{close:function(){this.showFlag=!1},show:function(){var t=this;this.showFlag=!0,this.$nextTick(function(){t.$refs.scroll.refresh()})},getNames:function(t){return t&&0!==t.length&&""!==t[0]?t.join(" / "):"暂无信息"}},components:{scroll:N}},_e={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],staticClass:"celebrityinfo"},[s("div",{staticClass:"fixed-title"},[s("span",{staticClass:"back",on:{click:t.close}},[s("i",{staticClass:"icon-close"})]),t._v(" "),s("span",{staticClass:"type"},[t._v("影人介绍")])]),t._v(" "),s("scroll",{ref:"scroll",staticClass:"celebrity-info"},[s("div",{staticClass:"scroll-wrapper"},[s("h1",{staticClass:"name"},[t._v(t._s(t.infoLists.name))]),t._v(" "),s("h2",{staticClass:"name-en"},[t._v(t._s(t.infoLists.name_en))]),t._v(" "),s("div",{staticClass:"info-lists"},[s("div",{staticClass:"gender"},[s("span",{staticClass:"item"},[t._v("性别:")]),t._v(" "),s("span",[t._v(t._s(t.infoLists.gender?t.infoLists.gender:"暂无信息"))])]),t._v(" "),s("div",{staticClass:"constellation"},[s("span",{staticClass:"item"},[t._v("星座:")]),t._v(" "),s("span",[t._v(t._s(t.infoLists.constellation?t.infoLists.constellation:"暂无信息"))])]),t._v(" "),s("div",{staticClass:"birthday"},[s("span",{staticClass:"item"},[t._v("出生日期:")]),t._v(" "),s("span",[t._v(t._s(t.infoLists.birthday?t.infoLists.birthday:"暂无信息"))])]),t._v(" "),s("div",{staticClass:"born-place"},[s("span",{staticClass:"item"},[t._v("出生地:")]),t._v(" "),s("span",[t._v(t._s(t.infoLists.born_place?t.infoLists.born_place:"暂无信息"))])]),t._v(" "),s("div",{staticClass:"more-name"},[s("span",{staticClass:"item"},[t._v("更多中文名:")]),t._v(" "),s("span",{staticClass:"more"},[t._v(t._s(t.getNames(t.infoLists.aka)))])])]),t._v(" "),s("p",{staticClass:"summary"},[t._v(t._s(t.infoLists.summary))])])])],1)])},staticRenderFns:[]};var we=s("Z0/y")(ge,_e,!1,function(t){s("A+ZV")},"data-v-3c92b262",null).exports,be={data:function(){return{celebrityDetail:{},click:!1,eventPassthrough:"vertical",works:[],scrollX:!0,fullScreen:!0,showScore:!0,collectText:"收藏",isCollected:!1}},computed:g()({},Object(nt.c)(["currentCelebrityId","collected"]),{collect:function(){return!1===this.isCollected?"icon-collect":"icon-checkmark"}}),created:function(){this._getCelebrity()},methods:g()({},Object(nt.b)(["markCelebrity"]),Object(nt.d)({setMovie:"SET_MOVIE"}),{back:function(){this.$router.back()},_getCelebrity:function(){var t,e,s,i=this;this.currentCelebrityId?(t=this.currentCelebrityId,e="/v2/movie/celebrity/"+t,s=C()({},x),k.a.get(e,{params:s}).then(function(t){return w.a.resolve(t.data)}).catch(function(t){console.log(t)})).then(function(t){console.log(t),i.celebrityDetail=t;var e=[];t.works.forEach(function(t){e.push(t.subject)}),i.works=j(e),i._checkCollect();var s=[];t.works.forEach(function(t){s.push(t.subject.title)}),i.celebrity=new pe({id:t.id,name:t.name,image:t.avatars.large,works:s.slice(0,3).join(" / ")}),i._initPics()}):this.$router.push("/moiveshow")},replaceUrl:function(t){return"https://images.weserv.nl/?url="+t.replace(/http\w{0,1}:\/\//,"")},_checkCollect:function(){var t=this;this.collected.findIndex(function(e){return e.id===t.celebrityDetail.id})>-1?(this.isCollected=!0,this.collectText="已收藏"):(this.isCollected=!1,this.collectText="收藏")},saveCollect:function(){this.markCelebrity(this.celebrity),this.isCollected=!this.isCollected,this.isCollected?this.collectText="已收藏":this.collectText="收藏"},showInfo:function(){this.$refs.info.show()},_initPics:function(){var t=this,e=138*this.celebrityDetail.works.length-8;this.$nextTick(function(){t.$refs.content.style.width=e+"px"})},selectWork:function(t){event._constructed&&(this.setMovie(t),this.$router.push({path:"/moiveshow/"+t.id}))},getAllWorks:function(){this.$router.push({path:"/clebrity/"+this.currentCelebrityId+"/works"})}}),components:{scroll:N,star:K,loading:X,celebrityinfo:we}},Ce={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"celebritydetail"},[s("div",{staticClass:"fixed-title"},[t._v("\n    影人信息\n    "),s("span",{staticClass:"back",on:{click:t.back}},[s("i",{staticClass:"icon-back"})])]),t._v(" "),t.celebrityDetail.avatars?s("scroll",{staticClass:"celebrity-detail",attrs:{data:t.celebrityDetail}},[s("div",{staticClass:"scroll-wrapper"},[s("div",{ref:"image",staticClass:"bg-image"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.replaceUrl(t.celebrityDetail.avatars.large),expression:"replaceUrl(celebrityDetail.avatars.large)"}],attrs:{alt:""}})]),t._v(" "),s("div",{staticClass:"celebrity-info"},[s("div",{staticClass:"main"},[s("h1",{staticClass:"name-cn"},[t._v(t._s(t.celebrityDetail.name))]),t._v(" "),s("span",{staticClass:"name-en"},[t._v(t._s(t.celebrityDetail.name_en))]),t._v(" "),s("div",{staticClass:"collect",class:{"has-collected":t.isCollected},on:{click:t.saveCollect}},[s("i",{staticClass:"icon",class:t.collect}),t._v(" "),s("span",{staticClass:"text"},[t._v(t._s(t.collectText))])])]),t._v(" "),s("div",{staticClass:"brief"},[s("div",{staticClass:"title"},[t._v("个人简介")]),t._v(" "),s("p",{staticClass:"text",on:{click:t.showInfo}},[t._v("\n            "+t._s(t.celebrityDetail.summary)+"\n            "),s("span",{staticClass:"more"},[s("i",{staticClass:"icon-keyboard_arrow_right"})])])]),t._v(" "),t.works.length?s("scroll",{ref:"scroll",staticClass:"works",attrs:{scrollX:this.scrollX,eventPassthrough:this.eventPassthrough,click:this.click}},[s("div",{ref:"content",staticClass:"works-content"},[s("h2",{staticClass:"title"},[t._v("代表作品")]),t._v(" "),t._l(t.works,function(e){return s("div",{staticClass:"work-item",on:{click:function(s){t.selectWork(e,s)}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.replaceUrl(e.image),expression:"replaceUrl(item.image)"}],attrs:{alt:"",width:"90",height:"120"}}),t._v(" "),s("h3",{staticClass:"item-title"},[t._v(t._s(e.title))]),t._v(" "),s("star",{attrs:{showScore:t.showScore,score:e.rating}})],1)})],2)]):t._e(),t._v(" "),s("div",{staticClass:"allWorks",on:{click:t.getAllWorks}},[t._v("查看全部作品\n          "),s("i",{staticClass:"icon-keyboard_arrow_right"})])],1)])]):t._e(),t._v(" "),t.celebrityDetail.avatars?t._e():s("loading",{attrs:{fullScreen:t.fullScreen}}),t._v(" "),s("celebrityinfo",{ref:"info",attrs:{infoLists:t.celebrityDetail}}),t._v(" "),s("router-view")],1)},staticRenderFns:[]};var ye=s("Z0/y")(be,Ce,!1,function(t){s("dIrE")},"data-v-0e0adfe8",null).exports,ke={data:function(){return{needRank:!1,searchIndex:0,fullScreen:!0,hasMore:!0,pullup:!0,bottom:!0,works:[]}},computed:g()({},Object(nt.c)(["currentCelebrityId"])),created:function(){this.loadingFlag=!0,this._getWorks()},methods:g()({},Object(nt.d)({setMovie:"SET_MOVIE"}),{back:function(){this.$router.back()},_getWorks:function(){var t=this;this.currentCelebrityId?fe(this.currentCelebrityId,this.searchIndex,20).then(function(e){console.log(e);var s=[];e.works.forEach(function(t){s.push(t.subject)}),t.works=U(s),t._checkMore(e)}):this.$router.push("/movieShow")},toTop:function(){this.$refs.scroll.scrollTo(0,0,1e3)},selectMovie:function(t){this.setMovie(t),this.$router.push({path:"/moiveshow/"+t.id})},loadMore:function(){var t=this;this.loadingFlag&&this.hasMore&&(this.loadingFlag=!1,this.searchIndex+=20,fe(this.currentCelebrityId,this.searchIndex,20).then(function(e){var s=[];e.works.forEach(function(t){s.push(t.subject)}),t.works=t.works.concat(U(s)),t.loadingFlag=!0,t._checkMore(e)}))},_checkMore:function(t){(!t.works.length||t.start+t.count>=t.total)&&(this.hasMore=!1)}}),components:{scroll:N,loading:X,ranklist:Ct}},xe={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"works"}},[s("div",{staticClass:"CelebrityWorks"},[s("div",{staticClass:"fixed-title"},[s("span",{staticClass:"back",on:{click:t.back}},[s("i",{staticClass:"icon-back"})]),t._v(" "),s("span",{staticClass:"type"},[t._v("全部作品")]),t._v(" "),s("span",{staticClass:"to-top",on:{click:t.toTop}},[s("i",{staticClass:"icon-circle-up"})])]),t._v(" "),s("scroll",{ref:"scroll",staticClass:"celebrity-works",attrs:{data:t.works,pullup:t.pullup},on:{scrollToEnd:t.loadMore}},[s("div",{staticClass:"scroll-wrapper"},[s("ranklist",{attrs:{bottom:t.bottom,rankItems:t.works,needRank:t.needRank,hasMore:t.hasMore},on:{select:t.selectMovie}})],1)]),t._v(" "),t.works.length?t._e():s("loading",{attrs:{fullScreen:t.fullScreen}})],1)])},staticRenderFns:[]};var Ie=s("Z0/y")(ke,xe,!1,function(t){s("olAD")},"data-v-72dd26c2",null).exports,Me={data:function(){return{videoData:[],oddData:[],evenData:[],fullScreen:!0,showScore:!0,videoIndex:0,loadingFlag:!0,hasMore:!0,pullup:!0,probeType:3}},created:function(){this._getComingMovies()},methods:g()({},Object(nt.d)({setMovie:"SET_MOVIE"}),{_getComingMovies:function(){var t=this;M(this.videoIndex,20).then(function(e){0===e.start&&(t.videoData=j(e.subjects)),t.videoData.findIndex(function(e,s){s%2!=1?t.evenData.push(e):t.oddData.push(e)}),t._checkMore(e)})},videoSelect:function(t){this.setMovie(t),this.$router.push({path:"/video/"+t.id})},replaceUrl:function(t){return"https://images.weserv.nl/?url="+t.replace(/http\w{0,1}:\/\//,"")},loadMore:function(){var t=this;this.loadingFlag&&(this.loadingFlag=!1,this.hasMore?(this.videoIndex+=20,M(this.videoIndex,20).then(function(e){t.videoData=t.videoData.concat(j(e.subjects)),t.videoData.findIndex(function(e,s){s%2!=1?t.evenData.push(e):t.oddData.push(e)}),t.loadingFlag=!0,t._checkMore(e)})):this.loadingFlag=!0)},_checkMore:function(t){(!t.subjects.length||t.start+t.count>t.total)&&(this.hasMore=!1),this.loadingFlag=!0}}),components:{scroll:N,loading:X,star:K}},Te={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"video"},[s("div",{staticClass:"fixed-title"},[t._v("电影预告片")]),t._v(" "),s("scroll",{ref:"scroll",staticClass:"center",attrs:{data:t.videoData,pullup:t.pullup,probeType:t.probeType},on:{scrollToEnd:t.loadMore}},[s("div",{staticClass:"video-box clearfix"},[s("div",{staticClass:"clearfix box-videos"},[s("div",{staticClass:"item-left"},t._l(t.evenData,function(e){return s("div",{staticClass:"video-item",on:{click:function(s){t.videoSelect(e)}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.replaceUrl(e.image),expression:"replaceUrl(item.image)"}],attrs:{alt:""}}),t._v(" "),s("p",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),s("star",{staticClass:"star",attrs:{size:24,score:e.rating,showScore:t.showScore}})],1)})),t._v(" "),s("div",{staticClass:"item-right"},t._l(t.oddData,function(e){return s("div",{staticClass:"video-item",on:{click:function(s){t.videoSelect(e)}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.replaceUrl(e.image),expression:"replaceUrl(item.image)"}],attrs:{alt:""}}),t._v(" "),s("p",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),s("star",{staticClass:"star",attrs:{size:24,score:e.rating,showScore:t.showScore}})],1)}))]),t._v(" "),s("loading",{directives:[{name:"show",rawName:"v-show",value:t.videoData.length,expression:"videoData.length"}],attrs:{hasMore:t.hasMore}})],1)]),t._v(" "),t.videoData.length?t._e():s("loading",{attrs:{fullScreen:t.fullScreen}}),t._v(" "),s("router-view")],1)},staticRenderFns:[]};var Se=s("Z0/y")(Me,Te,!1,function(t){s("k43S")},"data-v-f93751b2",null).exports,Ae={data:function(){return{videoData:{}}},created:function(){this._getMoviedetail()},computed:g()({},Object(nt.c)(["movie"])),methods:{back:function(){this.$router.back()},_getMoviedetail:function(){var t=this;this.movie.id?Gt(this.movie.id).then(function(e){t.videoData=e}):this.$router.push("/moiveshow")},replaceUrl:function(t){return"https://images.weserv.nl/?url="+t.replace(/http\w{0,1}:\/\//,"")}},components:{}},Re={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"videodetail"},[e("div",{staticClass:"fixed-title"},[this._v("\n    "+this._s(this.videoData.title)+"\n    "),e("span",{staticClass:"back",on:{click:this.back}},[e("i",{staticClass:"icon-back"})])])])},staticRenderFns:[]};var De=s("Z0/y")(Ae,Re,!1,function(t){s("H7Ot")},"data-v-8e0daa06",null).exports;n.a.use(f.a);var Ee=new f.a({linkActiveClass:"active",routes:[{path:"/",redirect:"/moiveshow",component:ct},{path:"/moiveshow",component:ct,meta:{keepAlive:!0},children:[{path:"/moiveshow/:id",component:ne,meta:{keepAlive:!1}},{path:"/moiveshow/:id/:movietype",component:ce,meta:{keepAlive:!0}},{path:"/moiveshow/:id/:movietype/:typeid",component:he,meta:{keepAlive:!0}}]},{path:"/rank",component:_t,meta:{keepAlive:!0},children:[{path:":rankType",component:me,meta:{keepAlive:!0}}]},{path:"/user",component:Tt,meta:{keepAlive:!0}},{path:"/search",component:Ht,meta:{keepAlive:!1}},{path:"/clebrity/:clebrityid",component:ye,meta:{keepAlive:!1},children:[{path:"/clebrity/:clebrityid/works",component:Ie}]},{path:"/video",component:Se,meta:{keepAlive:!0},children:[{path:"/video/:videoId",component:De}]}]}),Ne=s("3cXf"),Be=s.n(Ne);function Fe(t,e,s){var i=window.localStorage._doubanMovie_;i?(i=JSON.parse(i))[t]||(i[t]={}):(i={})[t]={},i[t][e]=s,window.localStorage._doubanMovie_=Be()(i)}function Le(t,e,s){var i=window.localStorage._doubanMovie_;return i&&(i=JSON.parse(i)[t])&&i[e]||s}var je="douban",Ue="_search_",We="_comment_",Ye="_watched_",ze="_wanted_",Ze="_celebrity_",Oe=20,He=300,Ge=300,$e=300,Qe=300;var Je,Ve={movie:{},watchedMovies:Le(je,Ye,[]),wantedMovies:Le(je,ze,[]),reviewsType:"",reviewId:0,favoriteComments:Le(je,We,[]),searchHistory:Le(je,Ue,[]),currentCelebrityId:0,collected:Le(je,Ze,[])},Xe=s("a3Yh"),Pe=s.n(Xe),qe=(Je={},Pe()(Je,"SET_MOVIE",function(t,e){t.movie=e}),Pe()(Je,"SET_WANTED_MOVIES",function(t,e){t.wantedMovies=e}),Pe()(Je,"SET_WATCHED_MOVIES",function(t,e){t.watchedMovies=e}),Pe()(Je,"SET_REVIEWS_TYPE",function(t,e){t.reviewsType=e}),Pe()(Je,"SET_REVIEWS_ID",function(t,e){t.reviewId=e}),Pe()(Je,"SET_COMMENT_ID",function(t,e){t.favoriteComments=e}),Pe()(Je,"SET_SEARCH_HISTORY",function(t,e){t.searchHistory=e}),Pe()(Je,"SET_CELEBRITY_ID",function(t,e){t.currentCelebrityId=e}),Pe()(Je,"SET_COLLECT_CELEBRITY",function(t,e){t.collected=e}),Je),Ke=function(t,e){(0,t.commit)("SET_WATCHED_MOVIES",function(t){var e=Ge,s=Le(je,Ye,[]),i=s.findIndex(function(e){return e.id===t.id});return-1===i?(s.push(t),e&&s.length>e&&s.shift()):s.splice(i,1),Fe(je,Ye,s),s}(e))},ts=function(t,e){(0,t.commit)("SET_WANTED_MOVIES",function(t){var e=$e,s=Le(je,ze,[]),i=s.findIndex(function(e){return e.id===t.id});return-1===i?(s.push(t),e&&s.length>e&&s.shift()):s.splice(i,1),Fe(je,ze,s),s}(e))},es=function(t,e){(0,t.commit)("SET_COMMENT_ID",function(t){var e=He,s=Le(je,We,[]),i=s.findIndex(function(e){return e===t});return-1===i?(s.push(t),e&&s.length>e&&s.shift()):s.splice(i,1),Fe(je,We,s),s}(e))},ss=function(t,e){(0,t.commit)("SET_SEARCH_HISTORY",function(t){var e,s,i,a,n,r=Le(je,Ue,[]);return s=t,i=function(e){return e===t},a=Oe,0!==(n=(e=r).findIndex(i))&&(n>0&&e.splice(n,1),e.unshift(s),a&&e.length>a&&e.pop()),Fe(je,Ue,r),r}(e))},is=function(t,e){(0,t.commit)("SET_SEARCH_HISTORY",function(t){var e,s,i,a=Le(je,Ue,[]);return s=function(e){return e===t},(i=(e=a).findIndex(s))>-1&&e.splice(i,1),Fe(je,Ue,a),a}(e))},as=function(t){(0,t.commit)("SET_SEARCH_HISTORY",(Fe(je,Ue,[]),[]))},ns=function(t,e){(0,t.commit)("SET_COLLECT_CELEBRITY",function(t){var e=Qe,s=Le(je,Ze,[]),i=s.findIndex(function(e){return e.id===t.id});return-1===i?(s.push(t),e&&s.length>e&&s.shift()):s.splice(i,1),Fe(je,Ze,s),s}(e))},rs=function(t){return t.movie},os=function(t){return t.wantedMovies},cs=function(t){return t.watchedMovies},ls=function(t){return t.reviewsType},us=function(t){return t.reviewId},hs=function(t){return t.favoriteComments},vs=function(t){return t.searchHistory},ds=function(t){return t.currentCelebrityId},ms=function(t){return t.collected};s("6LYt");n.a.use(nt.a);var fs=new nt.a.Store({actions:i,getters:a,state:Ve,mutations:qe,strict:!1,plugins:[]}),ps=(s("34KM"),s("482z")),gs=s.n(ps);n.a.use(gs.a,{error:s("zUsG"),loading:s("zUsG")}),n.a.config.productionTip=!1,new n.a({el:"#app",store:fs,router:Ee,template:"<App/>",components:{App:m}})},OVyN:function(t,e){},P3zC:function(t,e){},QIXt:function(t,e){},R663:function(t,e){},SVk7:function(t,e){},"T/KO":function(t,e,s){t.exports=s.p+"static/img/avatar.ab7112d.jpg"},VUVe:function(t,e){},"X7+o":function(t,e){},Xadt:function(t,e){},dIrE:function(t,e){},"eO/K":function(t,e){},fEGK:function(t,e){},"ir+1":function(t,e){},izP1:function(t,e){},k43S:function(t,e){},kSb7:function(t,e){},olAD:function(t,e){},x3N0:function(t,e){},yIWi:function(t,e){},zUsG:function(t,e,s){t.exports=s.p+"static/img/loading.eb5079a.gif"}},["NHnr"]);
//# sourceMappingURL=app.16d0c604362968c2d40c.js.map