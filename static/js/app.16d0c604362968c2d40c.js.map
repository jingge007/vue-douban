{"version":3,"sources":["webpack:///./src/components/user/avatar.jpg","webpack:///./src/base/search/douban-logo.png","webpack:///./src/base/startup/douban-logo.png","webpack:///src/base/startup/startup.vue","webpack:///./src/base/startup/startup.vue?c3ce","webpack:///./src/base/startup/startup.vue","webpack:///src/components/tab/tab.vue","webpack:///./src/components/tab/tab.vue?cba7","webpack:///./src/components/tab/tab.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1725","webpack:///./src/App.vue","webpack:///./src/api/config.js","webpack:///./src/api/movieShow.js","webpack:///src/base/switches/switches.vue","webpack:///./src/base/switches/switches.vue?f645","webpack:///./src/base/switches/switches.vue","webpack:///src/base/scroll/scroll.vue","webpack:///./src/base/scroll/scroll.vue?8891","webpack:///./src/base/scroll/scroll.vue","webpack:///./src/common/js/movielist.js","webpack:///src/base/loading/loading.vue","webpack:///./src/base/loading/loading.vue?e7d4","webpack:///./src/base/loading/loading.vue","webpack:///src/base/star/star.vue","webpack:///./src/base/star/star.vue?9e84","webpack:///./src/base/star/star.vue","webpack:///src/components/movielist/movielist.vue","webpack:///./src/components/movielist/movielist.vue?27fb","webpack:///./src/components/movielist/movielist.vue","webpack:///./src/base/search/search.vue?be59","webpack:///./src/base/search/search.vue","webpack:///src/base/search/search.vue","webpack:///src/components/moiveShow/moiveShow.vue","webpack:///./src/components/moiveShow/moiveShow.vue?1c00","webpack:///./src/components/moiveShow/moiveShow.vue","webpack:///./src/common/js/date.js","webpack:///./src/api/movierank.js","webpack:///src/components/rank/rank.vue","webpack:///./src/components/rank/rank.vue?29bd","webpack:///./src/components/rank/rank.vue","webpack:///src/components/ranklist/ranklist.vue","webpack:///./src/components/ranklist/ranklist.vue?5dfa","webpack:///./src/components/ranklist/ranklist.vue","webpack:///src/components/celebritylist/celebritylist.vue","webpack:///./src/components/celebritylist/celebritylist.vue?f83d","webpack:///./src/components/celebritylist/celebritylist.vue","webpack:///src/components/user/user.vue","webpack:///./src/components/user/user.vue?ea6a","webpack:///./src/components/user/user.vue","webpack:///src/base/searchBox/searchBox.vue","webpack:///./src/base/searchBox/searchBox.vue?a51d","webpack:///./src/base/searchBox/searchBox.vue","webpack:///src/base/confirm/confirm.vue","webpack:///./src/base/confirm/confirm.vue?fa7c","webpack:///./src/base/confirm/confirm.vue","webpack:///./src/api/moviesearch.js","webpack:///src/components/suggest/suggest.vue","webpack:///./src/components/suggest/suggest.vue?d554","webpack:///./src/components/suggest/suggest.vue","webpack:///src/base/historylist/historylist.vue","webpack:///./src/base/historylist/historylist.vue?faf6","webpack:///./src/base/historylist/historylist.vue","webpack:///src/components/search/search.vue","webpack:///./src/components/search/search.vue?3749","webpack:///./src/components/search/search.vue","webpack:///./src/api/moviedetail.js","webpack:///src/components/movieinfo/movieinfo.vue","webpack:///./src/components/movieinfo/movieinfo.vue?7a51","webpack:///./src/components/movieinfo/movieinfo.vue","webpack:///src/components/moviecomment/moviecomment.vue","webpack:///./src/components/moviecomment/moviecomment.vue?fadc","webpack:///./src/components/moviecomment/moviecomment.vue","webpack:///src/components/moviereview/moviereview.vue","webpack:///./src/components/moviereview/moviereview.vue?684d","webpack:///./src/components/moviereview/moviereview.vue","webpack:///src/components/moviedetail/moviedetail.vue","webpack:///./src/components/moviedetail/moviedetail.vue?f4ad","webpack:///./src/components/moviedetail/moviedetail.vue","webpack:///src/components/allcomments/allcomments.vue","webpack:///./src/components/allcomments/allcomments.vue?de5b","webpack:///./src/components/allcomments/allcomments.vue","webpack:///src/components/reviewdetail/reviewdetail.vue","webpack:///./src/components/reviewdetail/reviewdetail.vue?bb4b","webpack:///./src/components/reviewdetail/reviewdetail.vue","webpack:///src/components/rankdetail/rankdetail.vue","webpack:///./src/components/rankdetail/rankdetail.vue?a70e","webpack:///./src/components/rankdetail/rankdetail.vue","webpack:///./src/api/celebrity.js","webpack:///./src/common/js/celebrity.js","webpack:///src/components/celebrityinfo/celebrityinfo.vue","webpack:///./src/components/celebrityinfo/celebrityinfo.vue?b0e0","webpack:///./src/components/celebrityinfo/celebrityinfo.vue","webpack:///src/components/celebritydetail/celebritydetail.vue","webpack:///./src/components/celebritydetail/celebritydetail.vue?597c","webpack:///./src/components/celebritydetail/celebritydetail.vue","webpack:///src/components/CelebrityWorks/CelebrityWorks.vue","webpack:///./src/components/CelebrityWorks/CelebrityWorks.vue?ced9","webpack:///./src/components/CelebrityWorks/CelebrityWorks.vue","webpack:///src/components/video/video.vue","webpack:///./src/components/video/video.vue?9ce5","webpack:///./src/components/video/video.vue","webpack:///src/components/videodetail/videodetail.vue","webpack:///./src/components/videodetail/videodetail.vue?acda","webpack:///./src/components/videodetail/videodetail.vue","webpack:///./src/router/index.js","webpack:///./src/common/js/store.js","webpack:///./src/common/js/cache.js","webpack:///./src/store/state.js","webpack:///./src/store/mutations.js","webpack:///./src/store/mutation-types.js","webpack:///./src/store/actions.js","webpack:///./src/store/getters.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/components/movieinfo/avatar.jpg","webpack:///./src/common/image/loading.gif"],"names":["module","exports","__webpack_require__","p","startup","Boolean","Date","currentWeek","starTimer","interval","timer","startup_startup","render","_vm","this","_h","$createElement","_c","_self","attrs","name","staticClass","on","click","timeItem","_v","_s","date","text","src","alt","width","height","staticRenderFns","base_startup_startup","normalizeComponent","ssrContext","tab","tab_tab","directives","rawName","value","expression","to","tag","components_tab_tab","tab_normalizeComponent","App","_this","selectortype_template_index_0_src_App","id","$route","meta","hasLoad","_e","keepAlive","loadingFlag","select","selectItem","src_App","App_normalizeComponent","commonParams","apikey","getMovieShow","start","count","data","assign_default","_axios_0_17_1_axios_default","a","get","params","then","res","promise_default","resolve","catch","err","console","log","getComingMovie","switches","Array","Number","index","switches_switches","_l","item","class","active","currentIndex","small-font","smallFont","$event","switchItem","base_switches_switches","switches_normalizeComponent","scroll_scroll","String","_initScroll","refresh","refreshDelay","_this3","probeType","scrollX","eventPassthrough","pos","enable","disable","arguments","base_scroll_scroll","ref","_t","src_base_scroll_scroll","scroll_normalizeComponent","movielist_Movie","Movie","_ref","title","director","casts","collectCount","rating","image","pubdates","subtype","classCallCheck_default","createMovieList","movieList","ret","forEach","movie","push","filterDirector","directors","filterCasts","collect_count","average","images","large","getTime","reg","i","length","indexOf","test","normalizDate","match","findShowTime","filterDate","mainland_pubdate","createRankList","rankList","subject","createSearchList","small","key","month","year","split","substr","getDay","time","parseInt","getFullYear","needYear","loading","loading_loading","full","fullScreen","base_loading_loading","loading_normalizeComponent","star","score","size","result","star_star","starType","needNullStar","showScore","normalizeScore","base_star_star","star_normalizeComponent","getMap","_recalculateHeight","movielists","group","indexMap","clientHeight","listHeight","components_movielist_movielist","refInFor","timeData","dateEqual","replaceUrl","moviehot","hasMore","src_components_movielist_movielist","movielist_normalizeComponent","movielist_movielist","base_search_search","goSearch","_m","src_base_search_search","search_normalizeComponent","moiveShow","methods","extends_default","Object","vuex_esm","path","subjects","recalculate","y","map","oldY","newY","_this4","fixedtop","scroll","movielist","search","moiveShow_moiveShow","switch","pullup","scrollToEnd","loadMore","hotData","selectMovie","movieshow","listenScroll","showData","getHeight","fixedTitle","components_moiveShow_moiveShow","moiveShow_normalizeComponent","WeekDate","now","nowYear","nowMonth","getMonth","nowDay","getDate","nowDayOfWeek","weekStartDate","formatDate","weekEndDate","top250Rank","usBoxRank","weeklyRank","newMoviesRank","rank","_getBriefRank","_getWeekDate","medium","url","list","js_date","getWeekEndDate","rank_rank","urlList","top","weekDate","components_rank_rank","rank_normalizeComponent","ranklist","ranklist_ranklist","bottom","compact","needRank","stopPropagation","page","rankItems","needLoading","components_ranklist_ranklist","ranklist_normalizeComponent","celebritylist","celebritylist_celebritylist","works","components_celebritylist_celebritylist","celebritylist_normalizeComponent","user","lists","wantedMovies","computed","watchedMovies","collected","user_user","switchTab","itemLists","itemLength","celebrities","selectCelebrity","components_user_user","user_normalizeComponent","searchBox","back","query","blur","focus","newQuery","searchBox_searchBox","type","placeholder","domProps","focusInput","blurInput","input","target","composing","clear","base_searchBox_searchBox","searchBox_normalizeComponent","confirm_confirm","hide","base_confirm_confirm","cancel","cancelbtnText","confirm","confirmbtnText","src_base_confirm_confirm","confirm_normalizeComponent","movieSearch","q","tagSearch","suggest","_selectType","setMovie","suggest_suggest","toTop","beforeScroll","searchMore","listScroll","getRating","noResult","components_suggest_suggest","suggest_normalizeComponent","historylist","historylist_historylist","deleteOne","searches","base_historylist_historylist","historylist_normalizeComponent","components_search_search","_this2","show","selectortype_template_index_0_src_components_search_search","onQueryChange","focusInputs","blurInputs","tagQuery","showConfirm","searchHistory","addQuery","delete","tag-search","saveSearch","clearSearchHistory","tabFlag","src_components_search_search","search_search_normalizeComponent","getMoviedetail","getAllReviews","getAllComments","movieinfo","_initPic","pubdate","movieinfo_movieinfo","moviedetail","original_title","durations","ratings_count","wanted","isWanted","textContent","wantedText","saveWantedMovie","wacthed","isWatched","saveWatchedMovie","watchedText","summary","avatars","allCasts","components_movieinfo_movieinfo","movieinfo_normalizeComponent","moviecomment","useful_count","moviecomment_moviecomment","commentNum","author","content","created_at","like","isLike","markItem","needTitle","needAllComments","comments","components_moviecomment_moviecomment","moviecomment_normalizeComponent","moviereview","moviereview_moviereview","reviewsNum","selectReview","needAllReviews","reviews","components_moviereview_moviereview","moviereview_normalizeComponent","_getMoviedetail","moviedetail_moviedetail","changeFix","popular_comments","comments_count","popular_reviews","slice","reviews_count","components_moviedetail_moviedetail","moviedetail_normalizeComponent","allcomments","_getAlldiscussion","setReview","discussType","total","allcomments_allcomments","discussion","reviewsType","discussionNum","components_allcomments_allcomments","allcomments_normalizeComponent","reviewId","reviewdetail_reviewdetail","reviewdetail","innerHTML","useless_count","components_reviewdetail_reviewdetail","reviewdetail_normalizeComponent","rankdetail","_getRankList","rankdetail_rankdetail","rankType","more-padding","components_rankdetail_rankdetail","rankdetail_normalizeComponent","getCelebrityWorks","Celebrity","celebrityinfo","celebrityinfo_celebrityinfo","close","infoLists","name_en","gender","constellation","birthday","born_place","getNames","aka","components_celebrityinfo_celebrityinfo","celebrityinfo_normalizeComponent","celebritydetail","_getCelebrity","_checkCollect","_initPics","celebrity","isCollected","currentCelebrityId","celebritydetail_celebritydetail","celebrityDetail","has-collected","saveCollect","collect","collectText","showInfo","selectWork","getAllWorks","components_celebritydetail_celebritydetail","celebritydetail_normalizeComponent","CelebrityWorks","_getWorks","CelebrityWorks_CelebrityWorks","components_CelebrityWorks_CelebrityWorks","CelebrityWorks_normalizeComponent","video","_getComingMovies","video_video","videoData","videoSelect","components_video_video","video_normalizeComponent","videodetail","videodetail_videodetail","components_videodetail_videodetail","videodetail_normalizeComponent","vue_esm","use","vue_router_esm","router","linkActiveClass","routes","redirect","component","children","saveToLocal","val","userInfo","window","localStorage","_doubanMovie_","JSON","parse","stringify_default","loadFromLocal","def","USER_ID","SEARCH_KEY","COMMENT_KEY","WATCHED_KEY","WANTED_KEY","CELEBRITY_KEY","SEARCH_MAX_LENGTH","COMMENT_MAX_LENGTH","WATCHED_MAX_LENGTH","WANTED_MAX_LENGTH","CELEBRITY_MAX_LENGTH","store_state","favoriteComments","store_mutations","mutations","defineProperty_default","state","_mutations","movies","history","actions_markWatchedMovie","commit","maxLen","findIndex","shift","splice","actions_markWantedMovie","_ref2","actions_markComment","_ref3","saveComment","actions_saveSearchHistory","_ref4","arr","compare","unshift","pop","actions_deleteSearchHistory","_ref5","deleteSearch","actions_clearSearchHistory","_ref6","actions_markCelebrity","_ref7","saveCelebrity","getters_movie","store","Store","actions","actions_namespaceObject","getters","getters_namespaceObject","strict","plugins","vue_lazyload_default","error","config","productionTip","el","template","components"],"mappings":"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","file":"static/js/app.16d0c604362968c2d40c.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/avatar.ab7112d.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/avatar.jpg\n// module id = 7TlL\n// module chunks = 1","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowMjIyMUZGOTYyNjQxMUU0QkFDN0JDMDA0RUFERjJGNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowMjIyMUZGQTYyNjQxMUU0QkFDN0JDMDA0RUFERjJGNiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjAyMjIxRkY3NjI2NDExRTRCQUM3QkMwMDRFQURGMkY2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjAyMjIxRkY4NjI2NDExRTRCQUM3QkMwMDRFQURGMkY2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+vlyY+wAAAYBQTFRFBa8QAKoAFdkhLsg4E8YeAMYBALEAN9JBAMoJErAcB8wTBsYSg9qIB9ITB88TWthijt+TBbAQB84TAM0ABsASBsQS////BsISALsABsoTBscTBrkRBroRBbYRBr4SdNt7b+V3SuFTBbQRBbMR5frmALIJoeOl7fvuE7sdBrwSKbwzCcgWTNRUeOh/FNAf0fbUxvXJHbUnt+i6QsVKSstTk+uYoOylcN13tvK6yu/N8/z0Y9psverAo++oAKMAwuzF+v77AK8LbNVxUsdaAbcKdNN74vbjYMtnrOawxu3JvvPB2/XdGMAjVs5fCNMW2fnbac9wBboQAtEQC7MUOsJDB80WB7oTB7gT/P/8BrYSBLYRBawQB9cUB9YUB9QUB9UUBa0QBrcRQtpLBrwRB64SBbURV+JfC9gYDdYab8919/33BrYUqvGvBc4SBrMTCK8PBrsTBrQSELwbBbEQ+/77BbgRBbgSCK8T6PnqBMsOBbwQA84NC70V2PTazvDQ////esWf9QAAAIB0Uk5T/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wA4BUtnAAAEbUlEQVR42uzb/V/aRhzA8Ts0B2yM0rI6NrcpKoJYmIA4yxR8SBWcWmmpXS3Wyaabm9s6Hzasq/zrDTjygM038Y7c+Wr7+a25+H2TiIEqQY3OooeJcM3VxdzhwamRKwzq+PfhvqvqROFsFIDnss6orVyJETN4wkG2Rc++HU5UHW8/ehV+WKtyyDXdCR9WOZUwwtxcVb6E61WOrejgGk/4l6gKJ6pcq7XhiSrnsv/Drm3ePWzBWe7udrgF8z/g5iGjxrQAd3tQgfd3BORqoNyvIuCdFXQoxN0ZRIkXQqqhsBjYjdxiYBdyfYB5wclPzHvEGDA6CcDrQebW12ng8+TsClPT4SDNEful2T7GTvxBCvhRcIIV/iEJwX6TzoPTrHAuGTSbDsIrrPBvdLDEfKr7qGC/tM/qTnnOaWC/5K4x5fac+QH4jml/SIyd+01ng7CTKfBHQrrJ8JmHojNm+IlHooElzxNL+HMwz/jUNxRlx8/guZawNEh37bglscIJOvg7ZvhbQUccooVDNxbu/QJMD0eXRuByehie23sd2C2Ng4VuOQT3hOAXo5DbqSO2GBa6dy34YzAjbLGvAYb3fS/hu2BG2GJfAwzv+wF+L+DPwIywxb4GGN5XgT8FIwYY3tcIw/u+GzDRw6SLcC8mYLjHITi7MAC2UHQIvtZbH0t49Wswehieu3pz4QFRsI/yfxKWcGwMjGTo4B4Cz42ho5/AXpHJgHW+UVX83tfckCGv4LlHKPYl2FiZ2Ci/psKT+daWsTF4bswKViorvZTbhvyyfCWZvFZ/mfcfaW6xHGoHbnZ61HNZXJE7FzeJdq1ME9nWQLswVn+qRq9OLuOACi/gTbtwv53IpDq6gjc7FmUyoq7Gia15/XZhWa63Rxdx2bi2ibVHdUFk2/CprXRnc5U8NSzJOK2uDeB+e/MUeNdOT3VH5cP/6JdOSUx/3Ti1NW/XLrxLjubaw5dIxPiYFlS3LpPdLsMyntGuEfiZYaWkrpSIbB/+yl7aD5Ty9NrSL6xqZzpgWIG6BlzR5sfwM3X7Fta9flV0C5bwnr30T6FAfkvdHhmuay8QJGJz2h4ID0V0EVzQfv0TIep2HNcekC8fMQTDQyb9TozvZvO6U7qW1zZvaJsz+Y73u3t/m00H4PnHo/f1FZZ0f1AqqZtLc9rm1wX9F1yU1vAQAA+blH/A/GenvsfEbDoEB5jduRimgX3McI4OZj/iEzq4G99jAPYemzT/V2CGrfQiNht+7DWH/5zPY9aGaeDj49vzjJmPbsK3heRFKTFwCsWRkFIoIwaOow0xcAWNioGXUV0MXESNigj33xxqBETAiw3UyP38I/8Kzc/eHvB3460P/Ub5H/LM5eeri885t9z+KHuGr+s9acM5L1e4pN01UODpBvQ3aDzg52aMt6RwkxdPOm7CSXs5nmfDbUdLHJ7bqZm33mjlc9rdyJncWnZ/0Um2kgZuprs4SDl00VhOw3fxKc+yg0w8lfJ2r1S8slyMdjJvBBgAjaD61EhSiREAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/search/douban-logo.png\n// module id = 8VTl\n// module chunks = 1","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowMjIyMUZGOTYyNjQxMUU0QkFDN0JDMDA0RUFERjJGNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowMjIyMUZGQTYyNjQxMUU0QkFDN0JDMDA0RUFERjJGNiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjAyMjIxRkY3NjI2NDExRTRCQUM3QkMwMDRFQURGMkY2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjAyMjIxRkY4NjI2NDExRTRCQUM3QkMwMDRFQURGMkY2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+vlyY+wAAAYBQTFRFBa8QAKoAFdkhLsg4E8YeAMYBALEAN9JBAMoJErAcB8wTBsYSg9qIB9ITB88TWthijt+TBbAQB84TAM0ABsASBsQS////BsISALsABsoTBscTBrkRBroRBbYRBr4SdNt7b+V3SuFTBbQRBbMR5frmALIJoeOl7fvuE7sdBrwSKbwzCcgWTNRUeOh/FNAf0fbUxvXJHbUnt+i6QsVKSstTk+uYoOylcN13tvK6yu/N8/z0Y9psverAo++oAKMAwuzF+v77AK8LbNVxUsdaAbcKdNN74vbjYMtnrOawxu3JvvPB2/XdGMAjVs5fCNMW2fnbac9wBboQAtEQC7MUOsJDB80WB7oTB7gT/P/8BrYSBLYRBawQB9cUB9YUB9QUB9UUBa0QBrcRQtpLBrwRB64SBbURV+JfC9gYDdYab8919/33BrYUqvGvBc4SBrMTCK8PBrsTBrQSELwbBbEQ+/77BbgRBbgSCK8T6PnqBMsOBbwQA84NC70V2PTazvDQ////esWf9QAAAIB0Uk5T/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wA4BUtnAAAEbUlEQVR42uzb/V/aRhzA8Ts0B2yM0rI6NrcpKoJYmIA4yxR8SBWcWmmpXS3Wyaabm9s6Hzasq/zrDTjygM038Y7c+Wr7+a25+H2TiIEqQY3OooeJcM3VxdzhwamRKwzq+PfhvqvqROFsFIDnss6orVyJETN4wkG2Rc++HU5UHW8/ehV+WKtyyDXdCR9WOZUwwtxcVb6E61WOrejgGk/4l6gKJ6pcq7XhiSrnsv/Drm3ePWzBWe7udrgF8z/g5iGjxrQAd3tQgfd3BORqoNyvIuCdFXQoxN0ZRIkXQqqhsBjYjdxiYBdyfYB5wclPzHvEGDA6CcDrQebW12ng8+TsClPT4SDNEful2T7GTvxBCvhRcIIV/iEJwX6TzoPTrHAuGTSbDsIrrPBvdLDEfKr7qGC/tM/qTnnOaWC/5K4x5fac+QH4jml/SIyd+01ng7CTKfBHQrrJ8JmHojNm+IlHooElzxNL+HMwz/jUNxRlx8/guZawNEh37bglscIJOvg7ZvhbQUccooVDNxbu/QJMD0eXRuByehie23sd2C2Ng4VuOQT3hOAXo5DbqSO2GBa6dy34YzAjbLGvAYb3fS/hu2BG2GJfAwzv+wF+L+DPwIywxb4GGN5XgT8FIwYY3tcIw/u+GzDRw6SLcC8mYLjHITi7MAC2UHQIvtZbH0t49Wswehieu3pz4QFRsI/yfxKWcGwMjGTo4B4Cz42ho5/AXpHJgHW+UVX83tfckCGv4LlHKPYl2FiZ2Ci/psKT+daWsTF4bswKViorvZTbhvyyfCWZvFZ/mfcfaW6xHGoHbnZ61HNZXJE7FzeJdq1ME9nWQLswVn+qRq9OLuOACi/gTbtwv53IpDq6gjc7FmUyoq7Gia15/XZhWa63Rxdx2bi2ibVHdUFk2/CprXRnc5U8NSzJOK2uDeB+e/MUeNdOT3VH5cP/6JdOSUx/3Ti1NW/XLrxLjubaw5dIxPiYFlS3LpPdLsMyntGuEfiZYaWkrpSIbB/+yl7aD5Ty9NrSL6xqZzpgWIG6BlzR5sfwM3X7Fta9flV0C5bwnr30T6FAfkvdHhmuay8QJGJz2h4ID0V0EVzQfv0TIep2HNcekC8fMQTDQyb9TozvZvO6U7qW1zZvaJsz+Y73u3t/m00H4PnHo/f1FZZ0f1AqqZtLc9rm1wX9F1yU1vAQAA+blH/A/GenvsfEbDoEB5jduRimgX3McI4OZj/iEzq4G99jAPYemzT/V2CGrfQiNht+7DWH/5zPY9aGaeDj49vzjJmPbsK3heRFKTFwCsWRkFIoIwaOow0xcAWNioGXUV0MXESNigj33xxqBETAiw3UyP38I/8Kzc/eHvB3460P/Ub5H/LM5eeri885t9z+KHuGr+s9acM5L1e4pN01UODpBvQ3aDzg52aMt6RwkxdPOm7CSXs5nmfDbUdLHJ7bqZm33mjlc9rdyJncWnZ/0Um2kgZuprs4SDl00VhOw3fxKc+yg0w8lfJ2r1S8slyMdjJvBBgAjaD61EhSiREAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/startup/douban-logo.png\n// module id = 9s07\n// module chunks = 1","<!--启动页组件-->\r\n<template>\r\n  <transition name=\"move\">\r\n    <div class=\"startup\">\r\n      <div class=\"welcome\">\r\n        <div class=\"time\" @click=\"timeItem\">跳过 {{timer}}s</div>\r\n        <div class=\"welcome-wrapper\">\r\n          <div class=\"smile\">^_^</div>\r\n          <div class=\"date\">{{date}}</div>\r\n          <div class=\"test\">{{text}}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"logo\">\r\n        <div class=\"logo-wrapper\">\r\n          <img src=\"./douban-logo.png\" alt=\"\" width=\"48\" height=\"48\">\r\n          <div class=\"logo-desc\">\r\n            <span class=\"title\">豆瓣</span>\r\n            <span class=\"desc\">我们的精神角落</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  export default {\r\n    data() {\r\n      return {\r\n        text: '欢迎进入豆瓣电影',\r\n        timer: 5,             // 默认的倒计时时间\r\n        stop: false,       // 倒计时默认是停止\r\n        interval: null\r\n      }\r\n    },\r\n    props: {\r\n      loadingFlag: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    computed: {\r\n      date() {\r\n        let now = new Date()\r\n        const week = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\r\n        let currentWeek = week[now.getDay()]       // 获取当天的星期\r\n        let year = now.getFullYear()         // 获取当前年份\r\n        let month = now.getMonth() + 1      // 获取当前的月份\r\n        let day = now.getDate()            // 获取当前的日\r\n        return `${year}年${month}月${day}日  ${currentWeek}`\r\n      }\r\n    },\r\n    created() {\r\n      this.starTimer()\r\n    },\r\n    methods: {\r\n      timeItem() {\r\n        this.$emit('select')\r\n        clearInterval(this.interval)\r\n      },\r\n      update() {\r\n        if (this.timer < 2) {\r\n          clearInterval(this.interval)\r\n        } else {\r\n          this.timer--\r\n        }\r\n      },\r\n      starTimer() {\r\n        if (this.stop === false) {\r\n          this.interval = setInterval(this.update, 1000)\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  .startup {\r\n    position fixed\r\n    top: 0\r\n    bottom: 0\r\n    left: 0\r\n    right: 0\r\n    z-index 9999\r\n    background-color: #fff\r\n  }\r\n\r\n  .move-enter-active, .move-leave-active {\r\n    transition: all 0.3s;\r\n  }\r\n\r\n  .move-enter, .move-leave-to {\r\n    animation move .3s ease\r\n  }\r\n\r\n  .welcome {\r\n    height: 70%\r\n    width: 100%\r\n    position: relative\r\n  }\r\n\r\n  .welcome .time {\r\n    width: 80px\r\n    height: 30px\r\n    line-height: 30px\r\n    text-align: center\r\n    color #000\r\n    position: absolute\r\n    top 20px\r\n    right 25px\r\n    border-radius 80px\r\n    background-color: rgba(217, 221, 232, .5)\r\n  }\r\n\r\n  .welcome .welcome-wrapper {\r\n    position absolute\r\n    top: 25%\r\n    left: 50%\r\n    transform translate(-50%, 0)\r\n    text-align: center\r\n    color #333\r\n  }\r\n\r\n  .welcome-wrapper .smile {\r\n    color #06C512\r\n    font-size 55px\r\n    white-space nowrap\r\n  }\r\n\r\n  .welcome-wrapper .date {\r\n    margin 30px 0 20px 0\r\n    white-space nowrap\r\n    font-size 16px\r\n  }\r\n\r\n  .welcome-wrapper .test {\r\n    font-size 18px\r\n  }\r\n\r\n  .logo {\r\n    height: 20%\r\n  }\r\n\r\n  .logo .logo-wrapper {\r\n    position: relative\r\n    top: 50%\r\n    transform translateY(-50%)\r\n    display flex\r\n    align-items center\r\n    justify-content center\r\n    width: 60%\r\n    margin 0 auto\r\n  }\r\n\r\n  .logo-wrapper img {\r\n    flex 48px 0 0\r\n    margin-right 15px\r\n  }\r\n\r\n  .logo-wrapper .logo-desc {\r\n    height: 48px\r\n    display flex\r\n    flex-direction column\r\n    justify-content space-around\r\n  }\r\n\r\n  .logo-desc .title {\r\n    display: inline-block\r\n    font-size 15px\r\n    color #333\r\n  }\r\n\r\n  .logo-desc .desc {\r\n    display: inline-block\r\n    font-size 13px\r\n  }\r\n\r\n  @keyframes move {\r\n    0% {\r\n      opacity 1\r\n      transform scale(1)\r\n    }\r\n    40% {\r\n      opacity 0.6\r\n      transform scale(0.7)\r\n    }\r\n    80% {\r\n      opacity 0.4\r\n      transform scale(0.4)\r\n    }\r\n    100% {\r\n      opacity 0\r\n      transform scale(0.1)\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/startup/startup.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"move\"}},[_c('div',{staticClass:\"startup\"},[_c('div',{staticClass:\"welcome\"},[_c('div',{staticClass:\"time\",on:{\"click\":_vm.timeItem}},[_vm._v(\"跳过 \"+_vm._s(_vm.timer)+\"s\")]),_vm._v(\" \"),_c('div',{staticClass:\"welcome-wrapper\"},[_c('div',{staticClass:\"smile\"},[_vm._v(\"^_^\")]),_vm._v(\" \"),_c('div',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.date))]),_vm._v(\" \"),_c('div',{staticClass:\"test\"},[_vm._v(_vm._s(_vm.text))])])]),_vm._v(\" \"),_c('div',{staticClass:\"logo\"},[_c('div',{staticClass:\"logo-wrapper\"},[_c('img',{attrs:{\"src\":require(\"./douban-logo.png\"),\"alt\":\"\",\"width\":\"48\",\"height\":\"48\"}}),_vm._v(\" \"),_c('div',{staticClass:\"logo-desc\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"豆瓣\")]),_vm._v(\" \"),_c('span',{staticClass:\"desc\"},[_vm._v(\"我们的精神角落\")])])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-280c3966\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/base/startup/startup.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-280c3966\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./startup.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./startup.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./startup.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-280c3966\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./startup.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-280c3966\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/startup/startup.vue\n// module id = null\n// module chunks = ","<!--底部通栏组件-->\r\n<template>\r\n  <div class=\"tab\" v-show=\"tabFlag\">\r\n    <router-link to=\"/moiveshow\" tag=\"div\" class=\"tab-item\">\r\n      <span class=\"tab-icon\">\r\n        <!--<i class=\"icon-video-camera\"></i>-->\r\n        <i class=\"icon-collect\"></i>\r\n      </span>\r\n      <span class=\"tab-link\">热映</span>\r\n    </router-link>\r\n    <router-link to=\"/rank\" tag=\"div\" class=\"tab-item\">\r\n      <span class=\"tab-icon\">\r\n        <i class=\"icon-stats-bars\"></i>\r\n      </span>\r\n      <span class=\"tab-link\">排行</span>\r\n    </router-link>\r\n    <router-link to=\"/video\" tag=\"div\" class=\"tab-item\">\r\n      <span class=\"tab-icon\">\r\n        <i class=\"icon-video-camera\"></i>\r\n      </span>\r\n      <span class=\"tab-link\">视频</span>\r\n    </router-link>\r\n    <router-link to=\"/user\" tag=\"div\" class=\"tab-item\">\r\n      <span class=\"tab-icon\">\r\n        <i class=\"icon-user\"></i>\r\n      </span>\r\n      <span class=\"tab-link\">我的</span>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  export default {\r\n    props: {\r\n      tabFlag: {\r\n        type: Boolean,\r\n        default: true\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  .tab {\r\n    position: fixed\r\n    width 100%\r\n    bottom 0\r\n    border-top 1px solid #42bd56\r\n    display flex\r\n    height: 60px\r\n    font-size 14px\r\n    background-color: #fff;\r\n    z-index 9990\r\n  }\r\n\r\n  .tab .tab-item {\r\n    flex 1\r\n    text-align: center\r\n    display flex\r\n    flex-direction column\r\n    align-items center\r\n    justify-content center\r\n  }\r\n\r\n  .tab-item .tab-icon {\r\n    font-size 22px\r\n    color #777\r\n  }\r\n\r\n  .tab-item .tab-link {\r\n    font-size 13px\r\n    color #777\r\n  }\r\n\r\n  .tab-item.active .tab-icon {\r\n    color #42bd56\r\n  }\r\n\r\n  .tab-item.active .tab-link {\r\n    color #42bd56\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/tab/tab.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tabFlag),expression:\"tabFlag\"}],staticClass:\"tab\"},[_c('router-link',{staticClass:\"tab-item\",attrs:{\"to\":\"/moiveshow\",\"tag\":\"div\"}},[_c('span',{staticClass:\"tab-icon\"},[_c('i',{staticClass:\"icon-collect\"})]),_vm._v(\" \"),_c('span',{staticClass:\"tab-link\"},[_vm._v(\"热映\")])]),_vm._v(\" \"),_c('router-link',{staticClass:\"tab-item\",attrs:{\"to\":\"/rank\",\"tag\":\"div\"}},[_c('span',{staticClass:\"tab-icon\"},[_c('i',{staticClass:\"icon-stats-bars\"})]),_vm._v(\" \"),_c('span',{staticClass:\"tab-link\"},[_vm._v(\"排行\")])]),_vm._v(\" \"),_c('router-link',{staticClass:\"tab-item\",attrs:{\"to\":\"/video\",\"tag\":\"div\"}},[_c('span',{staticClass:\"tab-icon\"},[_c('i',{staticClass:\"icon-video-camera\"})]),_vm._v(\" \"),_c('span',{staticClass:\"tab-link\"},[_vm._v(\"视频\")])]),_vm._v(\" \"),_c('router-link',{staticClass:\"tab-item\",attrs:{\"to\":\"/user\",\"tag\":\"div\"}},[_c('span',{staticClass:\"tab-icon\"},[_c('i',{staticClass:\"icon-user\"})]),_vm._v(\" \"),_c('span',{staticClass:\"tab-link\"},[_vm._v(\"我的\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-f540801a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/tab/tab.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f540801a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./tab.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./tab.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./tab.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f540801a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./tab.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f540801a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/tab/tab.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"app\">\r\n    <keep-alive>\r\n      <router-view @hasLoad=\"hasLoad\" v-if=\"$route.meta.keepAlive\"></router-view>\r\n    </keep-alive>\r\n    <router-view @hasLoad=\"hasLoad\" v-if=\"!$route.meta.keepAlive\"></router-view>\r\n    <tab></tab>\r\n    <startup v-if=\"!loadingFlag\" @select=\"selectItem\"></startup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import startup from 'base/startup/startup.vue'\r\n  import tab from 'components/tab/tab.vue'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        loadingFlag: false\r\n      }\r\n    },\r\n    methods: {\r\n      hasLoad() {\r\n        setTimeout(() => {\r\n          this.loadingFlag = true\r\n        }, 4000)\r\n      },\r\n      selectItem() {\r\n        this.loadingFlag = true\r\n      }\r\n    },\r\n    components: {\r\n      startup,\r\n      tab\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('keep-alive',[(_vm.$route.meta.keepAlive)?_c('router-view',{on:{\"hasLoad\":_vm.hasLoad}}):_vm._e()],1),_vm._v(\" \"),(!_vm.$route.meta.keepAlive)?_c('router-view',{on:{\"hasLoad\":_vm.hasLoad}}):_vm._e(),_vm._v(\" \"),_c('tab'),_vm._v(\" \"),(!_vm.loadingFlag)?_c('startup',{on:{\"select\":_vm.selectItem}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-7813b7d9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7813b7d9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7813b7d9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7813b7d9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","const apikey = '0b2bdeda43b5688921839c8ecb20399b'\r\n\r\nexport const commonParams = {\r\n  apikey\r\n}\r\nexport const ERR_OK = 0\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/config.js","import axios from 'axios'\r\nimport {commonParams} from './config'\r\n\r\nexport function getMovieShow(start, count) {               // 正在热映的数据\r\n  const url = '/v2/movie/in_theaters'\r\n  const data = Object.assign({}, commonParams, {\r\n    start,\r\n    count\r\n  })\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data)\r\n  }).catch((err) => {\r\n    console.log(err)\r\n  })\r\n}\r\n\r\nexport function getComingMovie(start, count) {           // 即将上映的数据\r\n  const url = 'v2/movie/coming_soon';\r\n  const data = Object.assign({}, commonParams, {\r\n    start,\r\n    count\r\n  });\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data);\r\n  }).catch((err) => {\r\n    console.log(err);\r\n  });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/movieShow.js","<!--正在热映与即将上映的开关切换组件-->\r\n<template>\r\n  <ul class=\"switches\">\r\n    <li class=\"switch-item\"\r\n        v-for=\"(item,index) in switches\"\r\n        :class=\"{'active':currentIndex===index,'small-font':smallFont === true}\"\r\n        @click=\"switchItem(index)\"\r\n    >\r\n      <span>{{item.name}}</span>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  export default {\r\n    props: {\r\n      switches: {\r\n        type: Array,\r\n        default: []\r\n      },\r\n      currentIndex: {\r\n        type: Number,\r\n        default: 0\r\n      },\r\n      smallFont: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    methods: {\r\n      switchItem(index) {      // 当点击切换开关时，将点击的index传到父组件\r\n        this.$emit('switch', index)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  .switches {\r\n    position: relative\r\n    z-index 200\r\n    background-color: #fff\r\n    display: flex\r\n    align-items center\r\n    width: 100%\r\n  }\r\n\r\n  .switches .switch-item {\r\n    flex 1\r\n    text-align: center\r\n    padding 15px\r\n    font-size 16px\r\n    color #777\r\n    border-bottom 1px solid transparent\r\n  }\r\n\r\n  .switch-item.small-font {\r\n    padding 14px 5px\r\n    font-size 12px\r\n  }\r\n\r\n  .switch-item.active {\r\n    color #42bd56\r\n    border-bottom 1px solid #42bd56\r\n  }\r\n\r\n  .switch-item.small-font {\r\n    padding: 14px 5px\r\n    font-size 12px\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/switches/switches.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"switches\"},_vm._l((_vm.switches),function(item,index){return _c('li',{staticClass:\"switch-item\",class:{'active':_vm.currentIndex===index,'small-font':_vm.smallFont === true},on:{\"click\":function($event){_vm.switchItem(index)}}},[_c('span',[_vm._v(_vm._s(item.name))])])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-0a4c9203\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/base/switches/switches.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0a4c9203\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./switches.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./switches.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./switches.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0a4c9203\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./switches.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0a4c9203\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/switches/switches.vue\n// module id = null\n// module chunks = ","<!--better-scroll 滚动组件-->\r\n<template>\r\n  <div ref=\"wrapper\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import BScroll from 'better-scroll'\r\n\r\n  export default {\r\n    props: {\r\n      probeType: {           // better-scroll插件派发滚动的事件方式\r\n        type: Number,\r\n        default: 1\r\n      },\r\n      click: {              // 是否支持点击事件\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      data: {\r\n        default: null\r\n      },\r\n      scrollX: {        // 设置滚动的方向为X轴\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      listenScroll: {           // 是否要监听滚动事件\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      pullup: {           // 是否开启上拉刷新数据\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      beforeScroll: {           // 滚动开始时派发的事件\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      refreshDelay: {         // 控制刷新数据的延迟时间\r\n        type: Number,\r\n        default: 20\r\n      },\r\n      eventPassthrough: {        // 忽略滚动的方向\r\n        type: String,\r\n        default: ''\r\n      }\r\n    },\r\n    mounted() {\r\n      setTimeout(() => {\r\n        this._initScroll()\r\n      }, 20)\r\n    },\r\n    watch: {\r\n      data() {          // 监听data数据的变化，重新计算滚动的高度\r\n        setTimeout(() => {\r\n          this.refresh()\r\n        }, this.refreshDelay)\r\n      }\r\n    },\r\n    methods: {\r\n      _initScroll() {\r\n        if (!this.$refs.wrapper) {\r\n          return\r\n        }\r\n        this.scroll = new BScroll(this.$refs.wrapper, {\r\n          probeType: this.probeType,\r\n          click: this.click,\r\n          scrollX: this.scrollX,\r\n          eventPassthrough: this.eventPassthrough\r\n        })\r\n        if (this.listenScroll) {             // 是否要监听滚动事件\r\n          this.scroll.on('scroll', (pos) => {\r\n            this.$emit('scroll', pos)\r\n          })\r\n        }\r\n        if (this.pullup) {         // 是否支持上拉刷新数据\r\n          this.scroll.on('scrollEnd', () => {\r\n            if (this.scroll.y <= this.scroll.maxScrollY + 50) {      // 快滚动到底部\r\n              this.$emit('scrollToEnd')           // 派发事件说明已经滚动到底部了\r\n            }\r\n          })\r\n        }\r\n        if (this.beforeScroll) {              // 在触发之前派发事件，只要是用于用户体验优化\r\n          this.scroll.on('beforeScrollStart', () => {\r\n            this.$emit('beforeScroll')\r\n          })\r\n        }\r\n      },\r\n      enable() {            // 启用 better-scroll，默认开启\r\n        this.scroll && this.scroll.enable();\r\n      },\r\n      disable() {            // 禁用 better-scroll\r\n        this.scroll && this.scroll.disable();\r\n      },\r\n      refresh() {             // 强制 scroll 重新计算，当 better-scroll 中的元素发生变化的时候调用此方法\r\n        this.scroll && this.scroll.refresh();\r\n      },\r\n      scrollTo() {               // 滚动到某个位置，x,y 代表坐标，time 表示动画时间，easing 表示缓动函数\r\n        this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments);\r\n      },\r\n      scrollToElement() {         // 滚动到某个元素，el（必填）表示 dom 元素，time 表示动画时间，offsetX 和 offsetY 表示坐标偏移量，easing 表示缓动函数\r\n        this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments);\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/scroll/scroll.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"wrapper\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-5f6dfb87\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/base/scroll/scroll.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5f6dfb87\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./scroll.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./scroll.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./scroll.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5f6dfb87\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./scroll.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5f6dfb87\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/scroll/scroll.vue\n// module id = null\n// module chunks = ","// 创建电影类（获取需要的数据）\r\nexport default class Movie {\r\n  constructor({id, title, director, casts, collectCount, rating, image, date, pubdates, subtype}) {\r\n    this.id = id                                                        // 电影的id\r\n    this.title = title                                                 // 电影的标题\r\n    this.director = director                                          // 电影的导演\r\n    this.casts = casts                                               // 导演演员的信息\r\n    this.collectCount = collectCount || 0                            // 电影累计观看人数\r\n    this.rating = rating                                            // 电影的评分信息\r\n    this.image = image                                             // 电影展示的图片\r\n    this.date = date || 0                                         // 用于显示即将上映的电影是否待定\r\n    this.pubdates = pubdates || ''                               // 用于电影详情的上映日期\r\n    this.subtype = subtype || ''                                // 电影的类型\r\n  }\r\n}\r\n\r\nexport function createMovieList(movieList) {         // 创建包含电影类的通用电影信息列表\r\n  let ret = []\r\n  movieList.forEach((movie, index) => {\r\n    ret.push(new Movie({\r\n      id: movie.id,\r\n      title: movie.title,\r\n      director: filterDirector(movie.directors),\r\n      casts: filterCasts(movie.casts),\r\n      collectCount: movie.collect_count,\r\n      rating: movie.rating.average,\r\n      image: movie.images.large,\r\n      date: filterDate(movie.mainland_pubdate, movie.pubdates),         // 该条目只用于首页的热映电影和即将上映电影\r\n      pubdates: movie.pubdates\r\n    }))\r\n  })\r\n  return ret\r\n}\r\n\r\nexport function createRankList(rankList) {                  // 创建包含电影类的合适排行榜的电影信息列表\r\n  let ret = []\r\n  rankList.forEach((item) => {\r\n    item = item.subject ? item.subject : item\r\n    ret.push(new Movie({\r\n      id: item.id,\r\n      title: item.title,\r\n      director: filterDirector(item.directors),\r\n      casts: filterCasts(item.casts),\r\n      rating: item.rating.average,\r\n      image: item.images.large\r\n    }))\r\n  })\r\n  return ret\r\n}\r\n\r\nexport function createSearchList(movieList) {\r\n  let ret = []\r\n  movieList.forEach((movie, index) => {\r\n    ret.push(new Movie({\r\n      id: movie.id,\r\n      title: movie.title,\r\n      director: filterDirector(movie.directors),\r\n      casts: filterCasts(movie.casts),\r\n      rating: movie.rating.average,\r\n      image: movie.images.small,\r\n      pubdates: movie.pubdates,\r\n      subtype: movie.subtype\r\n    }))\r\n  })\r\n  return ret\r\n}\r\n\r\n// 预处理电影导演的信息，只获取主导演\r\nfunction filterDirector(directors) {\r\n  return directors.length ? directors[0].name : ''\r\n}\r\n\r\n// 预处理演员信息\r\nfunction filterCasts(casts) {\r\n  let ret = ''\r\n  casts.forEach((item, index) => {\r\n    if (index < casts.length - 1) {\r\n      ret += `${item.name} / `\r\n    } else {\r\n      ret += item.name\r\n    }\r\n  })\r\n  return ret\r\n}\r\n\r\n// 预处理时间信息\r\nfunction filterDate(date, pubdates) {\r\n  if (new Date().getTime() > new Date(date).getTime()) {       // 在上映电影列表中出现重映电影的情况\r\n    // 判断该重映电影是否为待定日期\r\n    let reg = /^\\d{4}[-]\\d{2}[-]\\d{2}/\r\n    for (let i = 0; i < pubdates.length; i++) {\r\n      // 如果重映电影的日期数据完整，不需要待定显示\r\n      if (pubdates[i].indexOf('中国大陆重映') !== -1 && reg.test(pubdates[i])) {             // test() 方法用于检测一个字符串是否匹配某个模式.\r\n        return normalizDate(pubdates[i].match(reg)[0])         // match() 方法可在字符串内检索指定的值，或找到一个或多个正则表达式的匹配。\r\n      }\r\n    }\r\n    return findShowTime(pubdates, '中国大陆重映')\r\n  }\r\n  if (!date) {             // 如果电影时间不确定，数据为空返回undefined\r\n    return findShowTime(pubdates, '中国大陆')\r\n  }\r\n  return normalizDate(date)\r\n}\r\n\r\n// 获取电影上映的待定时间\r\nfunction findShowTime(pubdates, key) {\r\n  let month = ''\r\n  let year = ''\r\n  pubdates.forEach((item) => {\r\n    let index = item.indexOf(key)\r\n    if (index > -1) {\r\n      if (!item.split('-')[1]) {        // 不存在月份信息\r\n        year = item.split('-')[0].substr(0, 4)\r\n      } else {\r\n        month = (item.split('-'))[1].substr(0, 2)\r\n        if (month.substr(0, 1) === '0') {\r\n          month = month.substr(1, 1)\r\n        }\r\n      }\r\n    }\r\n  })\r\n  if (!month) {\r\n    return `${year}年待定`\r\n  }\r\n  return `${month}月待定`\r\n}\r\n\r\n// 格式化日期\r\nfunction normalizDate(date) {\r\n  const week = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\r\n  let currentWeek = week[new Date(date).getDay()]    // 获取当天的星期\r\n  let time = `${date.split('-')[1]}月${date.split('-')[2]}日`;              // split() 方法用于把一个字符串分割成字符串数组\r\n  if (time.substr(0, 1) === '0') {        // 月份去零\r\n    time = time.substr(1)\r\n  }\r\n  let ret = time + ' ' + currentWeek\r\n  if (needYear(date)) {              // 如果不是本年度电影\r\n    return `${date.split('-')[0]}年${ret}`\r\n  }\r\n  return ret\r\n}\r\n\r\n// 判断是否需要显示年份\r\nfunction needYear(date) {\r\n  return parseInt(new Date(date).getFullYear()) > parseInt(new Date().getFullYear())\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/movielist.js","<template>\r\n  <div class=\"loading\" :class=\"{'full':fullScreen}\">\r\n    <div class=\"hasmore\" v-if=\"hasMore\">\r\n      <span></span>\r\n      <span></span>\r\n      <span></span>\r\n      <span></span>\r\n      <span></span>\r\n    </div>\r\n    <div class=\"nomore\" v-else>没有更多数据了...</div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  export default {\r\n    props: {\r\n      hasMore: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      fullScreen: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  .loading {\r\n    width: 90%\r\n    height: 15px\r\n    margin 0 auto\r\n    text-align center\r\n    padding-bottom 10px\r\n    display block\r\n  }\r\n\r\n  .loading .nomore {\r\n    text-align: center;\r\n    color: #24C524;\r\n    font-size: 16px;\r\n  }\r\n\r\n  .loading.full {\r\n    position: absolute\r\n    top: 50%\r\n    width: 100%\r\n    transform translateY(-50%)\r\n  }\r\n\r\n  .hasmore {\r\n    height: 100%\r\n  }\r\n\r\n  .hasmore span {\r\n    display: inline-block\r\n    width: 15px\r\n    height: 100%\r\n    margin-right 5px\r\n    background-color: #90EE90\r\n    animation load 1.04s ease infinite\r\n  }\r\n\r\n  span:nth-child(1) {\r\n    animation-delay 0.13s\r\n  }\r\n\r\n  span:nth-child(2) {\r\n    animation-delay 0.26s\r\n  }\r\n\r\n  span:nth-child(3) {\r\n    animation-delay 0.39s\r\n  }\r\n\r\n  span:nth-child(4) {\r\n    animation-delay 0.52s\r\n  }\r\n\r\n  span:nth-child(5) {\r\n    animation-delay 0.65s\r\n  }\r\n\r\n  span:last-child {\r\n    margin-right 0px\r\n  }\r\n\r\n  @keyframes load {\r\n    0% {\r\n      opacity 1\r\n      transform scale(1.2)\r\n    }\r\n    100% {\r\n      opacity .2\r\n      transform scale(.2)\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/loading/loading.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loading\",class:{'full':_vm.fullScreen}},[(_vm.hasMore)?_c('div',{staticClass:\"hasmore\"},[_c('span'),_vm._v(\" \"),_c('span'),_vm._v(\" \"),_c('span'),_vm._v(\" \"),_c('span'),_vm._v(\" \"),_c('span')]):_c('div',{staticClass:\"nomore\"},[_vm._v(\"没有更多数据了...\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-3709b3e9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/base/loading/loading.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3709b3e9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./loading.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./loading.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./loading.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3709b3e9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./loading.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3709b3e9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/loading/loading.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"star\" :class=\"starType\">\r\n    <div class=\"no-score\" v-if=\"!score\">暂无评分</div>\r\n    <span class=\"star-item\" v-if=\"score || needNullStar\" v-for=\"item in itemClass\" :class=\"item\"></span>\r\n    <span class=\"show-score\" v-if=\"showScore && score\">{{normalizeScore}}分</span>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  const LENGTH = 5        // 定义星星的长度\r\n  const CLS_ON = 'on'\r\n  const CLS_HALF = 'half'\r\n  const CLS_OFF = 'off'\r\n  export default {\r\n    props: {\r\n      size: {\r\n        type: Number,\r\n        default: 24\r\n      },\r\n      showScore: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      score: {\r\n        type: Number,\r\n        default: 0\r\n      },\r\n      needNullStar: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    computed: {\r\n      normalizeScore() {       // 电影评分数据的末尾补零\r\n        let len = this.score.toString().length\r\n        if (len < 2) {\r\n          return `${this.score}.0`\r\n        }\r\n        return this.score\r\n      },\r\n      starType() {          // 星星评分的图片大小\r\n        return 'star-' + this.size\r\n      },\r\n      itemClass() {\r\n        let result = []\r\n        let score = Math.floor(this.score) / 2\r\n        let hasDecimal = score % 1 !== 0\r\n        let integer = Math.floor(score)\r\n        for (let i = 0; i < integer; i++) {\r\n          result.push(CLS_ON)\r\n        }\r\n        if (hasDecimal) {\r\n          result.push(CLS_HALF)\r\n        }\r\n        while (result.length < LENGTH) {\r\n          result.push(CLS_OFF)\r\n        }\r\n        return result\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  @import \"~@/common/stylus/mixin.styl\"\r\n\r\n  .star {\r\n    font-size 0\r\n  }\r\n\r\n  .star .no-score {\r\n    width: 100%\r\n    font-size 12px\r\n  }\r\n\r\n  .star .no-score.block {\r\n    display block\r\n    font-size 12px\r\n    text-align: center\r\n    padding 15px 0 10px 0\r\n  }\r\n\r\n  .star .show-score {\r\n    display: inline-block\r\n    font-size 12px\r\n    margin-left: 5px\r\n  }\r\n\r\n  .star .star-item {\r\n    display inline-block\r\n    background-repeat no-repeat\r\n  }\r\n\r\n  .star.star-24 .star-item {\r\n    height: 10px\r\n    width: 10px\r\n    margin-right 3px\r\n    background-size 10px 10px\r\n  }\r\n\r\n  .star.star-24 .star-item:last-child {\r\n    margin-right 0\r\n  }\r\n\r\n  .star.star-24 .star-item.on {\r\n    bg-image('star24_on')\r\n  }\r\n\r\n  .star.star-24 .star-item.half {\r\n    bg-image('star24_half')\r\n  }\r\n\r\n  .star.star-24 .star-item.off {\r\n    bg-image('star24_off')\r\n  }\r\n\r\n  .star.star-36 .star-item {\r\n    height: 15px\r\n    width: 15px\r\n    margin-right 6px\r\n    background-size 15px 15px\r\n  }\r\n\r\n  .star.star-36 .star-item:last-child {\r\n    margin-right 0\r\n  }\r\n\r\n  .star.star-36 .star-item.on {\r\n    bg-image('star36_on')\r\n  }\r\n\r\n  .star.star-36 .star-item.half {\r\n    bg-image('star36_half')\r\n  }\r\n\r\n  .star.star-36 .star-item.off {\r\n    bg-image('star36_off')\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/star/star.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"star\",class:_vm.starType},[(!_vm.score)?_c('div',{staticClass:\"no-score\"},[_vm._v(\"暂无评分\")]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.itemClass),function(item){return (_vm.score || _vm.needNullStar)?_c('span',{staticClass:\"star-item\",class:item}):_vm._e()}),_vm._v(\" \"),(_vm.showScore && _vm.score)?_c('span',{staticClass:\"show-score\"},[_vm._v(_vm._s(_vm.normalizeScore)+\"分\")]):_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-50a2e2d2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/base/star/star.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-50a2e2d2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./star.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./star.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./star.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-50a2e2d2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./star.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-50a2e2d2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/star/star.vue\n// module id = null\n// module chunks = ","<!--电影展示列表组件-->\r\n<template>\r\n  <div class=\"movielist\">\r\n    <ul>\r\n      <li ref=\"group\" v-for=\"(item,index) in moviehot\" @click=\"selectItem(item)\">\r\n        <div class=\"date\" v-if=\"timeData && !dateEqual(index)\">{{item.date}}</div>\r\n        <div class=\"item\">\r\n          <div class=\"info-img\">\r\n            <img v-lazy=\"replaceUrl(item.image)\" alt=\"\" height=\"120\" width=\"80\">\r\n          </div>\r\n          <div class=\"info-desc\">\r\n            <p class=\"title\">{{item.title}}</p>\r\n            <star :showScore=\"showScore\" :size=\"24\" :score=\"item.rating\" class=\"stars\"></star>\r\n            <div class=\"director\">导演：{{item.director}}</div>\r\n            <div class=\"casts\">主演：{{item.casts}}</div>\r\n            <div class=\"hasWatched\">{{item.collectCount}} 人看过</div>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <loading :hasMore=\"hasMore\" v-if=\"moviehot.length\"></loading>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import loading from 'base/loading/loading.vue'\r\n  import star from 'base/star/star.vue'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        showScore: true,\r\n        casts: []\r\n      }\r\n    },\r\n    props: {\r\n      moviehot: {\r\n        type: Array,\r\n        default: []\r\n      },\r\n      hasMore: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      timeData: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    created() {\r\n      this.listHeight = []\r\n      this.indexMap = {}\r\n    },\r\n    watch: {\r\n      moviehot() {\r\n        if (this.timeData) {\r\n          setTimeout(() => {           // 需要延迟来保证dom更新\r\n            this.getMap()\r\n            this._recalculateHeight()\r\n          }, 20)\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      selectItem(item) {               // 点击电影列表时，将电影列表的数据传到电影详情页\r\n        this.$emit('select', item)\r\n      },\r\n      dateEqual(index) {          // 确定相邻两部电影日期是否一样，划分日期分组\r\n        if (index === 0) {\r\n          return false\r\n        }\r\n        return this.moviehot[index].date === this.moviehot[index - 1].date\r\n      },\r\n      recalculate() {                  // 重新计算各个区域高度，防止用户在发起新数据请求后切换选项卡无法正确获取高度\r\n        setTimeout(() => {            // 需要延迟来保证dom更新\r\n          this.getMap()\r\n          this._recalculateHeight()\r\n        }, 20)\r\n      },\r\n      getMap() {        // 根据日期创建电影分组\r\n        let movielists = {}\r\n        for (let i = 0; i < this.moviehot.length; i++) {\r\n          if (movielists[this.moviehot[i].date]) {\r\n            movielists[this.moviehot[i].date].push(i)\r\n          } else {\r\n            movielists[this.moviehot[i].date] = [i]\r\n          }\r\n        }\r\n        this.indexMap = movielists\r\n        // console.log(this.indexMap)\r\n      },\r\n      _recalculateHeight() {       // 计算每个区间的高度\r\n        this.listHeight = []\r\n        const list = this.$refs.group\r\n        let height = 0\r\n        let map = Object.values(this.indexMap)\r\n        // console.log(map)\r\n        this.listHeight.push(height)\r\n        map.forEach((item, index) => {\r\n          item.forEach((item) => {\r\n            height += list[item].clientHeight\r\n          })\r\n          this.listHeight.push(height)\r\n        })\r\n        this.$emit('getHeight', this.listHeight)\r\n        this.$emit('getMap', Object.keys(this.indexMap))\r\n        // console.log(Object.keys(this.indexMap))\r\n      },\r\n      replaceUrl(url) {            // 图片防盗链处理,把现在的图片连接传进来，返回一个不受限制的路径\r\n        return ('https://images.weserv.nl/?url=' + url.replace(/http\\w{0,1}:\\/\\//, ''))\r\n      }\r\n    },\r\n    components: {\r\n      loading,\r\n      star\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  @import \"~@/common/stylus/mixin.styl\"\r\n  .movielist ul .date {\r\n    width: 100%\r\n    background-color: #eee\r\n    padding-left 5px\r\n    height: 30px\r\n    line-height: 30px\r\n  }\r\n\r\n  .movielist ul .item {\r\n    display: flex\r\n    align-items center\r\n    box-sizing border-box\r\n    padding 15px 0\r\n  }\r\n\r\n  .item .info-img {\r\n    flex 80px 0 0\r\n    margin-right 10px\r\n  }\r\n\r\n  .item .info-desc {\r\n    height: 120px\r\n    flex 1\r\n    display: flex\r\n    flex-direction column\r\n    justify-content space-around\r\n    overflow: hidden\r\n  }\r\n\r\n  .info-desc .title {\r\n    font-size 16px\r\n    color #333\r\n    no-wrap()\r\n  }\r\n\r\n  .info-desc .director {\r\n    font-size 12px\r\n  }\r\n\r\n  .info-desc .casts {\r\n    font-size 12px\r\n    no-wrap()\r\n  }\r\n\r\n  .info-desc .hasWatched {\r\n    color #333\r\n    font-size 12px\r\n  }\r\n\r\n  .info-desc .stars {\r\n    display: inline-block\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/movielist/movielist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"movielist\"},[_c('ul',_vm._l((_vm.moviehot),function(item,index){return _c('li',{ref:\"group\",refInFor:true,on:{\"click\":function($event){_vm.selectItem(item)}}},[(_vm.timeData && !_vm.dateEqual(index))?_c('div',{staticClass:\"date\"},[_vm._v(_vm._s(item.date))]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"info-img\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.replaceUrl(item.image)),expression:\"replaceUrl(item.image)\"}],attrs:{\"alt\":\"\",\"height\":\"120\",\"width\":\"80\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"info-desc\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('star',{staticClass:\"stars\",attrs:{\"showScore\":_vm.showScore,\"size\":24,\"score\":item.rating}}),_vm._v(\" \"),_c('div',{staticClass:\"director\"},[_vm._v(\"导演：\"+_vm._s(item.director))]),_vm._v(\" \"),_c('div',{staticClass:\"casts\"},[_vm._v(\"主演：\"+_vm._s(item.casts))]),_vm._v(\" \"),_c('div',{staticClass:\"hasWatched\"},[_vm._v(_vm._s(item.collectCount)+\" 人看过\")])],1)])])})),_vm._v(\" \"),(_vm.moviehot.length)?_c('loading',{attrs:{\"hasMore\":_vm.hasMore}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-4b959f80\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/movielist/movielist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4b959f80\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./movielist.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./movielist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./movielist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4b959f80\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./movielist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4b959f80\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/movielist/movielist.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"go-search\",on:{\"click\":_vm.goSearch}},[_vm._m(0),_vm._v(\" \"),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logo\"},[_c('img',{staticClass:\"src\",attrs:{\"src\":require(\"./douban-logo.png\"),\"alt\":\"\",\"width\":\"35\",\"height\":\"35\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-content\"},[_c('span',{staticClass:\"icon-search\"}),_vm._v(\" \"),_c('span',[_vm._v(\"电影/影人/标签\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-4bd29bb3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/base/search/search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4bd29bb3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./search.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4bd29bb3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4bd29bb3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/search/search.vue\n// module id = null\n// module chunks = ","<!--头部搜索框组件-->\r\n<template>\r\n  <div class=\"go-search\" @click=\"goSearch\">\r\n    <div class=\"logo\">\r\n      <img src=\"./douban-logo.png\" alt=\"\" class=\"src\" width=\"35\" height=\"35\">\r\n    </div>\r\n    <div class=\"search-content\">\r\n      <span class=\"icon-search\"></span>\r\n      <span>电影/影人/标签</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  export default {\r\n    methods: {\r\n      goSearch() {\r\n        this.$emit('search')\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n\r\n  .go-search {\r\n    height: 50px\r\n    box-sizing border-box\r\n    padding 10px 10px 5px 60px\r\n    text-align: center\r\n  }\r\n\r\n  .go-search .logo {\r\n    position: absolute\r\n    left: 10px\r\n  }\r\n\r\n  .go-search .search-content {\r\n    background-color: #EEEEEE\r\n    font-size 16px\r\n    line-height: 35px\r\n    border-radius 8px\r\n  }\r\n\r\n  .search-content span {\r\n    display: inline-block\r\n    vertical-align middle\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/search/search.vue","<template>\r\n  <div class=\"moiveshow\">\r\n    <!--头部搜索框-->\r\n    <search @search=\"goSearch\"></search>\r\n    <!--正在热映与即将上映的开关切换组件-->\r\n    <switches :switches=\"switches\" :currentIndex=\"currentIndex\" @switch=\"switchItem\"></switches>\r\n    <!--电影展示列表-->\r\n    <div class=\"list-wrapper\">\r\n      <!--正在热映-->\r\n      <scroll v-show=\"currentIndex===0\"\r\n              class=\"list-scroll\"\r\n              :data=\"moviehot\"\r\n              ref=\"moviehot\"\r\n              :pullup=\"pullup\"\r\n              @scrollToEnd=\"loadMore\"\r\n      >\r\n        <div class=\"list-inner\">\r\n          <!--电影展示列表的组件-->\r\n          <movielist :moviehot=\"moviehot\" :hasMore=\"hotData\" @select=\"selectMovie\"></movielist>\r\n        </div>\r\n      </scroll>\r\n      <!--即将上映-->\r\n      <scroll v-show=\"currentIndex===1\"\r\n              class=\"list-scroll\"\r\n              :data=\"movieshow\"\r\n              ref=\"movieshow\"\r\n              :pullup=\"pullup\"\r\n              @scrollToEnd=\"loadMore\"\r\n              :probeType=\"probeType\"\r\n              :listenScroll=\"listenScroll\"\r\n              @scroll=\"scroll\"\r\n      >\r\n        <div class=\"list-inner\">\r\n          <!--电影展示列表的组件-->\r\n          <movielist :moviehot=\"movieshow\"\r\n                     :hasMore=\"showData\"\r\n                     ref=\"list\"\r\n                     :timeData=\"timeData\"\r\n                     @getHeight=\"getHeight\"\r\n                     @getMap=\"getMap\"\r\n                     @select=\"selectMovie\"\r\n          >\r\n          </movielist>\r\n        </div>\r\n      </scroll>\r\n      <loading\r\n        :fullScreen=\"fullScreen\"\r\n        v-show=\"currentIndex===1 && !movieshow.length || currentIndex===0 && !moviehot.length\">\r\n      </loading>\r\n    </div>\r\n    <div class=\"list-fixed\" ref=\"fixed\" v-show=\"currentIndex===1\" v-if=\"fixedTitle\">\r\n      <h1 class=\"fixed-title\">{{fixedTitle}}</h1>\r\n    </div>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import {getMovieShow, getComingMovie} from 'api/movieShow.js'\r\n  import {ERR_OK} from 'api/config'\r\n  import switches from 'base/switches/switches.vue'\r\n  import scroll from 'base/scroll/scroll.vue'\r\n  import {createMovieList} from 'common/js/movielist.js'\r\n  import movielist from 'components/movielist/movielist.vue'\r\n  import loading from 'base/loading/loading.vue'\r\n  import search from 'base/search/search.vue'\r\n  import {mapMutations} from 'vuex'\r\n\r\n  const SEARCH_MORE = 10         // 每次请求加载数据量\r\n  const TITLE_HEIGHT = 30       // 定义在电影列表中显示日期栏的高度\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        moviehot: [],              // 正在热映电影列表的数据组\r\n        movieshow: [],            // 即将上映电影列表的数据组\r\n        currentIndex: 0,\r\n        hotData: true,          // 定义正在热映是否还有更多数据\r\n        showData: true,        // 定义即将上映是否还有更多数据\r\n        hotDataIndex: 0,      // 定义每次加载正在热映电影的数据量\r\n        showDataIndex: 0,    // 定义每次加载即将上映电影的数据量\r\n        switches: [\r\n          {name: '正在热映'},\r\n          {name: '即将上映'}\r\n        ],\r\n        pullup: true,           // 支持上拉加载更多数据\r\n        timeData: true,         // 电影列表显示日期栏\r\n        loadingFlag: true,      // 控制滚动加载速度\r\n        scrollY: -1,\r\n        diff: -1,\r\n        fullScreen: true,        // 加载全屏动画\r\n        scrollIndex: 0\r\n      }\r\n    },\r\n    created() {\r\n      this._getMovieShow()            // 调用获取正在热映的电影列表数据方法\r\n      this.probeType = 3             // better-scroll插件派发滚动的事件方式\r\n      this.listenScroll = true       // 监听better-scroll插件的滚动事件\r\n      this.listHeight = []           // 定义各个滚动区域的高度\r\n      this.scrollMap = []            // 定义滚动区域的分组\r\n    },\r\n    computed: {\r\n      fixedTitle() {\r\n        if (this.scrollY > 0) {\r\n          return ''\r\n        }\r\n        return this.scrollMap[this.scrollIndex] ? this.scrollMap[this.scrollIndex] : ''\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapMutations({\r\n        setMovie: 'SET_MOVIE'\r\n      }),\r\n      selectMovie(item) {         // 点击电影列表进入电影详情页并将数据提交到vuex的Mutations\r\n        this.$router.push({\r\n          path: `/moiveshow/${item.id}`\r\n        })\r\n        this.setMovie(item)\r\n        //  console.log(item)\r\n      },\r\n      goSearch() {            // 点击电影列表搜索框进入搜索页面\r\n        this.$router.push({\r\n          path: `/search`\r\n        })\r\n      },\r\n      _getMovieShow() {         // 获取正在热映电影的数据\r\n        getMovieShow(this.hotDataIndex, SEARCH_MORE).then((res) => {\r\n          if (res.start === ERR_OK) {\r\n            this.$emit('hasLoad')                   // 当电影列表的数据请求成功后，派发hasLoad事件到APP.vue中\r\n            this.moviehot = createMovieList(res.subjects)\r\n            this._checkMore(res)          // 调用_checkMore方法检测列表中是否还有数据\r\n            // console.log(this.moviehot)\r\n          }\r\n        })\r\n      },\r\n      switchItem(index) {              // 在切换电影上映的开关时，将子组件的index传给父组件\r\n        this.currentIndex = index\r\n        if (index === 1) {              // 当切换到即将上映时，重新计算各个区间的高度\r\n          this.$refs.list.recalculate()\r\n          this.$refs.movieshow.scrollTo(0, this.scrollY)     // 重新载入之前的滚动位置\r\n        }\r\n        setTimeout(() => {                // scroll组件计算高度，确保正确滚动\r\n          this.$refs.moviehot.refresh()\r\n          this.$refs.movieshow.refresh()\r\n        }, 20)\r\n        if (index === 1 && !this.movieshow.length) {        // 第一次切换到即将上映选项卡后开始请求即将上映电影的数据\r\n          getComingMovie(this.showDataIndex, SEARCH_MORE).then((res) => {\r\n            this.movieshow = createMovieList(res.subjects)\r\n            this._checkMore(res)\r\n          })\r\n        }\r\n      },\r\n      loadMore() {       // 上拉电影列表加载更多数据\r\n        if (!this.loadingFlag) {          // 判断列表在上次加载中是否已经完成，如果没有完成就返回\r\n          return\r\n        }\r\n        this.loadingFlag = false         // 重置列表数据加载的标志位\r\n        if (this.currentIndex === 0) {    // 加载更多正在热映的数据\r\n          if (!this.hotData) {        // 当正在热映电影没有更多数据时，重置标志位并返回\r\n            this.loadingFlag = true\r\n            return\r\n          }\r\n          this.hotDataIndex += SEARCH_MORE\r\n          getMovieShow(this.hotDataIndex, SEARCH_MORE).then((res) => {\r\n            this.moviehot = this.moviehot.concat(createMovieList(res.subjects))        // concat() 方法用于连接两个或多个数组。\r\n            this._checkMore(res)          // 调用_checkMore方法检测列表中是否还有数据\r\n            this.loadingFlag = true\r\n          })\r\n        } else {\r\n          if (!this.showData) {          // 当即将上映电影没有更多数据时，重置标志位并返回\r\n            this.loadingFlag = true\r\n            return\r\n          }\r\n          this.showDataIndex += SEARCH_MORE\r\n          getComingMovie(this.showDataIndex, SEARCH_MORE).then((res) => {\r\n            this.movieshow = this.movieshow.concat(createMovieList(res.subjects))\r\n            this._checkMore(res)\r\n            this.loadingFlag = true\r\n          })\r\n        }\r\n      },\r\n      _checkMore(data) {          // 监听数据列表中是否还有数据\r\n        const movies = data.subjects\r\n        if (!movies.length || data.start + data.count >= data.total) {\r\n          if (this.currentIndex === 0) {\r\n            this.hotData = false\r\n          } else {\r\n            this.showData = false\r\n          }\r\n          this.loadingFlag = true\r\n        }\r\n      },\r\n      scroll(pos) {           // 获取滚动的位置\r\n        this.scrollY = pos.y\r\n      },\r\n      getHeight(height) {               // 保存子组件传入的高度列表\r\n        this.listHeight = height\r\n        // console.log(height)\r\n      },\r\n      getMap(map) {              // 保存子组件传入的日期索引\r\n        this.scrollMap = map\r\n        // console.log(map)\r\n      }\r\n    },\r\n    watch: {\r\n      scrollY(newY, oldY) {\r\n        if (!newY) {             // 如果在快速滚动时切换tab栏，滚动位置会读取错误，这里保留出错前正确的滚动位置\r\n          this.scrollY = oldY\r\n        }\r\n        if (this.listHeight.length === 0 || this.scrollMap.length === 0) {           // 如果没有获取到高度就返回\r\n          return\r\n        }\r\n        if (newY > 0) {          // 当滚动到顶部下拉时，newY>0\r\n          this.scrollIndex = 0\r\n          return\r\n        }\r\n        // 当在中间部分滚动时\r\n        for (let i = 0; i < this.listHeight.length; i++) {\r\n          let height1 = this.listHeight[i]\r\n          let height2 = this.listHeight[i + 1]\r\n          if (-newY >= height1 && -newY < height2) {\r\n            this.scrollIndex = i\r\n            this.diff = height2 + newY\r\n            return\r\n          }\r\n        }\r\n        // 滚动到底部，且newY大于最后一个元素的上限\r\n        this.scrollIndex = this.listHeight.length - 2\r\n      },\r\n      diff(newVal) {\r\n        let fixedtop = (newVal > 0 && newVal < TITLE_HEIGHT) ? newVal - TITLE_HEIGHT : 0\r\n        if (this.fixedtop === fixedtop) {\r\n          return\r\n        }\r\n        this.fixedtop = fixedtop\r\n        this.$nextTick(() => {\r\n          this.$refs.fixed.style.transform = `translate3d(0,${fixedtop}px,0)`\r\n        })\r\n      }\r\n    },\r\n    components: {\r\n      switches,\r\n      scroll,\r\n      movielist,\r\n      loading,\r\n      search\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  .moiveshow {\r\n    height: 100%\r\n  }\r\n\r\n  .list-wrapper {\r\n    position: absolute\r\n    top: 102px\r\n    bottom: 61px\r\n    width: 100%\r\n  }\r\n\r\n  .list-wrapper .list-scroll {\r\n    position: relative\r\n    height: 100%\r\n    overflow: hidden\r\n  }\r\n\r\n  .list-wrapper .list-inner {\r\n    padding 0px 15px\r\n  }\r\n\r\n  .list-fixed {\r\n    position: absolute\r\n    top: 102px\r\n    right: 15px\r\n    left: 15px\r\n  }\r\n\r\n  .list-fixed .fixed-title {\r\n    width: 100%\r\n    padding-left: 5px\r\n    height: 30px\r\n    line-height: 30px\r\n    background-color: #eee\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/moiveShow/moiveShow.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"moiveshow\"},[_c('search',{on:{\"search\":_vm.goSearch}}),_vm._v(\" \"),_c('switches',{attrs:{\"switches\":_vm.switches,\"currentIndex\":_vm.currentIndex},on:{\"switch\":_vm.switchItem}}),_vm._v(\" \"),_c('div',{staticClass:\"list-wrapper\"},[_c('scroll',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentIndex===0),expression:\"currentIndex===0\"}],ref:\"moviehot\",staticClass:\"list-scroll\",attrs:{\"data\":_vm.moviehot,\"pullup\":_vm.pullup},on:{\"scrollToEnd\":_vm.loadMore}},[_c('div',{staticClass:\"list-inner\"},[_c('movielist',{attrs:{\"moviehot\":_vm.moviehot,\"hasMore\":_vm.hotData},on:{\"select\":_vm.selectMovie}})],1)]),_vm._v(\" \"),_c('scroll',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentIndex===1),expression:\"currentIndex===1\"}],ref:\"movieshow\",staticClass:\"list-scroll\",attrs:{\"data\":_vm.movieshow,\"pullup\":_vm.pullup,\"probeType\":_vm.probeType,\"listenScroll\":_vm.listenScroll},on:{\"scrollToEnd\":_vm.loadMore,\"scroll\":_vm.scroll}},[_c('div',{staticClass:\"list-inner\"},[_c('movielist',{ref:\"list\",attrs:{\"moviehot\":_vm.movieshow,\"hasMore\":_vm.showData,\"timeData\":_vm.timeData},on:{\"getHeight\":_vm.getHeight,\"getMap\":_vm.getMap,\"select\":_vm.selectMovie}})],1)]),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentIndex===1 && !_vm.movieshow.length || _vm.currentIndex===0 && !_vm.moviehot.length),expression:\"currentIndex===1 && !movieshow.length || currentIndex===0 && !moviehot.length\"}],attrs:{\"fullScreen\":_vm.fullScreen}})],1),_vm._v(\" \"),(_vm.fixedTitle)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentIndex===1),expression:\"currentIndex===1\"}],ref:\"fixed\",staticClass:\"list-fixed\"},[_c('h1',{staticClass:\"fixed-title\"},[_vm._v(_vm._s(_vm.fixedTitle))])]):_vm._e(),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-16cf8fdb\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/moiveShow/moiveShow.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-16cf8fdb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./moiveShow.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./moiveShow.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./moiveShow.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-16cf8fdb\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./moiveShow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-16cf8fdb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/moiveShow/moiveShow.vue\n// module id = null\n// module chunks = ","// 当前周次的类，用于获取当前周的起止日期\r\nexport default class WeekDate {\r\n  constructor() {\r\n    let now = new Date(); // 当前日期\r\n    this.nowYear = now.getFullYear(); // 当前年\r\n    this.nowMonth = now.getMonth(); // 月\r\n    this.nowDay = now.getDate(); // 日\r\n    this.nowDayOfWeek = now.getDay(); // 今天本周的第几天\r\n    this.nowDayOfWeek = this.nowDayOfWeek === 0 ? 7 : this.nowDayOfWeek; // 如果是周日，就变成周七\r\n  }\r\n\r\n  formatDate(date) {\r\n    // let myyear = date.getFullYear();\r\n    let mymonth = date.getMonth() + 1;\r\n    let myweekday = date.getDate();\r\n    // if (mymonth < 10) {\r\n    //   mymonth = '0' + mymonth;\r\n    // }\r\n    // if (myweekday < 10) {\r\n    //   myweekday = '0' + myweekday;\r\n    // }\r\n    return `${mymonth}月${myweekday}日`;\r\n  }\r\n\r\n  getWeekStartDate() {\r\n    let weekStartDate = new Date(this.nowYear, this.nowMonth, this.nowDay - this.nowDayOfWeek + 1);\r\n    return this.formatDate(weekStartDate);\r\n  }\r\n\r\n  getWeekEndDate() {\r\n    let weekEndDate = new Date(this.nowYear, this.nowMonth, this.nowDay + (6 - this.nowDayOfWeek + 1));\r\n    return this.formatDate(weekEndDate);\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/date.js","import axios from 'axios';\r\nimport { commonParams } from './config';\r\n\r\nexport function top250Rank(start, count) { // top250\r\n  const url = '/v2/movie/top250';\r\n  const data = Object.assign({}, commonParams, {\r\n    start,\r\n    count\r\n  });\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data);\r\n  }).catch((err) => {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\nexport function usBoxRank() { // 北美票房\r\n  const url = '/v2/movie/us_box';\r\n  const data = Object.assign({}, commonParams);\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data);\r\n  }).catch((err) => {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\nexport function weeklyRank() { // 口碑榜\r\n  const url = '/v2/movie/weekly';\r\n  const data = Object.assign({}, commonParams);\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data);\r\n  }).catch((err) => {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\nexport function newMoviesRank() { // 新片榜\r\n  const url = '/v2/movie/new_movies';\r\n  const data = Object.assign({}, commonParams);\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data);\r\n  }).catch((err) => {\r\n    console.log(err);\r\n  });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/movierank.js","<!--排行组件-->\r\n<template>\r\n  <div class=\"rank\">\r\n    <search @search=\"goSearch\"></search>\r\n    <scroll class=\"rank-list\" ref=\"scroll\" :data=\"urlList\">\r\n      <div class=\"scroll-wrapper\">\r\n        <div class=\"scroll-content\" v-if=\"hasLoad\">\r\n          <h1 class=\"title\">精选榜单</h1>\r\n          <!--top250-->\r\n          <router-link tag=\"div\" to=\"/rank/top250\" class=\"top250 rank-item\">\r\n            <div class=\"desc\">\r\n              <h2 class=\"name\">豆瓣 Top250</h2>\r\n              <span class=\"brief\">8分以上好电影</span>\r\n            </div>\r\n            <div class=\"rank-img\">\r\n              <img :src=\"replaceUrl(item)\" alt=\"\" v-for=\"(item,index) in urlList[0]\" :class=\"{'top':index === 1}\">\r\n            </div>\r\n          </router-link>\r\n          <!--口碑榜-->\r\n          <router-link tag=\"div\" to='/rank/weekly' class=\"weekly rank-item\">\r\n            <div class=\"desc\">\r\n              <h2 class=\"name\">本周口碑榜</h2>\r\n              <span class=\"brief\">{{weekDate}}</span>\r\n            </div>\r\n            <div class=\"rank-img\">\r\n              <img :src=\"replaceUrl(item)\" alt=\"\" v-for=\"(item,index) in urlList[1]\" :class=\"{'top':index === 1}\">\r\n            </div>\r\n          </router-link>\r\n          <!--新片榜-->\r\n          <router-link tag=\"div\" to='/rank/newmovie' class=\"new-movie rank-item\">\r\n            <div class=\"desc\">\r\n              <h2 class=\"name\">新片榜</h2>\r\n              <span class=\"brief\">{{weekDate}}</span>\r\n            </div>\r\n            <div class=\"rank-img\">\r\n              <img :src=\"replaceUrl(item)\" alt=\"\" v-for=\"(item,index) in urlList[2]\" :class=\"{'top':index === 1}\">\r\n            </div>\r\n          </router-link>\r\n          <!--北美票房榜-->\r\n          <router-link tag=\"div\" to='/rank/usbox' class=\"us-box rank-item\">\r\n            <div class=\"desc\">\r\n              <h2 class=\"name\">北美票房榜</h2>\r\n              <span class=\"brief\">票房最高排名</span>\r\n            </div>\r\n            <div class=\"rank-img\">\r\n              <img :src=\"replaceUrl(item)\" alt=\"\" v-for=\"(item,index) in urlList[3]\" :class=\"{'top':index === 1}\">\r\n            </div>\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </scroll>\r\n    <loading :fullScreen=\"fullScreen\" v-if=\"!hasLoad\"></loading>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import search from 'base/search/search.vue'\r\n  import scroll from 'base/scroll/scroll.vue'\r\n  import loading from 'base/loading/loading.vue'\r\n  import WeekDate from 'common/js/date.js'\r\n  import {top250Rank, weeklyRank, usBoxRank, newMoviesRank} from 'api/movierank'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        fullScreen: true,            // 没有数据的时，开启全屏加载动画\r\n        weekDate: '',                // 口碑榜的日期参数\r\n        hasLoad: false,             // 标志位\r\n        rankImgUrl: [],            // 排行存放图片的数组\r\n        urlList: []\r\n      }\r\n    },\r\n    created() {\r\n      this._getBriefRank()\r\n      this._getWeekDate()\r\n    },\r\n    activated() {                     // keep-alive组件激活\r\n      this.$refs.scroll.refresh()\r\n    },\r\n    methods: {\r\n      goSearch() {            // 点击电影列表搜索框进入搜索页面\r\n        this.$router.push({\r\n          path: `/search`\r\n        })\r\n      },\r\n      getUrlList(url) {                  // 获取处理的图片数据，各个排行榜数据结构不一致需要做处理\r\n        let list = []\r\n        url.forEach((item, index) => {\r\n          let subject = item.subjects.slice(0, 3)           // 只获取返回数据的前三条数据\r\n          list[index] = []\r\n          subject.forEach((item) => {\r\n            list[index].push(item.subject ? item.subject.images.medium : item.images.medium)\r\n          })\r\n        })\r\n        // console.log(list)\r\n        list.forEach((item) => {            // 将第二名排到第一位\r\n          let url = item[0]\r\n          item[0] = item[1]\r\n          item[1] = url\r\n        })\r\n        this.urlList = list\r\n      },\r\n      _getBriefRank() {\r\n        Promise.all([top250Rank(0, 3), weeklyRank(), usBoxRank(), newMoviesRank()]).then((res) => {\r\n          // console.log(res)\r\n          this.$emit('hasLoad')\r\n          this.hasLoad = true\r\n          this.getUrlList(res)\r\n        })\r\n      },\r\n      _getWeekDate() {              // 获取排行榜当前周次起始日期\r\n        let date = new WeekDate()\r\n        this.weekDate = date.getWeekStartDate() + '-' + date.getWeekEndDate()\r\n      },\r\n      replaceUrl(url) {            // 图片防盗链处理,把现在的图片连接传进来，返回一个不受限制的路径\r\n        return ('https://images.weserv.nl/?url=' + url.replace(/http\\w{0,1}:\\/\\//, ''))\r\n      }\r\n    },\r\n    components: {\r\n      search,\r\n      scroll,\r\n      loading\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  .rank-list {\r\n    position fixed\r\n    top: 50px\r\n    left: 0px\r\n    right: 0\r\n    bottom 62px\r\n    padding 0 15px\r\n    overflow hidden\r\n  }\r\n\r\n  .rank-list .title {\r\n    color #333\r\n  }\r\n\r\n  .rank-list .scroll-content {\r\n    padding: 20px 0\r\n  }\r\n\r\n  .rank-list .rank-item {\r\n    margin-top 15px\r\n    height: 130px\r\n    border-radius 10px\r\n    color #fff\r\n  }\r\n\r\n  .rank-item .desc {\r\n    vertical-align top\r\n    display inline-block\r\n    box-sizing border-box\r\n    padding-top 50px\r\n    width: 40%\r\n    height: 100%\r\n    text-align: center\r\n  }\r\n\r\n  .desc .name {\r\n    font-size 18px\r\n  }\r\n\r\n  .desc .brief {\r\n    font-size 12px\r\n  }\r\n\r\n  .rank-item .rank-img {\r\n    vertical-align: top\r\n    display: inline-block\r\n    width: 55%\r\n    height: 100%\r\n    text-align center\r\n  }\r\n\r\n  .rank-item .rank-img img {\r\n    display inline-block\r\n    vertical-align text-top\r\n    position relative\r\n    top: 50%\r\n    transform translateY(-50%)\r\n    width: 30%\r\n  }\r\n\r\n  .rank-item .rank-img img.top {\r\n    width: 35%\r\n  }\r\n\r\n  .top250 {\r\n    background: linear-gradient(#E1A708, #EFD491)\r\n  }\r\n\r\n  .weekly {\r\n    background: linear-gradient(#32C05E, #A1E5BE)\r\n  }\r\n\r\n  .new-movie {\r\n    background: linear-gradient(#A361C3, #D9B9E8)\r\n  }\r\n\r\n  .us-box {\r\n    background: linear-gradient(#DD7286, #F3B9C5)\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/rank/rank.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rank\"},[_c('search',{on:{\"search\":_vm.goSearch}}),_vm._v(\" \"),_c('scroll',{ref:\"scroll\",staticClass:\"rank-list\",attrs:{\"data\":_vm.urlList}},[_c('div',{staticClass:\"scroll-wrapper\"},[(_vm.hasLoad)?_c('div',{staticClass:\"scroll-content\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"精选榜单\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"top250 rank-item\",attrs:{\"tag\":\"div\",\"to\":\"/rank/top250\"}},[_c('div',{staticClass:\"desc\"},[_c('h2',{staticClass:\"name\"},[_vm._v(\"豆瓣 Top250\")]),_vm._v(\" \"),_c('span',{staticClass:\"brief\"},[_vm._v(\"8分以上好电影\")])]),_vm._v(\" \"),_c('div',{staticClass:\"rank-img\"},_vm._l((_vm.urlList[0]),function(item,index){return _c('img',{class:{'top':index === 1},attrs:{\"src\":_vm.replaceUrl(item),\"alt\":\"\"}})}))]),_vm._v(\" \"),_c('router-link',{staticClass:\"weekly rank-item\",attrs:{\"tag\":\"div\",\"to\":\"/rank/weekly\"}},[_c('div',{staticClass:\"desc\"},[_c('h2',{staticClass:\"name\"},[_vm._v(\"本周口碑榜\")]),_vm._v(\" \"),_c('span',{staticClass:\"brief\"},[_vm._v(_vm._s(_vm.weekDate))])]),_vm._v(\" \"),_c('div',{staticClass:\"rank-img\"},_vm._l((_vm.urlList[1]),function(item,index){return _c('img',{class:{'top':index === 1},attrs:{\"src\":_vm.replaceUrl(item),\"alt\":\"\"}})}))]),_vm._v(\" \"),_c('router-link',{staticClass:\"new-movie rank-item\",attrs:{\"tag\":\"div\",\"to\":\"/rank/newmovie\"}},[_c('div',{staticClass:\"desc\"},[_c('h2',{staticClass:\"name\"},[_vm._v(\"新片榜\")]),_vm._v(\" \"),_c('span',{staticClass:\"brief\"},[_vm._v(_vm._s(_vm.weekDate))])]),_vm._v(\" \"),_c('div',{staticClass:\"rank-img\"},_vm._l((_vm.urlList[2]),function(item,index){return _c('img',{class:{'top':index === 1},attrs:{\"src\":_vm.replaceUrl(item),\"alt\":\"\"}})}))]),_vm._v(\" \"),_c('router-link',{staticClass:\"us-box rank-item\",attrs:{\"tag\":\"div\",\"to\":\"/rank/usbox\"}},[_c('div',{staticClass:\"desc\"},[_c('h2',{staticClass:\"name\"},[_vm._v(\"北美票房榜\")]),_vm._v(\" \"),_c('span',{staticClass:\"brief\"},[_vm._v(\"票房最高排名\")])]),_vm._v(\" \"),_c('div',{staticClass:\"rank-img\"},_vm._l((_vm.urlList[3]),function(item,index){return _c('img',{class:{'top':index === 1},attrs:{\"src\":_vm.replaceUrl(item),\"alt\":\"\"}})}))])],1):_vm._e()])]),_vm._v(\" \"),(!_vm.hasLoad)?_c('loading',{attrs:{\"fullScreen\":_vm.fullScreen}}):_vm._e(),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-423d513e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/rank/rank.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-423d513e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./rank.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./rank.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./rank.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-423d513e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./rank.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-423d513e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/rank/rank.vue\n// module id = null\n// module chunks = ","<!--电影排行列表组件-->\r\n<template>\r\n  <div class=\"ranklist\">\r\n    <ul :class=\"{'bottom':bottom}\">\r\n      <li class=\"rank-item\" v-for=\"(item,index) in rankItems\"\r\n          :class=\"{'compact':!needRank}\"\r\n          @click.stop=\"selectItem(item,$event)\"\r\n      >\r\n        <div class=\"rank-rating\" v-show=\"needRank\">\r\n          <div class=\"line\"></div>\r\n          <span class=\"text\">{{page*50 +(index+1)}}</span>\r\n        </div>\r\n        <div class=\"rank-info\" :class=\"{'compact':!needRank}\">\r\n          <div class=\"info-img\">\r\n            <img v-lazy=\"replaceUrl(item.image)\" alt=\"\" height=\"100\" width=\"70\">\r\n          </div>\r\n          <div class=\"info-desc\">\r\n            <p class=\"title\">{{item.title}}</p>\r\n            <star :size=\"24\" :score=\"item.rating\" :showScore=\"showScore\"></star>\r\n            <div class=\"director\">导演：{{item.director}}</div>\r\n            <div class=\"casts\">主演：{{item.casts}}</div>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <loading :hasMore=\"hasMore\" v-show=\"rankItems.length && needLoading\"></loading>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import loading from 'base/loading/loading.vue'\r\n  import star from 'base/star/star.vue'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        showScore: true\r\n      }\r\n    },\r\n    props: {\r\n      bottom: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      rankItems: {\r\n        type: Array,\r\n        default: []\r\n      },\r\n      page: {\r\n        type: Number,\r\n        default: 0\r\n      },\r\n      hasMore: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      needRank: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      needLoading: {\r\n        type: Boolean,\r\n        default: true\r\n      }\r\n    },\r\n    methods: {\r\n      selectItem(movie) {\r\n        if (!event._constructed) {               // 忽略浏览器派发的点击事件，只留下scroll组件派发的\r\n          return\r\n        }\r\n        this.$emit('select', movie)\r\n      },\r\n      replaceUrl(url) {            // 图片防盗链处理,把现在的图片连接传进来，返回一个不受限制的路径\r\n        return ('https://images.weserv.nl/?url=' + url.replace(/http\\w{0,1}:\\/\\//, ''))\r\n      }\r\n    },\r\n    components: {\r\n      loading,\r\n      star\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  @import \"~@/common/stylus/mixin.styl\"\r\n\r\n  .rank-item {\r\n    padding-top 30px\r\n    background-color: #fff;\r\n  }\r\n\r\n  .ranklist .bottom {\r\n    margin-bottom 30px\r\n  }\r\n\r\n  .rank-item.compact {\r\n    padding-top: 0\r\n  }\r\n\r\n  .rank-item .rank-rating {\r\n    position relative\r\n    margin: 30px auto\r\n    text-align center\r\n    height: 10px\r\n    width: 50%\r\n  }\r\n\r\n  .rank-rating .line {\r\n    border-bottom-1px(#ccc)\r\n  }\r\n\r\n  .rank-rating .text {\r\n    padding 0 10px\r\n    display inline-block\r\n    background-color: #fff;\r\n    position absolute\r\n    left: 50%\r\n    top: -12px\r\n    transform translateX(-50%)\r\n    font-size 18px\r\n    color #42bd56\r\n  }\r\n\r\n  .rank-info {\r\n    display flex\r\n    align-items top\r\n    box-sizing border-box\r\n    height: 130px\r\n    padding 15px\r\n    border: 1px solid #ccc\r\n  }\r\n\r\n  .rank-item .rank-info.compact {\r\n    border: 0\r\n    border-bottom-1px(#ccc)\r\n    margin-bottom 0px\r\n  }\r\n\r\n  .rank-info .info-img {\r\n    flex 70px 0 0\r\n    margin-right 10px\r\n  }\r\n\r\n  .rank-info .info-desc {\r\n    flex 1\r\n    box-sizing border-box\r\n    height: 100px\r\n    padding-bottom 20px\r\n    display flex\r\n    flex-direction column\r\n    justify-content space-around\r\n    overflow: hidden\r\n  }\r\n\r\n  .info-desc .title {\r\n    font-size 16px\r\n    color #333\r\n  }\r\n\r\n  .info-desc .director {\r\n    font-size 12px\r\n  }\r\n\r\n  .info-desc .casts {\r\n    font-size 12px\r\n    no-wrap()\r\n  }\r\n\r\n  .rank-info:last-child {\r\n    margin-bottom 30px\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/ranklist/ranklist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ranklist\"},[_c('ul',{class:{'bottom':_vm.bottom}},_vm._l((_vm.rankItems),function(item,index){return _c('li',{staticClass:\"rank-item\",class:{'compact':!_vm.needRank},on:{\"click\":function($event){$event.stopPropagation();_vm.selectItem(item,$event)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.needRank),expression:\"needRank\"}],staticClass:\"rank-rating\"},[_c('div',{staticClass:\"line\"}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.page*50 +(index+1)))])]),_vm._v(\" \"),_c('div',{staticClass:\"rank-info\",class:{'compact':!_vm.needRank}},[_c('div',{staticClass:\"info-img\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.replaceUrl(item.image)),expression:\"replaceUrl(item.image)\"}],attrs:{\"alt\":\"\",\"height\":\"100\",\"width\":\"70\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"info-desc\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('star',{attrs:{\"size\":24,\"score\":item.rating,\"showScore\":_vm.showScore}}),_vm._v(\" \"),_c('div',{staticClass:\"director\"},[_vm._v(\"导演：\"+_vm._s(item.director))]),_vm._v(\" \"),_c('div',{staticClass:\"casts\"},[_vm._v(\"主演：\"+_vm._s(item.casts))])],1)])])})),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.rankItems.length && _vm.needLoading),expression:\"rankItems.length && needLoading\"}],attrs:{\"hasMore\":_vm.hasMore}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-88148506\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/ranklist/ranklist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-88148506\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./ranklist.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./ranklist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./ranklist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-88148506\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./ranklist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-88148506\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ranklist/ranklist.vue\n// module id = null\n// module chunks = ","<!--收藏影人列表的组件-->\r\n<template>\r\n  <div class=\"celebritylist\">\r\n    <ul>\r\n      <li class=\"celebrity-item\" @click=\"selectItem(item.id,$event)\" v-for=\"item in celebrities\">\r\n        <div class=\"image\">\r\n          <img v-lazy=\"replaceUrl(item.image)\" alt=\"\" height=\"120\" width=\"80\">\r\n        </div>\r\n        <div class=\"desc\">\r\n          <p class=\"title\">{{item.name}}</p>\r\n          <div class=\"works\">代表作：{{item.works}}</div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    props: {\r\n      celebrities: {\r\n        type: Array,\r\n        default: []\r\n      }\r\n    },\r\n    methods: {\r\n      selectItem(id) {\r\n        this.$emit('select', id)\r\n      },\r\n      replaceUrl(url) {            // 图片防盗链处理,把现在的图片连接传进来，返回一个不受限制的路径\r\n        return ('https://images.weserv.nl/?url=' + url.replace(/http\\w{0,1}:\\/\\//, ''))\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  @import '~@/common/stylus/mixin.styl'\r\n\r\n  .celebrity-item {\r\n    display: flex\r\n    align-items top\r\n    box-sizing border-box\r\n    height: 130px\r\n    padding 15px\r\n    border-bottom-1px(#ccc)\r\n    background-color: #fff;\r\n  }\r\n\r\n  .celebrity-item .image {\r\n    flex 80px 0 0\r\n    margin-right 10px\r\n  }\r\n\r\n  .desc {\r\n    flex 1\r\n    box-sizing border-box\r\n  }\r\n\r\n  .desc .title {\r\n    font-size 16px\r\n    color #333\r\n  }\r\n\r\n  .desc .works {\r\n    margin-top 10px\r\n    font-size 14px\r\n    line-height: 20px\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/celebritylist/celebritylist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"celebritylist\"},[_c('ul',_vm._l((_vm.celebrities),function(item){return _c('li',{staticClass:\"celebrity-item\",on:{\"click\":function($event){_vm.selectItem(item.id,$event)}}},[_c('div',{staticClass:\"image\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.replaceUrl(item.image)),expression:\"replaceUrl(item.image)\"}],attrs:{\"alt\":\"\",\"height\":\"120\",\"width\":\"80\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('div',{staticClass:\"works\"},[_vm._v(\"代表作：\"+_vm._s(item.works))])])])}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-c7602e28\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/celebritylist/celebritylist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c7602e28\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./celebritylist.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./celebritylist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./celebritylist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c7602e28\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./celebritylist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c7602e28\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/celebritylist/celebritylist.vue\n// module id = null\n// module chunks = ","<!--我的组件-->\r\n<template>\r\n  <div class=\"user-cetner\">\r\n    <div class=\"user\">\r\n      <div class=\"login\">登录</div>\r\n      <div class=\"register\">注册</div>\r\n      <div class=\"avatar\">\r\n        <img src=\"./avatar.jpg\" alt=\"\" width=\"70\" height=\"70\">\r\n      </div>\r\n      <div class=\"name\">这里是用户名</div>\r\n    </div>\r\n    <switches :switches=\"switches\" :currentIndex=\"currentIndex\" @switch=\"switchTab\"></switches>\r\n    <scroll class=\"switch-item\" ref=\"scroll\" :data=\"itemLists\">\r\n      <div class=\"user-item\" v-for=\"(item,index) in switches\" v-if=\"index===currentIndex\">\r\n        <div class=\"movie-num\" v-show=\"index===0\">总共有：{{itemLength}}部电影想看</div>\r\n        <div class=\"movie-num\" v-show=\"index===1\">总共看过：{{itemLength}}部电影</div>\r\n        <div class=\"movie-num\" v-show=\"index===2\">总共收藏：{{itemLength}}个影人</div>\r\n        <ranklist :rankItems=\"itemLists\"\r\n                  :needLoading=\"needLoading\"\r\n                  v-if=\"index !==2\"\r\n                  @select=\"selectMovie\"\r\n                  :needRank=\"needRank\"></ranklist>\r\n        <celebritylist v-else :celebrities=\"itemLists\" @select=\"selectCelebrity\"></celebritylist>\r\n      </div>\r\n    </scroll>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import switches from 'base/switches/switches.vue'\r\n  import scroll from 'base/scroll/scroll.vue'\r\n  import ranklist from 'components/ranklist/ranklist.vue'\r\n  import {mapGetters, mapMutations} from 'vuex'\r\n  import celebritylist from 'components/celebritylist/celebritylist.vue'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        currentIndex: 0,\r\n        needLoading: false,\r\n        needRank: false,\r\n        switches: [\r\n          {name: '想看的电影'},\r\n          {name: '看过的电影'},\r\n          {name: '收藏的影人'}\r\n        ],\r\n        itemLists: [],\r\n        itemLength: 0\r\n      }\r\n    },\r\n    watch: {\r\n      wantedMovies(lists) {\r\n        if (this.currentIndex === 0) {\r\n          this.itemLists = lists\r\n          this.itemLength = lists.length\r\n        }\r\n      },\r\n      watchedMovies(lists) {\r\n        if (this.currentIndex === 1) {\r\n          this.itemLists = lists\r\n          this.itemLength = lists.length\r\n        }\r\n      },\r\n      collected(lists) {\r\n        if (this.currentIndex === 2) {\r\n          this.itemLists = lists\r\n          this.itemLength = lists.length\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.itemLists = this.wantedMovies\r\n      this.itemLength = this.wantedMovies.length\r\n      this.$emit('hasLoad')\r\n    },\r\n    computed: {\r\n      ...mapGetters([\r\n        'wantedMovies',\r\n        'watchedMovies',\r\n        'collected'\r\n      ])\r\n    },\r\n    activated() {         // 当keep-alive组件激活时\r\n      this.$nextTick(() => {\r\n        this.$refs.scroll.refresh()\r\n      })\r\n    },\r\n    methods: {\r\n      ...mapMutations({\r\n        setMovie: 'SET_MOVIE',\r\n        setCelebrity: 'SET_CELEBRITY_ID'\r\n      }),\r\n      switchTab(index) {              // 点击切换tab栏\r\n        this.currentIndex = index\r\n        switch (index) {\r\n          case 0:\r\n            this.itemLists = this.wantedMovies\r\n            break\r\n          case 1:\r\n            this.itemLists = this.watchedMovies\r\n            break\r\n          case 2:\r\n            this.itemLists = this.collected\r\n            break\r\n        }\r\n        this.itemLength = this.itemLists.length\r\n        this.$nextTick(() => {\r\n          this.$refs.scroll.scrollTo(0, 0)\r\n          this.$refs.scroll.refresh()\r\n        })\r\n      },\r\n      selectMovie(movie) {          // 点击列表的电影进入电影详情页\r\n        this.setMovie(movie)\r\n        this.$router.push({\r\n          path: `/movieshow/${movie.id}`\r\n        })\r\n      },\r\n      selectCelebrity(id) {           // 点击影人列表进入影人详情页\r\n        this.setCelebrity(id)\r\n        this.$router.push({\r\n          path: `/clebrity/${id}`\r\n        })\r\n      }\r\n    },\r\n    components: {\r\n      switches,\r\n      scroll,\r\n      ranklist,\r\n      celebritylist\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  .user-cetner {\r\n    position: fixed\r\n    top: 0\r\n    bottom: 61px\r\n    left: 0\r\n    right: 0\r\n    background-color: #f8f8f8\r\n    overflow: hidden\r\n  }\r\n\r\n  .user-cetner .user {\r\n    box-sizing border-box\r\n    width: 100%\r\n    height: 150px\r\n    background linear-gradient(#42bd56, #9AD57F)\r\n    padding 35px 50px 35px 20px\r\n    display flex\r\n    align-items center\r\n    position relative\r\n  }\r\n\r\n  .user .avatar {\r\n    flex 80px 0 0\r\n    width: 80px\r\n  }\r\n\r\n  .user .avatar img {\r\n    border-radius 50%\r\n  }\r\n\r\n  .user .name {\r\n    flex 1\r\n    color #fff\r\n    font-size 18px\r\n  }\r\n\r\n  .switch-item {\r\n    position absolute\r\n    top: 197px\r\n    width: 100%\r\n    bottom: 0\r\n    overflow: hidden\r\n  }\r\n\r\n  .switch-item .user-item .movie-num {\r\n    height: 40px\r\n    line-height: 40px\r\n    padding 0 20px\r\n    font-size 14px\r\n  }\r\n\r\n  .switch-item .user-item .rank-list {\r\n    background-color: #fff;\r\n  }\r\n\r\n  .switch-item .user-item .develop {\r\n    text-align center\r\n    color #42bd56\r\n  }\r\n\r\n  .user .login, .user .register {\r\n    padding: 12px\r\n    line-height: 30px\r\n    text-align center\r\n    font-size 14px\r\n    color #fff\r\n  }\r\n\r\n  .user .login {\r\n    position: absolute\r\n    top: 10px\r\n    right 70px\r\n  }\r\n\r\n  .user .register {\r\n    position: absolute\r\n    top: 10px\r\n    right 10px\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/user/user.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-cetner\"},[_vm._m(0),_vm._v(\" \"),_c('switches',{attrs:{\"switches\":_vm.switches,\"currentIndex\":_vm.currentIndex},on:{\"switch\":_vm.switchTab}}),_vm._v(\" \"),_c('scroll',{ref:\"scroll\",staticClass:\"switch-item\",attrs:{\"data\":_vm.itemLists}},_vm._l((_vm.switches),function(item,index){return (index===_vm.currentIndex)?_c('div',{staticClass:\"user-item\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(index===0),expression:\"index===0\"}],staticClass:\"movie-num\"},[_vm._v(\"总共有：\"+_vm._s(_vm.itemLength)+\"部电影想看\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(index===1),expression:\"index===1\"}],staticClass:\"movie-num\"},[_vm._v(\"总共看过：\"+_vm._s(_vm.itemLength)+\"部电影\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(index===2),expression:\"index===2\"}],staticClass:\"movie-num\"},[_vm._v(\"总共收藏：\"+_vm._s(_vm.itemLength)+\"个影人\")]),_vm._v(\" \"),(index !==2)?_c('ranklist',{attrs:{\"rankItems\":_vm.itemLists,\"needLoading\":_vm.needLoading,\"needRank\":_vm.needRank},on:{\"select\":_vm.selectMovie}}):_c('celebritylist',{attrs:{\"celebrities\":_vm.itemLists},on:{\"select\":_vm.selectCelebrity}})],1):_vm._e()}))],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user\"},[_c('div',{staticClass:\"login\"},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('div',{staticClass:\"register\"},[_vm._v(\"注册\")]),_vm._v(\" \"),_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":require(\"./avatar.jpg\"),\"alt\":\"\",\"width\":\"70\",\"height\":\"70\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"name\"},[_vm._v(\"这里是用户名\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-7b647ea8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/user/user.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7b647ea8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./user.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./user.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./user.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b647ea8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./user.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7b647ea8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/user.vue\n// module id = null\n// module chunks = ","<!--搜索框组件-->\r\n<template>\r\n  <div class=\"searchBox\">\r\n    <div class=\"box\">\r\n      <i class=\"icon-search\"></i>\r\n      <input type=\"text\"\r\n             class=\"box-item\"\r\n             :placeholder=\"placeholder\"\r\n             v-model=\"query\"\r\n             ref=\"query\"\r\n             @focus=\"focusInput\"\r\n             @blur=\"blurInput\"\r\n      >\r\n      <i class=\"icon-close\" v-show=\"query\" @click=\"clear\"></i>\r\n    </div>\r\n    <span class=\"cancel\" @click=\"back\">取消</span>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  export default {\r\n    data() {\r\n      return {\r\n        query: ''\r\n      }\r\n    },\r\n    props: {\r\n      placeholder: {\r\n        type: String,\r\n        default: '搜索电影 / 影人'\r\n      },\r\n      tagSearch: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    methods: {\r\n      back() {          // 点击取消就返回上一层路由\r\n        this.$router.back()\r\n      },\r\n      setQuery(query) {\r\n        this.query = query\r\n      },\r\n      clear() {            // 点击关闭按钮清空输入框\r\n        this.query = ''\r\n      },\r\n      blur() {            // 让输入框失去焦点\r\n        this.$refs.query.blur()\r\n      },\r\n      focus() {               // 让输入框获取焦点\r\n        this.$refs.query.focus()\r\n      },\r\n      focusInput() {           // 输入框获取焦点时\r\n        this.$emit('focusInput')\r\n      },\r\n      blurInput() {           // 输入框失去焦点时\r\n        this.$emit('blurInput')\r\n      }\r\n    },\r\n    watch: {\r\n      query(newQuery) {\r\n        if (!this.tagSearch) {          // 节流操作\r\n          if (this.timer) {\r\n            clearTimeout(this.timer)\r\n          }\r\n          this.timer = setTimeout(() => {\r\n            this.$emit('query', newQuery)\r\n          }, 200)\r\n        } else {           // 标签搜索不需要节流\r\n          this.$emit('query', newQuery)\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  .searchBox {\r\n    box-sizing border-box\r\n    width: 100%\r\n    display flex\r\n    align-items: center\r\n    padding 10px 0 10px 20px\r\n    height: 50px\r\n    line-height 50px\r\n    background-color: #42bd56\r\n  }\r\n\r\n  .searchBox .icon-search {\r\n    position: absolute;\r\n    top: 8px;\r\n    left: 12px;\r\n    font-size: 16px;\r\n    color: #777;\r\n  }\r\n\r\n  .seach-item {\r\n    position: relative\r\n  }\r\n\r\n  .searchBox .box {\r\n    flex 8\r\n    height: 30px\r\n    line-height: 30px\r\n    border-radius 30px\r\n    padding 0 25px 0 35px\r\n    background-color: #fff\r\n    color #333\r\n    font-size 14px\r\n    caret-color #42bd56\r\n    position: relative\r\n  }\r\n\r\n  .searchBox .box-item {\r\n    background-color: #fff\r\n    height: 30px\r\n    line-height: 30px\r\n    border-radius 8px\r\n    outline none\r\n    width: 100%\r\n    border 0\r\n  }\r\n\r\n  .box-item ::placeholder {\r\n    color #777\r\n  }\r\n\r\n  .searchBox .cancel {\r\n    flex 2\r\n    text-align: center\r\n    font-size 16px\r\n    color #fff\r\n  }\r\n\r\n  .searchBox .icon-close {\r\n    position: absolute;\r\n    top: 4px;\r\n    right: 2px;\r\n    font-size: 14px;\r\n    color: #000;\r\n    padding 4px\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/searchBox/searchBox.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"searchBox\"},[_c('div',{staticClass:\"box\"},[_c('i',{staticClass:\"icon-search\"}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],ref:\"query\",staticClass:\"box-item\",attrs:{\"type\":\"text\",\"placeholder\":_vm.placeholder},domProps:{\"value\":(_vm.query)},on:{\"focus\":_vm.focusInput,\"blur\":_vm.blurInput,\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}}),_vm._v(\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],staticClass:\"icon-close\",on:{\"click\":_vm.clear}})]),_vm._v(\" \"),_c('span',{staticClass:\"cancel\",on:{\"click\":_vm.back}},[_vm._v(\"取消\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-726c8820\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/base/searchBox/searchBox.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-726c8820\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./searchBox.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./searchBox.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./searchBox.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-726c8820\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./searchBox.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-726c8820\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/searchBox/searchBox.vue\n// module id = null\n// module chunks = ","<!--删除提示框组件-->\r\n<template>\r\n  <transition name=\"fade\">\r\n    <div class=\"confirm\" v-show=\"showFalg\" @click.stop>\r\n      <div class=\"confirm-wrapper\">\r\n        <div class=\"confirm-content\">\r\n          <p class=\"text\">{{text}}</p>\r\n          <div class=\"operate\">\r\n            <div @click=\"cancel\" class=\"operate-btn left\">{{cancelbtnText}}</div>\r\n            <div @click=\"confirm\" class=\"operate-btn\">{{confirmbtnText}}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  export default {\r\n    data() {\r\n      return {\r\n        showFalg: false\r\n      }\r\n    },\r\n    props: {\r\n      text: {\r\n        type: String,\r\n        default: ''\r\n      },\r\n      cancelbtnText: {\r\n        type: String,\r\n        default: '取消'\r\n      },\r\n      confirmbtnText: {\r\n        type: String,\r\n        default: '确定'\r\n      }\r\n    },\r\n    methods: {\r\n      show() {\r\n        this.showFalg = true\r\n      },\r\n      hide() {\r\n        this.showFalg = false\r\n      },\r\n      cancel() {\r\n        this.hide()\r\n        this.$emit('cancel')\r\n      },\r\n      confirm() {\r\n        this.hide()\r\n        this.$emit('confirm')\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  .confirm {\r\n    position fixed\r\n    top: 0\r\n    bottom: 0\r\n    left: 0\r\n    right: 0\r\n    background-color: rgba(0, 0, 0, 0.7)\r\n  }\r\n\r\n  .fade-enter-active {\r\n    animation move 0.3s\r\n  }\r\n\r\n  .fade-leave-active {\r\n    animation moveLeave 0.3s\r\n  }\r\n\r\n  .confirm-content {\r\n    width: 270px\r\n    border-radius 13px\r\n    background-color: #fff\r\n  }\r\n\r\n  .confirm-wrapper {\r\n    position: absolute\r\n    top: 50%\r\n    left: 50%\r\n    transform translate(-50%, -50%)\r\n    z-index 999\r\n  }\r\n\r\n  .confirm-content .text {\r\n    padding 19px 15px\r\n    line-height: 22px\r\n    text-align center\r\n    font-size 16px\r\n    color #42bd56\r\n  }\r\n\r\n  .confirm-content .operate {\r\n    display flex\r\n    align-items center\r\n    text-align center\r\n    font-size 15px\r\n    color #333\r\n  }\r\n\r\n  .confirm-content .operate-btn {\r\n    flex 1\r\n    line-height: 22px\r\n    padding 10px 0\r\n    border-top 1px solid #eee\r\n  }\r\n\r\n  .operate-btn.left {\r\n    border-right 1px solid #eee\r\n  }\r\n\r\n  @keyframes move {\r\n    0% {\r\n      opacity 0\r\n      transform scale(0.3)\r\n    }\r\n\r\n    100% {\r\n      opacity 1\r\n      transform scale(1)\r\n    }\r\n  }\r\n\r\n  @keyframes moveLeave {\r\n    0% {\r\n      transform scale(1)\r\n    }\r\n\r\n    100% {\r\n      opacity 0\r\n      transform scale(0.3)\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/confirm/confirm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFalg),expression:\"showFalg\"}],staticClass:\"confirm\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"confirm-wrapper\"},[_c('div',{staticClass:\"confirm-content\"},[_c('p',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.text))]),_vm._v(\" \"),_c('div',{staticClass:\"operate\"},[_c('div',{staticClass:\"operate-btn left\",on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.cancelbtnText))]),_vm._v(\" \"),_c('div',{staticClass:\"operate-btn\",on:{\"click\":_vm.confirm}},[_vm._v(_vm._s(_vm.confirmbtnText))])])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-11cf76b5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/base/confirm/confirm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-11cf76b5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./confirm.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./confirm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./confirm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-11cf76b5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./confirm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-11cf76b5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/confirm/confirm.vue\n// module id = null\n// module chunks = ","import axios from 'axios';\r\nimport {commonParams} from './config';\r\n\r\nexport function movieSearch(query, start, count) {             // 通过搜索框搜索数据\r\n  const url = '/v2/movie/search';\r\n  const data = Object.assign({}, commonParams, {\r\n    q: query,\r\n    start,\r\n    count\r\n  });\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data);\r\n  }).catch((err) => {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\nexport function tagSearch(tag, start, count) {               // 通过关键词搜索数据\r\n  const url = '/v2/movie/search';\r\n  const data = Object.assign({}, commonParams, {\r\n    tag,\r\n    start,\r\n    count\r\n  });\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data);\r\n  }).catch((err) => {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/moviesearch.js","<!--搜索结果组件-->\r\n<template>\r\n  <div class=\"suggest-wrapper\">\r\n    <div class=\"to-top\" v-show=\"result.length\" @click=\"toTop\">\r\n      <span>返回顶部</span>\r\n    </div>\r\n    <scroll class=\"suggest\"\r\n            :data=\"result\"\r\n            :pullup=\"pullup\"\r\n            @scrollToEnd=\"searchMore\"\r\n            ref=\"suggest\"\r\n            @beforeScroll=\"listScroll\"\r\n            :beforeScroll=\"beforeScroll\"\r\n    >\r\n      <div class=\"suggest-list clearfix\">\r\n        <div class=\"content-box clearfix\">\r\n          <!--左边电影列表-->\r\n          <div class=\"suggest-left\">\r\n            <div class=\"suggest-item\" v-for=\"item in evenData\" @click=\"selectItem(item)\">\r\n              <img v-lazy=\"replaceUrl(item.image)\" alt=\"\">\r\n              <div class=\"item-info\">\r\n                <div class=\"title\">{{item.title}}</div>\r\n                <div class=\"casts\">{{item.casts}}</div>\r\n                <star class=\"star\" :size=\"24\" :score=\"item.rating\"></star>\r\n                <span class=\"rating\">{{getRating(item.rating)}}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!--右边电影列表-->\r\n          <div class=\"suggest-right\">\r\n            <div class=\"suggest-item\" v-for=\"item in oddData\" @click=\"selectItem(item)\">\r\n              <img v-lazy=\"replaceUrl(item.image)\" alt=\"\">\r\n              <div class=\"item-info\">\r\n                <div class=\"title\">{{item.title}}</div>\r\n                <div class=\"casts\">{{item.casts}}</div>\r\n                <star class=\"star\" :size=\"24\" :score=\"item.rating\"></star>\r\n                <span class=\"rating\">{{getRating(item.rating)}}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <loading :hasMore=\"hasMore\" v-if=\"result.length\"></loading>\r\n      </div>\r\n      <div class=\"no-result\" v-if=\"noResult\">暂无搜索结果数据...</div>\r\n      <loading :fullScreen=\"fullScreen\" v-if=\"!result.length && !noResult\"></loading>\r\n    </scroll>\r\n    <!-- <tab></tab>-->\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import scroll from 'base/scroll/scroll.vue'\r\n  import loading from 'base/loading/loading.vue'\r\n  import {movieSearch, tagSearch} from 'api/moviesearch.js'\r\n  import {createSearchList} from 'common/js/movielist.js'\r\n  import star from 'base/star/star.vue'\r\n  import {mapMutations} from 'vuex'\r\n  // import tab from 'components/tab/tab.vue'\r\n\r\n  const SEARCH_MORE = 10\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        result: [],\r\n        beforeScroll: true,\r\n        searchIndex: 0,                 // 搜索列表的索引\r\n        dataFn: null,                  // 区分关键词搜索和输入框搜索\r\n        noResult: false,\r\n        fullScreen: true,            // 支持全屏加载动画\r\n        loadingFlag: true,          // 上拉加载更多数据的标志位\r\n        pullup: true,              // 支持上拉加载更多数据\r\n        hasMore: true,             // 还有更多数据\r\n        oddData: [],\r\n        evenData: []\r\n      }\r\n    },\r\n    props: {\r\n      query: {\r\n        type: String,\r\n        default: ''\r\n      },\r\n      tagSearch: {               // 关键词搜索\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    created() {\r\n      this._selectType()\r\n      this.search()\r\n    },\r\n    watch: {\r\n      query() {\r\n        this._selectType()\r\n        if (this.query) {            // 搜索框有数据时\r\n          this.result = []          // 清空数据\r\n          this.search()            // 获得检索数据\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapMutations({'setMovie': 'SET_MOVIE'}),\r\n      toTop() {               // 返回顶部\r\n        this.$refs.suggest.scrollTo(0, 0, 1000)\r\n      },\r\n      search() {\r\n        this.result = []\r\n        this.searchIndex = 0\r\n        this.loadingFlag = true\r\n        this.hasMore = true\r\n        this.dataFn(this.query, this.searchIndex, SEARCH_MORE).then((res) => {\r\n          const queryRet = res.title.split('\"')\r\n          if (this.query !== queryRet[1]) {                // 当搜索框里面搜索的数据和返回的数据不相同时就返回\r\n            return\r\n          }\r\n          if (!res.subjects.length) {      // 判断是否存在搜索结果\r\n            this.noResult = true\r\n          } else {\r\n            this.noResult = false\r\n          }\r\n          this.result = createSearchList(res.subjects)           // 对返回的数据进行处理\r\n          this.result.findIndex((item, index) => {\r\n            if (index % 2 !== 1) {       // 获取偶数行的数据\r\n              this.evenData.push(item)\r\n            } else {\r\n              this.oddData.push(item)\r\n            }\r\n          })\r\n          this._checkMore(res)\r\n          // console.log(this.evenData)\r\n          // console.log(this.oddData.length)\r\n        })\r\n      },\r\n      searchMore() {               // 搜索结果加载更多数据\r\n        if (!this.loadingFlag) {            // 如果上一次还没有完全加载完，就返回\r\n          return\r\n        }\r\n        this.loadingFlag = false           // 重置标志位\r\n        if (!this.hasMore) {             // 如果没有更多数据就返回\r\n          return\r\n        }\r\n        this.searchIndex += SEARCH_MORE\r\n        this.dataFn(this.query, this.searchIndex, SEARCH_MORE).then((res) => {\r\n          this.result = this.result.concat(createSearchList(res.subjects))\r\n          this.result.findIndex((item, index) => {\r\n            if (index % 2 !== 1) {       // 获取偶数行的数据\r\n              this.evenData.push(item)\r\n            } else {\r\n              this.oddData.push(item)\r\n            }\r\n          })\r\n          this.loadingFlag = true\r\n          this._checkMore(res)\r\n        })\r\n      },\r\n      getRating(rate) {                 // 对电影评分数据的处理\r\n        if (rate === 0) {\r\n          return ''\r\n        }\r\n        return rate + '分'\r\n      },\r\n      _checkMore(data) {                // 判断是否还有更多数据\r\n        let movie = data.subjects\r\n        if (!movie.length || data.start + data.count >= data.total) {\r\n          this.hasMore = false\r\n        }\r\n      },\r\n      listScroll() {           // 列表滚动前派发事件，移动端搜索时，防键盘遮挡\r\n        this.$emit('listScroll')\r\n      },\r\n      selectItem(item) {\r\n        this.$router.push({\r\n          path: `/moiveshow/${item.id}`\r\n        })\r\n        this.setMovie(item)            // 点击搜索结果列表时，将当前点击的列表数据提交到mutation中\r\n        this.$emit('select')\r\n      },\r\n      _selectType() {                 // 先判断是通过关键词搜索还是通过输入框搜索\r\n        this.dataFn = this.tagSearch ? tagSearch : movieSearch\r\n      },\r\n      replaceUrl(url) {            // 图片防盗链处理,把现在的图片连接传进来，返回一个不受限制的路径\r\n        return ('https://images.weserv.nl/?url=' + url.replace(/http\\w{0,1}:\\/\\//, ''))\r\n      }\r\n    },\r\n    components: {\r\n      scroll,\r\n      loading,\r\n      star\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  @import \"~@/common/stylus/mixin.styl\"\r\n\r\n  .suggest-wrapper {\r\n    height: 100%\r\n    position: relative\r\n  }\r\n\r\n  .suggest-wrapper .to-top {\r\n    box-sizing border-box\r\n    height: 22px\r\n    position: fixed\r\n    right: 0\r\n    top: 80%\r\n    z-index: 900\r\n    padding 5px\r\n    background-color: #42bd56;\r\n    color #fff\r\n    text-align: center\r\n    font-size 12px\r\n  }\r\n\r\n  .suggest {\r\n    height: 100%\r\n    overflow: hidden\r\n  }\r\n\r\n  .suggest .suggest-list {\r\n    padding 15px 15px 75px 15px\r\n  }\r\n\r\n  .suggest .content-box {\r\n    width: 100%\r\n    padding-bottom 20px\r\n  }\r\n\r\n  .content-box .suggest-left {\r\n    width: 48%\r\n    float left\r\n  }\r\n\r\n  .content-box .suggest-right {\r\n    width: 48%\r\n    float right\r\n  }\r\n\r\n  .suggest-list .suggest-item {\r\n    font-size 0\r\n    width: 100%\r\n    background-color: #f5f5f5\r\n    margin-bottom 20px\r\n  }\r\n\r\n  .suggest-list .suggest-item img {\r\n    width: 100%\r\n    height: auto\r\n  }\r\n\r\n  .item-info .star {\r\n    display inline-block\r\n  }\r\n\r\n  .suggest-item .title {\r\n    width: 80%\r\n    margin 0 auto\r\n    font-size 15px\r\n    color #333\r\n    text-align center\r\n    no-wrap()\r\n  }\r\n\r\n  .suggest-item .casts {\r\n    width: 100%\r\n    font-size 14px\r\n    color #333\r\n    text-align center\r\n    no-wrap()\r\n    margin 3px 0\r\n  }\r\n\r\n  .suggest .rating {\r\n    margin-left 5px\r\n  }\r\n\r\n  .suggest-item .item-info {\r\n    padding 8px 0\r\n    text-align center\r\n  }\r\n\r\n  .suggest-item span {\r\n    font-size 12px\r\n  }\r\n\r\n  .no-result {\r\n    position: absolute\r\n    top: 50%\r\n    width: 100%\r\n    text-align: center\r\n    font-size 16px\r\n    color #3CB611\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/suggest/suggest.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"suggest-wrapper\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.result.length),expression:\"result.length\"}],staticClass:\"to-top\",on:{\"click\":_vm.toTop}},[_c('span',[_vm._v(\"返回顶部\")])]),_vm._v(\" \"),_c('scroll',{ref:\"suggest\",staticClass:\"suggest\",attrs:{\"data\":_vm.result,\"pullup\":_vm.pullup,\"beforeScroll\":_vm.beforeScroll},on:{\"scrollToEnd\":_vm.searchMore,\"beforeScroll\":_vm.listScroll}},[_c('div',{staticClass:\"suggest-list clearfix\"},[_c('div',{staticClass:\"content-box clearfix\"},[_c('div',{staticClass:\"suggest-left\"},_vm._l((_vm.evenData),function(item){return _c('div',{staticClass:\"suggest-item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.replaceUrl(item.image)),expression:\"replaceUrl(item.image)\"}],attrs:{\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"item-info\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('div',{staticClass:\"casts\"},[_vm._v(_vm._s(item.casts))]),_vm._v(\" \"),_c('star',{staticClass:\"star\",attrs:{\"size\":24,\"score\":item.rating}}),_vm._v(\" \"),_c('span',{staticClass:\"rating\"},[_vm._v(_vm._s(_vm.getRating(item.rating)))])],1)])})),_vm._v(\" \"),_c('div',{staticClass:\"suggest-right\"},_vm._l((_vm.oddData),function(item){return _c('div',{staticClass:\"suggest-item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.replaceUrl(item.image)),expression:\"replaceUrl(item.image)\"}],attrs:{\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"item-info\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('div',{staticClass:\"casts\"},[_vm._v(_vm._s(item.casts))]),_vm._v(\" \"),_c('star',{staticClass:\"star\",attrs:{\"size\":24,\"score\":item.rating}}),_vm._v(\" \"),_c('span',{staticClass:\"rating\"},[_vm._v(_vm._s(_vm.getRating(item.rating)))])],1)])}))]),_vm._v(\" \"),(_vm.result.length)?_c('loading',{attrs:{\"hasMore\":_vm.hasMore}}):_vm._e()],1),_vm._v(\" \"),(_vm.noResult)?_c('div',{staticClass:\"no-result\"},[_vm._v(\"暂无搜索结果数据...\")]):_vm._e(),_vm._v(\" \"),(!_vm.result.length && !_vm.noResult)?_c('loading',{attrs:{\"fullScreen\":_vm.fullScreen}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-113d0f04\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/suggest/suggest.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-113d0f04\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./suggest.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./suggest.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./suggest.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-113d0f04\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./suggest.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-113d0f04\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/suggest/suggest.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"historylist\">\r\n    <ul>\r\n      <li :key=\"item\" class=\"history-item\" v-for=\"item in searches\" @click=\"selectItem(item)\">\r\n        <div class=\"text\">{{item}}</div>\r\n        <div class=\"icon\" @click.stop=\"deleteOne(item)\">\r\n          <i class=\"icon-close\"></i>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <div class=\"no-history\" v-show=\"!searches.length\">还没有搜索历史...</div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  export default {\r\n    props: {\r\n      searches: {\r\n        type: Array,\r\n        default: []\r\n      }\r\n    },\r\n    methods: {\r\n      selectItem(item) {\r\n        this.$emit('select', item)\r\n      },\r\n      deleteOne(item) {\r\n        this.$emit('delete', item)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  @import \"~@/common/stylus/mixin.styl\"\r\n\r\n  .historylist .history-item {\r\n    display flex\r\n    justify-content center\r\n    height: 40px\r\n    line-height: 40px\r\n    overflow: hidden\r\n    padding 0 20px\r\n  }\r\n\r\n  .history-item .text {\r\n    flex 1\r\n    font-size 14px\r\n    color #777\r\n  }\r\n\r\n  .history-item .icon {\r\n    extend-click()\r\n  }\r\n\r\n  .icon .icon-close {\r\n    font-size 12px\r\n    color #333\r\n  }\r\n\r\n  .no-history {\r\n    height: 40px\r\n    line-height: 40px\r\n    text-align: center\r\n    font-size 14px\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/historylist/historylist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"historylist\"},[_c('ul',_vm._l((_vm.searches),function(item){return _c('li',{key:item,staticClass:\"history-item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(item))]),_vm._v(\" \"),_c('div',{staticClass:\"icon\",on:{\"click\":function($event){$event.stopPropagation();_vm.deleteOne(item)}}},[_c('i',{staticClass:\"icon-close\"})])])})),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.searches.length),expression:\"!searches.length\"}],staticClass:\"no-history\"},[_vm._v(\"还没有搜索历史...\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-48fc0e50\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/base/historylist/historylist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-48fc0e50\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./historylist.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./historylist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./historylist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-48fc0e50\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./historylist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-48fc0e50\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/historylist/historylist.vue\n// module id = null\n// module chunks = ","<!--搜索电影页组件-->\r\n<template>\r\n  <transition name=\"search-move\">\r\n    <div class=\"search\">\r\n      <!--搜索框组件-->\r\n      <searchBox @query=\"onQueryChange\"\r\n                 :tagSearch=\"tagSearch\"\r\n                 v-show=\"!tagSearch\"\r\n                 ref=\"searchBox\"\r\n                 @focusInput=\"focusInputs\"\r\n                 @blurInput=\"blurInputs\"\r\n      ></searchBox>\r\n      <div class=\"fixed-title\" v-show=\"tagSearch\">\r\n        <span class=\"back\" @click=\"back\">\r\n          <i class=\"icon-back\"></i>\r\n        </span>\r\n        <span class=\"type\">\r\n          <span>关于{{query}}的电影</span>\r\n        </span>\r\n      </div>\r\n      <div class=\"shortcut-wrapper\" v-show=\"!query\">\r\n        <div class=\"tag-list\">\r\n          <h2 class=\"search-title\">搜索关键词</h2>\r\n          <div class=\"douban-tag\">\r\n            <span class=\"tag-item\" v-for=\"item in doubanTag\" @click=\"tagQuery(item)\">{{item}}</span>\r\n          </div>\r\n        </div>\r\n        <!--搜索历史-->\r\n        <div class=\"search-history\">\r\n          <h1 class=\"title\">\r\n            <span class=\"text\">搜索历史</span>\r\n            <span class=\"clear\" @click=\"showConfirm\">\r\n                <i class=\"icon-bin\"></i>\r\n              </span>\r\n          </h1>\r\n          <scroll class=\"shortcut\" ref=\"shortcut\" :beforeScroll=\"beforeScroll\" @beforeScroll=\"listenScroll\">\r\n            <div>\r\n              <historylist :searches=\"searchHistory\" @select=\"addQuery\" @delete=\"deleteOne\"></historylist>\r\n            </div>\r\n          </scroll>\r\n        </div>\r\n      </div>\r\n      <div class=\"search-result\" v-if=\"query\" ref=\"searchResult\" :class=\"{'tag-search':tagSearch}\">\r\n        <suggest ref=\"suggest\"\r\n                 :tagSearch=\"tagSearch\"\r\n                 :query=\"query\"\r\n                 @listScroll=\"blurInput\"\r\n                 @select=\"saveSearch\"\r\n        ></suggest>\r\n      </div>\r\n      <confirm ref=\"confirm\" text=\"是否清空所有搜索历史\" confirmbtnText=\"清空\" @confirm=\"clearSearchHistory\"></confirm>\r\n      <tab :tabFlag=\"tabFlag\"></tab>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import searchBox from 'base/searchBox/searchBox.vue'\r\n  import scroll from 'base/scroll/scroll.vue'\r\n  import confirm from 'base/confirm/confirm.vue'\r\n  import suggest from 'components/suggest/suggest.vue'\r\n  import historylist from 'base/historylist/historylist.vue'\r\n  import {mapGetters, mapActions} from 'vuex'\r\n  import tab from 'components/tab/tab.vue'\r\n\r\n  export default {\r\n    name: 'search',\r\n    data() {\r\n      return {\r\n        query: '',\r\n        tagSearch: false,\r\n        doubanTag: ['剧情', '爱情', '喜剧', '科幻', '动作', '悬疑', '治愈', '青春', '文艺', '经典', '豆瓣高分'],\r\n        beforeScroll: true,\r\n        tabFlag: true\r\n      }\r\n    },\r\n    watch: {\r\n      query(newQuery) {\r\n        if (!newQuery) {\r\n          setTimeout(() => {\r\n            this.$refs.shortcut.refresh()\r\n          }, 20)\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapGetters(['searchHistory'])\r\n    },\r\n    mounted() {\r\n      this.$nextTick(() => {\r\n        this.focusInput()\r\n      })\r\n    },\r\n    methods: {\r\n      ...mapActions(['saveSearchHistory', 'deleteSearchHistory', 'clearSearchHistory']),\r\n      onQueryChange(query) {           // 获取到从子组件中传过来的query\r\n        this.query = query\r\n      },\r\n      back() {                 // 清空搜索项\r\n        this.tagSearch = false\r\n        this.query = ''\r\n      },\r\n      tagQuery(query) {          // 点击搜索关键词隐藏搜索框\r\n        this.tagSearch = true\r\n        this.query = query\r\n      },\r\n      listenScroll() {          // 在滚动之前让输入框失去焦点隐藏键盘\r\n        this.blurInput()\r\n      },\r\n      blurInput() {           // 让子组件的输入框失去焦点\r\n        this.$refs.searchBox.blur()\r\n      },\r\n      focusInput() {         // 让子组件的输入框获得焦点\r\n        this.$refs.searchBox.focus()\r\n      },\r\n      showConfirm() {        // 点击垃圾桶显示删除提示框\r\n        this.$refs.confirm.show()\r\n      },\r\n      saveSearch() {     // 点击搜索结果列表时，将搜索词缓存到本地\r\n        if (!this.tagSearch) {\r\n          this.saveSearchHistory(this.query)\r\n        }\r\n      },\r\n      addQuery(query) {              // 将搜索历史搜索框并搜索\r\n        this.$refs.searchBox.setQuery(query)\r\n      },\r\n      deleteOne(item) {\r\n        this.deleteSearchHistory(item)\r\n      },\r\n      focusInputs() {\r\n        this.tabFlag = false\r\n      },\r\n      blurInputs() {\r\n        this.tabFlag = true\r\n      }\r\n    },\r\n    components: {\r\n      searchBox,\r\n      scroll,\r\n      confirm,\r\n      suggest,\r\n      historylist,\r\n      tab\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  @import \"~@/common/stylus/mixin.styl\"\r\n\r\n  .search {\r\n    position: fixed\r\n    top: 0\r\n    left: 0\r\n    bottom: 0\r\n    right: 0\r\n    background-color: #fff\r\n    z-index 9995\r\n  }\r\n\r\n  .search-move-enter-active, .search-move-leave-active {\r\n    transition all 0.3s\r\n  }\r\n\r\n  .search-move-enter, .search-move-leave-to {\r\n    transform translate3d(-100%, 0, 0)\r\n  }\r\n\r\n  .fixed-title {\r\n    border-bottom-1px(#ccc)\r\n    position: fixed\r\n    top: 0\r\n    width: 100%\r\n    height: 50px\r\n    /*z-index: 300*/\r\n    /*background-color: #fff*/\r\n  }\r\n\r\n  .fixed-title .back {\r\n    position: absolute\r\n    top: 0px\r\n    left: 6px\r\n    z-index: 100\r\n  }\r\n\r\n  .back .icon-back {\r\n    display: block\r\n    padding: 15px\r\n    font-size 18px\r\n    color #42bd56\r\n  }\r\n\r\n  .fixed-title .type {\r\n    line-height: 50px\r\n    font-size 16px\r\n    padding-left 60px\r\n    color #333\r\n  }\r\n\r\n  .shortcut-wrapper {\r\n    position: fixed\r\n    top: 50px\r\n    bottom: 0\r\n    width: 100%\r\n  }\r\n\r\n  .shortcut-wrapper .shortcut {\r\n    position: absolute;\r\n    top: 230px;\r\n    bottom: 75px\r\n    overflow: hidden;\r\n    box-sizing: border-box;\r\n    width: 100%\r\n  }\r\n\r\n  .tag-list {\r\n    padding 15px 15px 0 15px\r\n  }\r\n\r\n  .tag-list .search-title {\r\n    color #98989A\r\n    font-size 16px\r\n    padding-bottom 15px\r\n  }\r\n\r\n  .douban-tag .tag-item {\r\n    display: inline-block;\r\n    padding: 5px 10px;\r\n    margin: 0 20px 10px 0;\r\n    border-radius: 6px;\r\n    font-size 14px\r\n    color #42bd56\r\n    border 1px solid #42bd56\r\n  }\r\n\r\n  .search-history .title {\r\n    display flex\r\n    align-items top\r\n    height: 40px\r\n    font-size 18px\r\n    color #42bd56\r\n    padding 20px 20px 0 20px\r\n  }\r\n\r\n  .title .text {\r\n    flex 1\r\n  }\r\n\r\n  .title .clear {\r\n    extend-click()\r\n  }\r\n\r\n  .clear .icon-bin {\r\n    font-size 18px\r\n    color #42bd56\r\n  }\r\n\r\n  .search-result {\r\n    position fixed\r\n    width: 100%\r\n    top: 50px\r\n    bottom: 0\r\n    background-color: #fff;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/search/search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"search-move\"}},[_c('div',{staticClass:\"search\"},[_c('searchBox',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.tagSearch),expression:\"!tagSearch\"}],ref:\"searchBox\",attrs:{\"tagSearch\":_vm.tagSearch},on:{\"query\":_vm.onQueryChange,\"focusInput\":_vm.focusInputs,\"blurInput\":_vm.blurInputs}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tagSearch),expression:\"tagSearch\"}],staticClass:\"fixed-title\"},[_c('span',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})]),_vm._v(\" \"),_c('span',{staticClass:\"type\"},[_c('span',[_vm._v(\"关于\"+_vm._s(_vm.query)+\"的电影\")])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.query),expression:\"!query\"}],staticClass:\"shortcut-wrapper\"},[_c('div',{staticClass:\"tag-list\"},[_c('h2',{staticClass:\"search-title\"},[_vm._v(\"搜索关键词\")]),_vm._v(\" \"),_c('div',{staticClass:\"douban-tag\"},_vm._l((_vm.doubanTag),function(item){return _c('span',{staticClass:\"tag-item\",on:{\"click\":function($event){_vm.tagQuery(item)}}},[_vm._v(_vm._s(item))])}))]),_vm._v(\" \"),_c('div',{staticClass:\"search-history\"},[_c('h1',{staticClass:\"title\"},[_c('span',{staticClass:\"text\"},[_vm._v(\"搜索历史\")]),_vm._v(\" \"),_c('span',{staticClass:\"clear\",on:{\"click\":_vm.showConfirm}},[_c('i',{staticClass:\"icon-bin\"})])]),_vm._v(\" \"),_c('scroll',{ref:\"shortcut\",staticClass:\"shortcut\",attrs:{\"beforeScroll\":_vm.beforeScroll},on:{\"beforeScroll\":_vm.listenScroll}},[_c('div',[_c('historylist',{attrs:{\"searches\":_vm.searchHistory},on:{\"select\":_vm.addQuery,\"delete\":_vm.deleteOne}})],1)])],1)]),_vm._v(\" \"),(_vm.query)?_c('div',{ref:\"searchResult\",staticClass:\"search-result\",class:{'tag-search':_vm.tagSearch}},[_c('suggest',{ref:\"suggest\",attrs:{\"tagSearch\":_vm.tagSearch,\"query\":_vm.query},on:{\"listScroll\":_vm.blurInput,\"select\":_vm.saveSearch}})],1):_vm._e(),_vm._v(\" \"),_c('confirm',{ref:\"confirm\",attrs:{\"text\":\"是否清空所有搜索历史\",\"confirmbtnText\":\"清空\"},on:{\"confirm\":_vm.clearSearchHistory}}),_vm._v(\" \"),_c('tab',{attrs:{\"tabFlag\":_vm.tabFlag}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-3d1cb578\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/search/search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3d1cb578\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./search.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3d1cb578\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3d1cb578\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/search/search.vue\n// module id = null\n// module chunks = ","import axios from 'axios'\r\nimport {commonParams} from './config'\r\n\r\nexport function getMoviedetail(id) {               // 获取电影列表的详情页数据\r\n  const url = `/v2/movie/subject/${id}`\r\n  const data = Object.assign({}, commonParams)\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data)\r\n  }).catch((err) => {\r\n    console.log(err)\r\n  })\r\n}\r\n\r\n\r\nexport function getAllReviews(id, start, count) {              // 获取全部的电影影评数据\r\n  const url = `/v2/movie/subject/${id}/reviews`;\r\n  const data = Object.assign({}, commonParams, {\r\n    start,\r\n    count\r\n  });\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data);\r\n  }).catch((err) => {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\nexport function getAllComments(id, start, count) {                 // 获取全部的电影短评数据\r\n  const url = `/v2/movie/subject/${id}/comments`;\r\n  const data = Object.assign({}, commonParams, {\r\n    start,\r\n    count\r\n  });\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data);\r\n  }).catch((err) => {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\nexport function getMovieReview(id) {                       // 获取电影影评的详情数据\r\n  const url = `/v2/movie/review/${id}`;\r\n  const data = Object.assign({}, commonParams);\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data);\r\n  }).catch((err) => {\r\n    console.log(err);\r\n  });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/moviedetail.js","<!--详情页电影信息的组件-->\r\n<template>\r\n  <div class=\"movieinfo\">\r\n    <div class=\"overall\">\r\n      <!--电影详情信息-->\r\n      <div class=\"desc\">\r\n        <h2 class=\"title\">{{moviedetail.title}}</h2>\r\n        <span class=\"original-title\">电影原名：{{moviedetail.original_title}}</span>\r\n        <span class=\"duration\">电影片长：{{durations}}</span>\r\n        <span class=\"tag\">电影类型：{{tag}}</span>\r\n        <span class=\"pubdate\">上映时间：{{pubdate}}</span>\r\n      </div>\r\n      <!--电影的豆瓣评分-->\r\n      <div class=\"rank\">\r\n        <span class=\"origin\">豆瓣评分</span>\r\n        <span class=\"rating\" v-show=\"rating\">{{normalizeScore()}}</span>\r\n        <star :size=\"24\" :score=\"moviedetail.rating.average\" :needNullStar=\"needNullStar\" class=\"star\"></star>\r\n        <span class=\"num\">{{moviedetail.ratings_count}} 人</span>\r\n      </div>\r\n    </div>\r\n    <!--电影的观看按钮-->\r\n    <div class=\"operate\">\r\n      <!--想看的电影-->\r\n      <div class=\"want-watch\"\r\n           v-text=\"wantedText\"\r\n           @click=\"saveWantedMovie\"\r\n           :class=\"{'wanted':isWanted(moviedetail.id)}\"\r\n      ></div>\r\n      <!--看过的电影-->\r\n      <div class=\"has-watched\"\r\n           @click=\"saveWatchedMovie\"\r\n           :class=\"{'wacthed':isWatched(moviedetail.id)}\"\r\n      ><img src=\"./avatar.jpg\" alt=\"\" width=\"25\" height=\"25\" v-show=\"hasWacthed\">\r\n        {{watchedText}}\r\n      </div>\r\n    </div>\r\n    <!--电影剧情简介-->\r\n    <div class=\"summary\">\r\n      <h2 class=\"title\">剧情简介</h2>\r\n      <p class=\"content\">{{moviedetail.summary}}</p>\r\n    </div>\r\n    <h2 class=\"casts-content-title\">影人</h2>\r\n    <scroll class=\"casts\" :scrollX=\"this.scrollX\" :eventPassthrough=\"this.eventPassthrough\" ref=\"scroll\" :click=\"this.click\">\r\n      <div class=\"casts-content\" ref=\"content\">\r\n        <div class=\"cast-item\" v-for=\"item in allCasts\" @click=\"selectCelebrity(item.id,$event)\">\r\n          <img v-lazy=\"replaceUrl(item.avatars.large)\" alt=\"\" width=\"90\" height=\"120\">\r\n          <h3 class=\"item-title\">{{item.name}}</h3>\r\n          <span v-if=\"item.isDirector\">导演</span>\r\n          <span v-else>演员</span>\r\n        </div>\r\n        <div class=\"no-result\" v-if=\"!allCasts.length\">抱歉，暂无影人信息...</div>\r\n      </div>\r\n    </scroll>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import scroll from 'base/scroll/scroll.vue'\r\n  import star from 'base/star/star.vue'\r\n  import {mapGetters, mapActions} from 'vuex'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        eventPassthrough: 'vertical',           // 忽略better-scroll垂直滚动的方向\r\n        scrollX: true,\r\n        needNullStar: true,          // 星星评分的显示隐藏定义的变量\r\n        wantedText: '想看',\r\n        watchedText: '看过 ☆☆☆☆☆',\r\n        wanted: false,                     // 想看电影的标志位\r\n        hasWacthed: false,                 // 看过电影的标志位\r\n        click: false\r\n      }\r\n    },\r\n    props: {\r\n      moviedetail: {\r\n        type: Object,\r\n        default: {}\r\n      }\r\n    },\r\n    mounted() {\r\n      this.$nextTick(() => {\r\n        this._initPic()\r\n        this.$refs.scroll.refresh()\r\n      })\r\n    },\r\n    computed: {\r\n      ...mapGetters(['movie', 'watchedMovies', 'wantedMovies']),\r\n      tag() {              // 获取电影类型的信息\r\n        let year = this.moviedetail.year\r\n        let tag = this.moviedetail.genres.join(' / ')            // join() 方法用于把数组中的所有元素转换一个字符串。\r\n        return `${year} / ${tag}`\r\n      },\r\n      pubdate() {            // 获取电影上映的数据及判断电影上映的数据\r\n        let pubdate = ''\r\n        let date = this.moviedetail.pubdates\r\n        for (let i = 0; i < date.length; i++) {\r\n          if (date[i].indexOf('电影节') === -1) {          // indexOf() 方法可返回某个指定的字符串值在字符串中首次出现的位置。没有就会返回-1\r\n            pubdate = date[i]           // 没有在中国大陆上映，就取电影节的最后一个信息\r\n          }\r\n          if (date[i].indexOf('中国大陆') > -1) {       // 下中国大陆上映的电影\r\n            pubdate = date[i]\r\n            break           // 跳出本次循环\r\n          }\r\n        }\r\n        if (!pubdate) {          // 没有上映的电影时\r\n          pubdate = '暂无上映信息'\r\n        }\r\n        return pubdate\r\n      },\r\n      durations() {            // 获取电影片长的第一个数据\r\n        return this.moviedetail.durations[0]\r\n      },\r\n      rating() {               // 判断豆瓣电影的评分\r\n        let rating = this.moviedetail.rating.average\r\n        if (rating === 0) {\r\n          return false\r\n        }\r\n        return true\r\n      },\r\n      allCasts() {             // 获取导演和演员的分组数据\r\n        let removeIndex = []\r\n        this.moviedetail.directors.forEach((item, index) => {\r\n          item.isDirector = true\r\n          if (item.avatars === null) {        // 当导演数据不存在照片时\r\n            removeIndex.push(index)\r\n          }\r\n        })\r\n        for (let i = removeIndex.length; i > 0; i--) {\r\n          this.moviedetail.directors.splice(removeIndex[i - 1], 1)\r\n        }\r\n        removeIndex = []       // 重置移除的清单\r\n        this.moviedetail.casts.forEach((item, index) => {\r\n          if (item.avatars === null) {        // 当演员数据不存在照片时\r\n            removeIndex.push(index)\r\n          }\r\n        })\r\n        for (let i = removeIndex.length; i > 0; i--) {\r\n          this.moviedetail.casts.splice(removeIndex[i - 1], 1)\r\n        }\r\n        return this.moviedetail.directors.concat(this.moviedetail.casts)\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions(['markWatchedMovie', 'markWantedMovie']),\r\n      normalizeScore() {          // 豆瓣电影评分末尾补零\r\n        let len = this.moviedetail.rating.average.toString().length                    // toString() 方法可把一个逻辑值转换为字符串，并返回结果。\r\n        if (len < 2) {\r\n          return `${this.moviedetail.rating.average}.0`\r\n        }\r\n        return this.moviedetail.rating.average\r\n      },\r\n      saveWantedMovie() {               // 点击想看的电影时，将想看的电影数据提交到actions中\r\n        this.markWantedMovie(this.movie)\r\n        const index = this.wantedMovies.findIndex((item) => {\r\n          return item.id === this.movie.id\r\n        })\r\n        if (index > -1) {         // 当前想看的电影数据存在时\r\n          this.wantedText = '已想看'\r\n        } else {\r\n          this.wantedText = '想看'\r\n        }\r\n      },\r\n      isWanted(id) {                 // 点击想看的电影按钮时变色\r\n        const index = this.wantedMovies.findIndex((item) => {\r\n          return item.id === id\r\n        })\r\n        if (index > -1) {\r\n          return true\r\n        }\r\n        return false\r\n      },\r\n      saveWatchedMovie() {         // 点击看过的电影时，将看过电影数据提交到actions中\r\n        this.markWatchedMovie(this.movie)\r\n        const index = this.watchedMovies.findIndex((item) => {\r\n          return item.id === this.movie.id\r\n        })\r\n        if (index > -1) {            // 当前看过的电影数据存在时\r\n          this.hasWacthed = true\r\n          this.watchedText = '已看过'\r\n        } else {\r\n          this.hasWacthed = false\r\n          this.watchedText = '看过 ☆☆☆☆☆'\r\n        }\r\n      },\r\n      isWatched(id) {                 // 点击看过的电影按钮时变色\r\n        const index = this.watchedMovies.findIndex((item) => {\r\n          return item.id === id\r\n        })\r\n        if (index > -1) {\r\n          this.hasWacthed = true\r\n          return true\r\n        }\r\n        return false\r\n      },\r\n      _initPic() {             // 影人区域的左右滑动\r\n        let picWidth = 90\r\n        let margin = 8\r\n        let width = (picWidth + margin) * this.allCasts.length - margin\r\n        this.$refs.content.style.width = width + 'px'\r\n      },\r\n      selectCelebrity(id) {               // 在电影详情页中点击影人图片时进入影人介绍页\r\n        if (!event._constructed) {\r\n          return;\r\n        }\r\n        this.$emit('selectCelebrity', id)\r\n      },\r\n      replaceUrl(url) {            // 图片防盗链处理,把现在的图片连接传进来，返回一个不受限制的路径\r\n        return ('https://images.weserv.nl/?url=' + url.replace(/http\\w{0,1}:\\/\\//, ''))\r\n      }\r\n    },\r\n    components: {\r\n      scroll,\r\n      star\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  @import \"~@/common/stylus/mixin.styl\"\r\n\r\n  .movieinfo {\r\n    background-color: #fff\r\n    padding 0 20px\r\n  }\r\n\r\n  .movieinfo .overall {\r\n    display: flex\r\n    height: 140px\r\n    justify-content space-between\r\n  }\r\n\r\n  .overall .desc {\r\n    flex 70% 0 0\r\n    overflow: hidden\r\n    display flex\r\n    flex-direction column\r\n    justify-content space-around\r\n  }\r\n\r\n  .desc .title {\r\n    font-size 18px\r\n    color #333\r\n    padding 10px 0 5px 0\r\n    no-wrap()\r\n  }\r\n\r\n  .desc span {\r\n    font-size 12px\r\n    no-wrap()\r\n  }\r\n\r\n  .overall .rank {\r\n    height: 70px\r\n    margin-top: 15px\r\n    padding 10px 8px\r\n    display: flex\r\n    align-items center\r\n    flex-direction column\r\n    justify-content space-between\r\n    box-shadow 0px 0px 5px #ccc\r\n    background-color: #f8f8f8\r\n  }\r\n\r\n  .rank .star {\r\n    text-align: center\r\n  }\r\n\r\n  .rank span {\r\n    font-size 12px\r\n    color #777\r\n  }\r\n\r\n  .rank .rating {\r\n    font-size 18px\r\n    color #333\r\n  }\r\n\r\n  .rank .star {\r\n    display: block\r\n  }\r\n\r\n  .summary {\r\n    margin-top 20px\r\n    padding-top: 20px\r\n    boeder-top-1px(#ccc)\r\n  }\r\n\r\n  .summary .title {\r\n    font-size 14px\r\n    color #000\r\n  }\r\n\r\n  .summary .content {\r\n    text-indent 1.5em\r\n    padding-top 10px\r\n    font-size 14px\r\n    color #333\r\n    line-height: 25px\r\n  }\r\n\r\n  .operate {\r\n    margin-top: 20px\r\n    line-height: 35px\r\n    height: 35px\r\n    display flex\r\n    text-align center\r\n    font-size 14px\r\n    color #42bd56\r\n  }\r\n\r\n  .operate .want-watch {\r\n    flex 1\r\n    border 1px solid #42bd56\r\n    border-radius 5px\r\n    margin-right 20px\r\n  }\r\n\r\n  .want-watch.wanted {\r\n    border: 1px solid #FE9800\r\n    color #FE9800\r\n  }\r\n\r\n  .operate .has-watched {\r\n    flex 2\r\n    border 1px solid #42bd56\r\n    border-radius 5px\r\n  }\r\n\r\n  .has-watched.wacthed {\r\n    border: 1px solid #FE9800\r\n    color #FE9800\r\n  }\r\n\r\n  .has-watched img {\r\n    display inline-block\r\n    vertical-align middle\r\n    padding-bottom 2px\r\n    border-radius 50%\r\n  }\r\n\r\n  .casts {\r\n    padding 15px 0 30px 0\r\n    width: 100%\r\n    white-space nowrap\r\n    overflow: hidden\r\n    font-size 0\r\n    border-bottom-1px(#ccc)\r\n  }\r\n\r\n  .casts-content-title {\r\n    font-size 14px\r\n    padding-top 30px\r\n  }\r\n\r\n  .casts-content .cast-item {\r\n    width: 90px\r\n    vertical-align top\r\n    display inline-block\r\n    text-align: center\r\n    margin-right 8px\r\n    font-size 12px\r\n  }\r\n\r\n  .cast-item img {\r\n    height: 120px\r\n    width: 90px\r\n  }\r\n\r\n  .cast-item .item-title {\r\n    color #333\r\n    padding 8px 0 5px 0\r\n    no-wrap()\r\n  }\r\n\r\n  .no-result {\r\n    text-align center\r\n    font-size 12px\r\n    color #42bd56\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/movieinfo/movieinfo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"movieinfo\"},[_c('div',{staticClass:\"overall\"},[_c('div',{staticClass:\"desc\"},[_c('h2',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.moviedetail.title))]),_vm._v(\" \"),_c('span',{staticClass:\"original-title\"},[_vm._v(\"电影原名：\"+_vm._s(_vm.moviedetail.original_title))]),_vm._v(\" \"),_c('span',{staticClass:\"duration\"},[_vm._v(\"电影片长：\"+_vm._s(_vm.durations))]),_vm._v(\" \"),_c('span',{staticClass:\"tag\"},[_vm._v(\"电影类型：\"+_vm._s(_vm.tag))]),_vm._v(\" \"),_c('span',{staticClass:\"pubdate\"},[_vm._v(\"上映时间：\"+_vm._s(_vm.pubdate))])]),_vm._v(\" \"),_c('div',{staticClass:\"rank\"},[_c('span',{staticClass:\"origin\"},[_vm._v(\"豆瓣评分\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.rating),expression:\"rating\"}],staticClass:\"rating\"},[_vm._v(_vm._s(_vm.normalizeScore()))]),_vm._v(\" \"),_c('star',{staticClass:\"star\",attrs:{\"size\":24,\"score\":_vm.moviedetail.rating.average,\"needNullStar\":_vm.needNullStar}}),_vm._v(\" \"),_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.moviedetail.ratings_count)+\" 人\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"operate\"},[_c('div',{staticClass:\"want-watch\",class:{'wanted':_vm.isWanted(_vm.moviedetail.id)},domProps:{\"textContent\":_vm._s(_vm.wantedText)},on:{\"click\":_vm.saveWantedMovie}}),_vm._v(\" \"),_c('div',{staticClass:\"has-watched\",class:{'wacthed':_vm.isWatched(_vm.moviedetail.id)},on:{\"click\":_vm.saveWatchedMovie}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasWacthed),expression:\"hasWacthed\"}],attrs:{\"src\":require(\"./avatar.jpg\"),\"alt\":\"\",\"width\":\"25\",\"height\":\"25\"}}),_vm._v(\"\\n      \"+_vm._s(_vm.watchedText)+\"\\n    \")])]),_vm._v(\" \"),_c('div',{staticClass:\"summary\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"剧情简介\")]),_vm._v(\" \"),_c('p',{staticClass:\"content\"},[_vm._v(_vm._s(_vm.moviedetail.summary))])]),_vm._v(\" \"),_c('h2',{staticClass:\"casts-content-title\"},[_vm._v(\"影人\")]),_vm._v(\" \"),_c('scroll',{ref:\"scroll\",staticClass:\"casts\",attrs:{\"scrollX\":this.scrollX,\"eventPassthrough\":this.eventPassthrough,\"click\":this.click}},[_c('div',{ref:\"content\",staticClass:\"casts-content\"},[_vm._l((_vm.allCasts),function(item){return _c('div',{staticClass:\"cast-item\",on:{\"click\":function($event){_vm.selectCelebrity(item.id,$event)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.replaceUrl(item.avatars.large)),expression:\"replaceUrl(item.avatars.large)\"}],attrs:{\"alt\":\"\",\"width\":\"90\",\"height\":\"120\"}}),_vm._v(\" \"),_c('h3',{staticClass:\"item-title\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),(item.isDirector)?_c('span',[_vm._v(\"导演\")]):_c('span',[_vm._v(\"演员\")])])}),_vm._v(\" \"),(!_vm.allCasts.length)?_c('div',{staticClass:\"no-result\"},[_vm._v(\"抱歉，暂无影人信息...\")]):_vm._e()],2)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-de2d2d92\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/movieinfo/movieinfo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-de2d2d92\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./movieinfo.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./movieinfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./movieinfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-de2d2d92\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./movieinfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-de2d2d92\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/movieinfo/movieinfo.vue\n// module id = null\n// module chunks = ","<!--电影详情页短评的组件-->\r\n<template>\r\n  <div class=\"moviecomment\">\r\n    <div class=\"type-title\" v-if=\"needTitle\">短评{{commentNum}}条</div>\r\n    <ul>\r\n      <li class=\"comment-item\" v-for=\"(item,index) in comments\">\r\n        <div class=\"avatar\">\r\n          <img v-lazy=\"item.author.avatar\" alt=\"\" width=\"36\" height=\"36\">\r\n        </div>\r\n        <div class=\"content\">\r\n          <h1 class=\"name\">{{item.author.name}}</h1>\r\n          <star :size=\"24\" :score=\"item.rating.value*2\"></star>\r\n          <p class=\"text\">{{item.content}}</p>\r\n          <span class=\"date\">{{item.created_at}}</span>\r\n          <div class=\"useful-count\" @click=\"markItem(item.id,index)\" :class=\"{'like':isLike(item.id)}\">\r\n            <i class=\"icon-thumb_up\"></i>\r\n            {{item.useful_count}}\r\n          </div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <div class=\"allComment\" v-if=\"!needTitle\" @click=\"needAllComments\">\r\n      <span>全部短评{{commentNum}}个</span>\r\n    </div>\r\n    <loading v-show=\"comments.length\" v-if=\"needTitle\" :hasMore=\"hasMore\"></loading>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import star from 'base/star/star.vue'\r\n  import loading from 'base/loading/loading.vue'\r\n  import {mapGetters, mapActions} from 'vuex'\r\n\r\n  export default {\r\n    props: {\r\n      comments: {\r\n        type: Array,\r\n        default: []\r\n      },\r\n      commentNum: {\r\n        type: Number,\r\n        default: 0\r\n      },\r\n      needTitle: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      hasMore: {\r\n        type: Boolean,\r\n        default: true\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapGetters(['favoriteComments'])\r\n    },\r\n    methods: {\r\n      ...mapActions(['markComment']),\r\n      needAllComments() {                  // 点击全部短评派发事件到父组件\r\n        this.$emit('needAllComments')\r\n      },\r\n      markItem(id, index) {               // 点击电影短评的点赞时，将ID和index的数据提交到action中\r\n        this.markComment(id)\r\n        const commentIndex = this.favoriteComments.findIndex((item) => {\r\n          return item === id\r\n        })\r\n        if (commentIndex > -1) {\r\n          this.comments[index].useful_count++\r\n        } else {\r\n          this.comments[index].useful_count--\r\n        }\r\n      },\r\n      isLike(id) {              // 电影短评点赞时变色\r\n        const index = this.favoriteComments.findIndex((item) => {\r\n          return item === id\r\n        })\r\n        if (index > -1) {\r\n          return true\r\n        }\r\n        return false\r\n      }\r\n    },\r\n    components: {\r\n      star,\r\n      loading\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  .moviecomment {\r\n    padding 20px 20px 60px 20px\r\n    background-color: #fff\r\n  }\r\n\r\n  .moviecomment .type-title {\r\n    font-size 14px\r\n    margin-bottom: 15px\r\n  }\r\n\r\n  .moviecomment .comment-item {\r\n    display flex\r\n    margin-bottom 20px\r\n  }\r\n\r\n  .comment-item .avatar {\r\n    flex 0 0 36px\r\n    width: 36px\r\n    margin-right: 12px\r\n  }\r\n\r\n  .comment-item .avatar img {\r\n    border-radius 50%\r\n  }\r\n\r\n  .comment-item .content {\r\n    flex 1\r\n    position relative\r\n    font-size 14px\r\n    color #333\r\n  }\r\n\r\n  .content .name {\r\n    display inline-block\r\n    line-height 25px\r\n    margin-right 5px\r\n  }\r\n\r\n  .content .star {\r\n    display inline-block\r\n  }\r\n\r\n  .content .text {\r\n    line-height: 20px\r\n    text-indent: 2em;\r\n  }\r\n\r\n  .content .date {\r\n    font-size 12px\r\n    color #777\r\n    line-height: 25px\r\n  }\r\n\r\n  .content .useful-count {\r\n    position: absolute\r\n    color #777\r\n    top: 5px\r\n    right: 5px\r\n  }\r\n\r\n  .useful-count.like {\r\n    color #42bd56\r\n  }\r\n\r\n  .allComment {\r\n    font-size 14px\r\n    color #42bd56\r\n    text-align center\r\n    padding-bottom 10px\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/moviecomment/moviecomment.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"moviecomment\"},[(_vm.needTitle)?_c('div',{staticClass:\"type-title\"},[_vm._v(\"短评\"+_vm._s(_vm.commentNum)+\"条\")]):_vm._e(),_vm._v(\" \"),_c('ul',_vm._l((_vm.comments),function(item,index){return _c('li',{staticClass:\"comment-item\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.author.avatar),expression:\"item.author.avatar\"}],attrs:{\"alt\":\"\",\"width\":\"36\",\"height\":\"36\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('h1',{staticClass:\"name\"},[_vm._v(_vm._s(item.author.name))]),_vm._v(\" \"),_c('star',{attrs:{\"size\":24,\"score\":item.rating.value*2}}),_vm._v(\" \"),_c('p',{staticClass:\"text\"},[_vm._v(_vm._s(item.content))]),_vm._v(\" \"),_c('span',{staticClass:\"date\"},[_vm._v(_vm._s(item.created_at))]),_vm._v(\" \"),_c('div',{staticClass:\"useful-count\",class:{'like':_vm.isLike(item.id)},on:{\"click\":function($event){_vm.markItem(item.id,index)}}},[_c('i',{staticClass:\"icon-thumb_up\"}),_vm._v(\"\\n          \"+_vm._s(item.useful_count)+\"\\n        \")])],1)])})),_vm._v(\" \"),(!_vm.needTitle)?_c('div',{staticClass:\"allComment\",on:{\"click\":_vm.needAllComments}},[_c('span',[_vm._v(\"全部短评\"+_vm._s(_vm.commentNum)+\"个\")])]):_vm._e(),_vm._v(\" \"),(_vm.needTitle)?_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.comments.length),expression:\"comments.length\"}],attrs:{\"hasMore\":_vm.hasMore}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-b13748a2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/moviecomment/moviecomment.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b13748a2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./moviecomment.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./moviecomment.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./moviecomment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b13748a2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./moviecomment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b13748a2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/moviecomment/moviecomment.vue\n// module id = null\n// module chunks = ","<!--电影详情页影评的组件-->\r\n<template>\r\n  <div class=\"moviereview\">\r\n    <div class=\"type-title\" v-if=\"needTitle\">影评{{reviewsNum}}条</div>\r\n    <ul>\r\n      <li class=\"review-item\" v-for=\"item in reviews\" @click=\"selectReview(item.id)\">\r\n        <div class=\"content\">\r\n          <h1 class=\"title\">{{item.title}}</h1>\r\n          <div class=\"user-info\">\r\n            <div class=\"avatar\">\r\n              <img v-lazy=\"item.author.avatar\" alt=\"\" width=\"25\" height=\"25\">\r\n            </div>\r\n            <span class=\"name\">{{item.author.name}}</span>\r\n            <star :size=\"24\" :score=\"item.rating.value*2\"></star>\r\n          </div>\r\n          <p class=\"desc\">{{item.summary}}</p>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <div class=\"allReview\" v-if=\"!needTitle\" @click=\"needAllReviews\">\r\n      <span>全部影评{{reviewsNum}}个</span>\r\n    </div>\r\n    <loading :hasMore=\"hasMore\" v-show=\"reviews.length\" v-if=\"needTitle\"></loading>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import star from 'base/star/star.vue'\r\n  import loading from 'base/loading/loading.vue'\r\n\r\n  export default {\r\n    props: {\r\n      reviews: {\r\n        type: Array,\r\n        default: []\r\n      },\r\n      reviewsNum: {\r\n        type: Number,\r\n        default: 0\r\n      },\r\n      needTitle: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      hasMore: {\r\n        type: Boolean,\r\n        default: true\r\n      }\r\n    },\r\n    methods: {\r\n      needAllReviews() {                   // 点击全部影评时，将点击事件派发到父组件中\r\n        this.$emit('needAllReviews')\r\n      },\r\n      selectReview(id) {                   // 当进入电影影评列表时，点击列表将此列表的ID传到父组件\r\n        this.$emit('selectReview', id)\r\n      }\r\n    },\r\n    components: {\r\n      star,\r\n      loading\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  .moviereview {\r\n    padding 20px 20px 60px 20px\r\n    background-color: #fff\r\n  }\r\n\r\n  .moviereview .type-title {\r\n    font-size 14px\r\n    margin-bottom: 15px\r\n  }\r\n\r\n  .moviereview .review-item {\r\n    margin-bottom 20px\r\n  }\r\n\r\n  .review-item .content {\r\n    font-size 12px\r\n  }\r\n\r\n  .content .title {\r\n    font-size 16px\r\n    color #333\r\n    padding 5px 0\r\n  }\r\n\r\n  .content .user-info {\r\n    padding 5px 0\r\n  }\r\n\r\n  .user-info .avatar {\r\n    display inline-block\r\n    vertical-align middle\r\n    margin-right 6px\r\n  }\r\n\r\n  .avatar img {\r\n    border-radius 50%\r\n  }\r\n\r\n  .user-info .name {\r\n    display inline-block\r\n    vertical-align middle\r\n  }\r\n\r\n  .user-info .star {\r\n    display inline-block\r\n    vertical-align middle\r\n  }\r\n\r\n  .content .desc {\r\n    line-height: 20px\r\n  }\r\n\r\n  .allReview {\r\n    font-size 14px\r\n    color #42bd56\r\n    text-align: center\r\n    padding-bottom 10px\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/moviereview/moviereview.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"moviereview\"},[(_vm.needTitle)?_c('div',{staticClass:\"type-title\"},[_vm._v(\"影评\"+_vm._s(_vm.reviewsNum)+\"条\")]):_vm._e(),_vm._v(\" \"),_c('ul',_vm._l((_vm.reviews),function(item){return _c('li',{staticClass:\"review-item\",on:{\"click\":function($event){_vm.selectReview(item.id)}}},[_c('div',{staticClass:\"content\"},[_c('h1',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('div',{staticClass:\"user-info\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.author.avatar),expression:\"item.author.avatar\"}],attrs:{\"alt\":\"\",\"width\":\"25\",\"height\":\"25\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.author.name))]),_vm._v(\" \"),_c('star',{attrs:{\"size\":24,\"score\":item.rating.value*2}})],1),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(item.summary))])])])})),_vm._v(\" \"),(!_vm.needTitle)?_c('div',{staticClass:\"allReview\",on:{\"click\":_vm.needAllReviews}},[_c('span',[_vm._v(\"全部影评\"+_vm._s(_vm.reviewsNum)+\"个\")])]):_vm._e(),_vm._v(\" \"),(_vm.needTitle)?_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.reviews.length),expression:\"reviews.length\"}],attrs:{\"hasMore\":_vm.hasMore}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-4856ddec\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/moviereview/moviereview.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4856ddec\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./moviereview.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./moviereview.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./moviereview.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4856ddec\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./moviereview.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4856ddec\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/moviereview/moviereview.vue\n// module id = null\n// module chunks = ","<template>\r\n  <transition name=\"fade\">\r\n    <div class=\"moviedetail\">\r\n      <div class=\"fixed-title\">\r\n        <span class=\"back\" @click=\"back\">\r\n          <i class=\"icon-back\"></i>\r\n        </span>\r\n        <span class=\"type\" ref=\"fixed\">\r\n          <span class=\"icon\" v-show=\"!this.changeFix\">\r\n            <i class=\"icon-video-camera\"></i>电影\r\n          </span>\r\n          <span class=\"movie-name\" v-if=\"changeFix\" v-text=\"moviedetail.title\"></span>\r\n        </span>\r\n      </div>\r\n      <scroll class=\"movie-detail\"\r\n              :data=\"moviedetail\"\r\n              :probeType=\"probeType\"\r\n              :listenScroll=\"listenScroll\"\r\n              ref=\"scroll\"\r\n              @scroll=\"scroll\"\r\n      >\r\n        <div class=\"scroll-wrapper\">\r\n          <div class=\"scroll-content\" v-if=\"moviedetail.images\">\r\n            <div class=\"bg-image\" ref=\"image\">\r\n              <img v-lazy=\"replaceUrl(moviedetail.images.large)\" alt=\"\">\r\n            </div>\r\n            <!--详情页电影信息的组件-->\r\n            <movieinfo :moviedetail=\"moviedetail\" @selectCelebrity=\"selectCelebrity\"></movieinfo>\r\n            <div class=\"switch\">\r\n              <!--电影详情页短评和影评的tab栏切换-->\r\n              <switches :switches=\"switches\" :currentIndex=\"currentIndex\" @switch=\"selectItem\"></switches>\r\n            </div>\r\n            <!--电影详情页的短评-->\r\n            <moviecomment v-show=\"currentIndex===0\"\r\n                          :comments=\"moviedetail.popular_comments\"\r\n                          :commentNum=\"moviedetail.comments_count\"\r\n                          @needAllComments=\"needAllComments\"\r\n            ></moviecomment>\r\n            <!--电影详情页的影评-->\r\n            <moviereview v-show=\"currentIndex===1\"\r\n                         :reviews=\"moviedetail.popular_reviews.slice(0,5)\"\r\n                         :reviewsNum=\"moviedetail.reviews_count\"\r\n                         @needAllReviews=\"needAllReviews\"\r\n                         @selectReview=\"selectReview\"\r\n            ></moviereview>\r\n          </div>\r\n        </div>\r\n        <loading :fullScreen=\"fullScreen\" v-show=\"!moviedetail.images\"></loading>\r\n      </scroll>\r\n      <router-view></router-view>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import scroll from 'base/scroll/scroll.vue'\r\n  import switches from 'base/switches/switches.vue'\r\n  import {getMoviedetail} from 'api/moviedetail.js'\r\n  import movieinfo from 'components/movieinfo/movieinfo.vue'\r\n  import moviecomment from 'components/moviecomment/moviecomment.vue'\r\n  import moviereview from 'components/moviereview/moviereview.vue'\r\n  import {mapGetters, mapMutations} from 'vuex'\r\n  import loading from 'base/loading/loading.vue'\r\n\r\n  export default {\r\n    name: 'moviedetail',            // 创建name属性用于keep-alive组件定位本组件防止缓存\r\n    data() {\r\n      return {\r\n        moviedetail: {},\r\n        fullScreen: true,          // 用于loading组件全屏加载效果\r\n        switches: [\r\n          {name: '短评'},\r\n          {name: '影评'}\r\n        ],\r\n        currentIndex: 0,\r\n        scrollY: -1,\r\n        imgHeight: -1,\r\n        changeFix: false             // fix栏目图标的显示隐藏\r\n      }\r\n    },\r\n    created() {\r\n      this._getMoviedetail()\r\n      this.probeType = 3          // scroll组件需要实施派发scroll事件，且支持swipe\r\n      this.listenScroll = true    // scroll组件监听scroll事件并派发滚动位置\r\n    },\r\n    computed: {\r\n      ...mapGetters(['movie'])                 // 获取储存在vuex中的数据\r\n    },\r\n    methods: {\r\n      ...mapMutations({                       // 将需要的数据提交到vuex中\r\n        setMovieType: 'SET_REVIEWS_TYPE',\r\n        setReview: 'SET_REVIEWS_ID',\r\n        setCelebrity: 'SET_CELEBRITY_ID'\r\n      }),\r\n      back() {                 // 点击返回上一层路由\r\n        this.$router.back()\r\n      },\r\n      _getMoviedetail() {                 // 获取电影列表的详情页数据\r\n        if (!this.movie.id) {             // 当在电影详情页刷新是强制回到电影展示页\r\n          this.$router.push('/moiveshow')\r\n          return\r\n        }\r\n        getMoviedetail(this.movie.id).then((res) => {\r\n          this.moviedetail = res\r\n          // console.log(res)\r\n        })\r\n      },\r\n      selectItem(index) {             // 切换电影详情页的评论tab栏\r\n        this.currentIndex = index\r\n        this.$nextTick(() => {\r\n          this.$refs.scroll.refresh()\r\n        })\r\n      },\r\n      needAllComments() {                 // 点击全部短评时，进入全部短评的界面\r\n        this.setMovieType('comments')       // 将‘comments’提交到vuex的mutation中\r\n        this.$router.push({\r\n          path: `/moiveshow/${this.moviedetail.id}/comments`\r\n        })\r\n      },\r\n      needAllReviews() {                // 点击全部短评时，进入全部影评的界面\r\n        this.setMovieType('reviews')       // 将‘reviews’提交到vuex的mutation中\r\n        this.$router.push({\r\n          path: `/moiveshow/${this.moviedetail.id}/reviews`\r\n        })\r\n      },\r\n      selectReview(id) {                   // 点击电影影评列表时，进入影评的详情页\r\n        this.setReview(id)\r\n        this.$router.push({\r\n          path: `/moiveshow/${this.movie.id}/reviews/${id}`\r\n        })\r\n      },\r\n      scroll(pos) {\r\n        this.scrollY = pos.y\r\n        if (-this.imgHeight > pos.y && this.imgHeight !== -1) {\r\n          this.changeFix = true                 // 改变fixed栏文字\r\n        } else {\r\n          this.changeFix = false\r\n        }\r\n      },\r\n      selectCelebrity(id) {\r\n        this.setCelebrity(id)\r\n        this.$router.push({\r\n          path: `/clebrity/${id}`\r\n        })\r\n      },\r\n      replaceUrl(url) {            // 图片防盗链处理,把现在的图片连接传进来，返回一个不受限制的路径\r\n        return ('https://images.weserv.nl/?url=' + url.replace(/http\\w{0,1}:\\/\\//, ''))\r\n      }\r\n    },\r\n    components: {\r\n      scroll,\r\n      movieinfo,\r\n      switches,\r\n      moviecomment,\r\n      moviereview,\r\n      loading\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  .moviedetail {\r\n    position: fixed\r\n    top: 0\r\n    left: 0\r\n    right: 0\r\n    bottom: 0\r\n    background-color: #fff\r\n    z-index 222\r\n  }\r\n\r\n  .fade-enter-active {\r\n    animation move 0.3s\r\n  }\r\n\r\n  /*.fade-leave-active {\r\n    transition all 0.3s\r\n  }*/\r\n\r\n  .fade-leave-to {\r\n    transition all 0.3s\r\n    transform translate3d(-100%, 0, 0)\r\n  }\r\n\r\n  @keyframes move {\r\n    0% {\r\n      opacity 0\r\n      transform scale(0.3)\r\n    }\r\n\r\n    100% {\r\n      opacity 1\r\n      transform scale(1)\r\n    }\r\n  }\r\n\r\n  .fixed-title {\r\n    position fixed\r\n    top: 0\r\n    width: 100%\r\n    height: 40px\r\n    line-height: 40px\r\n    z-index 100\r\n    background-color: #4EE559\r\n    text-align: center\r\n    /*margin-bottom 40px*/\r\n  }\r\n\r\n  .fixed-title .back {\r\n    position: absolute\r\n    top 0\r\n    left: 6px\r\n    z-index 60\r\n  }\r\n\r\n  .back .icon-back {\r\n    display block\r\n    padding: 10px\r\n    font-size 18px\r\n    color #fff\r\n  }\r\n\r\n  .fixed-title .type .icon {\r\n    position: absolute\r\n    left: 50%\r\n    top: 0\r\n    color #fff\r\n    display: block\r\n    font-size 18px\r\n    transform translateX(-50%)\r\n  }\r\n\r\n  .icon .icon-video-camera {\r\n    margin-right 10px\r\n    display inline-block\r\n    vertical-align text-bottom\r\n    font-size 23px\r\n  }\r\n\r\n  .type .movie-name {\r\n    display: block\r\n    padding-top 11px\r\n    width: 100%\r\n    color #fff\r\n  }\r\n\r\n  .movie-detail {\r\n    position fixed\r\n    top: 0\r\n    bottom: 0\r\n    left: 0\r\n    right: 0\r\n    background-color: #555\r\n  }\r\n\r\n  .movie-detail .bg-image {\r\n    text-align center\r\n    width: 100%;\r\n    padding: 60px 0 20px 0\r\n    font-size 0\r\n  }\r\n\r\n  .bg-image img {\r\n    width: 50%\r\n  }\r\n\r\n  .switch {\r\n    padding 0 20px\r\n    background-color: #fff;\r\n    padding-top 20px\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/moviedetail/moviedetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{staticClass:\"moviedetail\"},[_c('div',{staticClass:\"fixed-title\"},[_c('span',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})]),_vm._v(\" \"),_c('span',{ref:\"fixed\",staticClass:\"type\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!this.changeFix),expression:\"!this.changeFix\"}],staticClass:\"icon\"},[_c('i',{staticClass:\"icon-video-camera\"}),_vm._v(\"电影\\n        \")]),_vm._v(\" \"),(_vm.changeFix)?_c('span',{staticClass:\"movie-name\",domProps:{\"textContent\":_vm._s(_vm.moviedetail.title)}}):_vm._e()])]),_vm._v(\" \"),_c('scroll',{ref:\"scroll\",staticClass:\"movie-detail\",attrs:{\"data\":_vm.moviedetail,\"probeType\":_vm.probeType,\"listenScroll\":_vm.listenScroll},on:{\"scroll\":_vm.scroll}},[_c('div',{staticClass:\"scroll-wrapper\"},[(_vm.moviedetail.images)?_c('div',{staticClass:\"scroll-content\"},[_c('div',{ref:\"image\",staticClass:\"bg-image\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.replaceUrl(_vm.moviedetail.images.large)),expression:\"replaceUrl(moviedetail.images.large)\"}],attrs:{\"alt\":\"\"}})]),_vm._v(\" \"),_c('movieinfo',{attrs:{\"moviedetail\":_vm.moviedetail},on:{\"selectCelebrity\":_vm.selectCelebrity}}),_vm._v(\" \"),_c('div',{staticClass:\"switch\"},[_c('switches',{attrs:{\"switches\":_vm.switches,\"currentIndex\":_vm.currentIndex},on:{\"switch\":_vm.selectItem}})],1),_vm._v(\" \"),_c('moviecomment',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentIndex===0),expression:\"currentIndex===0\"}],attrs:{\"comments\":_vm.moviedetail.popular_comments,\"commentNum\":_vm.moviedetail.comments_count},on:{\"needAllComments\":_vm.needAllComments}}),_vm._v(\" \"),_c('moviereview',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentIndex===1),expression:\"currentIndex===1\"}],attrs:{\"reviews\":_vm.moviedetail.popular_reviews.slice(0,5),\"reviewsNum\":_vm.moviedetail.reviews_count},on:{\"needAllReviews\":_vm.needAllReviews,\"selectReview\":_vm.selectReview}})],1):_vm._e()]),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.moviedetail.images),expression:\"!moviedetail.images\"}],attrs:{\"fullScreen\":_vm.fullScreen}})],1),_vm._v(\" \"),_c('router-view')],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-2161e530\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/moviedetail/moviedetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2161e530\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./moviedetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./moviedetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./moviedetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2161e530\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./moviedetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2161e530\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/moviedetail/moviedetail.vue\n// module id = null\n// module chunks = ","<!--全部展示短评和影评的组件-->\r\n<template>\r\n  <div class=\"allcomments\">\r\n    <div class=\"fixed-title\">\r\n      <span class=\"back\" @click=\"back\">\r\n        <i class=\"icon-back\"></i>\r\n      </span>\r\n      <span class=\"type\">{{title}}</span>\r\n      <span class=\"to-top\" @click=\"toTop\">\r\n        <i class=\"icon-circle-up\"></i>\r\n      </span>\r\n    </div>\r\n    <scroll class=\"all-discuss\"\r\n            ref=\"scroll\"\r\n            :data=\"discussion\"\r\n            @scrollToEnd=\"loadMore\"\r\n            :pullup=\"pullup\"\r\n    >\r\n      <div class=\"discuss-content\">\r\n        <!--电影全部短评-->\r\n        <moviecomment v-if=\"reviewsType === 'comments'\"\r\n                      :needTitle=\"needTitle\"\r\n                      :comments=\"discussion\"\r\n                      :commentNum=\"discussionNum\"\r\n                      :hasMore=\"hasMore\"\r\n        ></moviecomment>\r\n        <!--电影全部影评-->\r\n        <moviereview v-else\r\n                     :reviews=\"discussion\"\r\n                     :reviewsNum=\"discussionNum\"\r\n                     :needTitle=\"needTitle\"\r\n                     :hasMore=\"hasMore\"\r\n                     @selectReview=\"selectReview\"\r\n        ></moviereview>\r\n      </div>\r\n      <loading v-if=\"!discussion.length && !noResult\" :fullScreen=\"fullScreen\"></loading>\r\n      <div class=\"no-result\" v-if=\"noResult\">暂无评论的数据...</div>\r\n    </scroll>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import {mapGetters, mapMutations} from 'vuex'\r\n  import scroll from 'base/scroll/scroll.vue'\r\n  import loading from 'base/loading/loading.vue'\r\n  import {getAllComments, getAllReviews} from 'api/moviedetail.js'\r\n  import moviecomment from 'components/moviecomment/moviecomment.vue'\r\n  import moviereview from 'components/moviereview/moviereview.vue'\r\n\r\n  const SEARCH_MORE = 20            // 电影评价每次加载的数据量\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        discussionIndex: 0,        // 电影评论条数的索引\r\n        discussion: [],\r\n        discussionNum: 0,\r\n        pullup: true,            // 支持上拉加载更多数据\r\n        hasMore: true,           // 还有更多的数据\r\n        noResult: false\r\n      }\r\n    },\r\n    created() {\r\n      this.fullScreen = true             // 没有数据的时候开启全屏加载\r\n      this.needTitle = true\r\n      this.loadingFlag = true            // 控制滚动加载速度\r\n      this._getAlldiscussion()\r\n    },\r\n    computed: {\r\n      ...mapGetters(['movie', 'reviewsType']),           // 获取电影的信息和电影的评价类型\r\n      title() {                                 // 电影的标题\r\n        return `${this.movie.title}的全部${this.type}`\r\n      },\r\n      type() {\r\n        return this.reviewsType === 'comments' ? '短评' : '影评'\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapMutations({setReview: 'SET_REVIEWS_ID'}),            // 将电影影评的列表ID提交到Mutation中\r\n      toTop() {                                    // 点击返回顶部\r\n        this.$refs.scroll.scrollTo(0, 0, 500)\r\n      },\r\n      back() {                     // 点击做箭头返回上一层路由\r\n        this.$router.back()\r\n      },\r\n      _getAlldiscussion() {                     // 获取电影评论的全部数据前，先判断要获取的电影评论类型\r\n        if (!this.reviewsType) {               // 在当前浏览器刷新就跳转到上一页\r\n          this.$router.push({\r\n            path: `/moiveshow/${this.movie.id}`\r\n          })\r\n        }\r\n        let movieType = this.reviewsType === 'comments'\r\n        this.discussType = movieType ? 'comments' : 'reviews'\r\n        this.getData = movieType ? getAllComments : getAllReviews\r\n        this.getData(this.movie.id, this.discussionIndex, SEARCH_MORE).then((res) => {\r\n          this.discussion = res[this.discussType]\r\n          this.noResult = this.discussion.length ? this.noResult : true              // 是否存在全部的电影评论数据\r\n          this.discussionNum = res.total\r\n          this._checkMore(res)\r\n          // console.log(res)\r\n        })\r\n      },\r\n      _checkMore(data) {              // 检查是否还存在更多的数据\r\n        const discussion = data.comments ? data.comments : data.reviews\r\n        if (!discussion.length || data.start + data.count > data.total) {\r\n          this.hasMore = false\r\n        }\r\n      },\r\n      loadMore() {           // 全部电影评价列表上拉加载更多数据\r\n        if (!this.loadingFlag || !this.hasMore) {             // 上一次加载还没有全部加载完成就返回\r\n          return\r\n        }\r\n        this.loadingFlag = false             // 重置标志位\r\n        this.discussionIndex += SEARCH_MORE\r\n        this.getData(this.movie.id, this.discussionIndex, SEARCH_MORE).then((res) => {\r\n          this.discussion = this.discussion.concat(res[this.discussType])\r\n          this._checkMore(res)\r\n          this.loadingFlag = true\r\n        })\r\n      },\r\n      selectReview(id) {                   // 点击电影影评列表时，进入影评的详情页\r\n        this.setReview(id)\r\n        this.$router.push({\r\n          path: `/moiveshow/${this.movie.id}/reviews/${id}`\r\n        })\r\n      }\r\n    },\r\n    components: {\r\n      scroll,\r\n      moviecomment,\r\n      loading,\r\n      moviereview\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  @import \"~@/common/stylus/mixin.styl\"\r\n\r\n  .allcomments {\r\n    height: 100%\r\n  }\r\n\r\n  .allcomments .fixed-title {\r\n    border-bottom-1px(#ccc)\r\n    position fixed\r\n    top: 0\r\n    width: 100%\r\n    height: 50px\r\n    z-index 500\r\n    background-color: #fff\r\n  }\r\n\r\n  .fixed-title .back {\r\n    position absolute\r\n    top: 0\r\n    left: 6px\r\n    z-index 150\r\n  }\r\n\r\n  .back .icon-back {\r\n    display block\r\n    padding 15px\r\n    font-size 18px\r\n    color #42bd56\r\n  }\r\n\r\n  .fixed-title .type {\r\n    line-height: 50px\r\n    font-size 16px\r\n    padding-left 50px\r\n  }\r\n\r\n  .fixed-title .to-top {\r\n    position: absolute\r\n    top: 0\r\n    right 6px\r\n    z-index 150\r\n  }\r\n\r\n  .to-top .icon-circle-up {\r\n    display block\r\n    padding 15px\r\n    font-size 22px\r\n    color #42bd56\r\n  }\r\n\r\n  .all-discuss {\r\n    position: fixed\r\n    top: 0\r\n    bottom: 0\r\n    right: 0\r\n    left: 0\r\n    z-index 250\r\n    overflow hidden\r\n    background-color: #fff\r\n  }\r\n\r\n  .all-discuss .discuss-content {\r\n    padding-top: 50px\r\n  }\r\n\r\n  .no-result {\r\n    position: absolute\r\n    top: 50%\r\n    width: 100%\r\n    text-align center\r\n    font-size 17px\r\n    color: #0AAF0A\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/allcomments/allcomments.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"allcomments\"},[_c('div',{staticClass:\"fixed-title\"},[_c('span',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})]),_vm._v(\" \"),_c('span',{staticClass:\"type\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('span',{staticClass:\"to-top\",on:{\"click\":_vm.toTop}},[_c('i',{staticClass:\"icon-circle-up\"})])]),_vm._v(\" \"),_c('scroll',{ref:\"scroll\",staticClass:\"all-discuss\",attrs:{\"data\":_vm.discussion,\"pullup\":_vm.pullup},on:{\"scrollToEnd\":_vm.loadMore}},[_c('div',{staticClass:\"discuss-content\"},[(_vm.reviewsType === 'comments')?_c('moviecomment',{attrs:{\"needTitle\":_vm.needTitle,\"comments\":_vm.discussion,\"commentNum\":_vm.discussionNum,\"hasMore\":_vm.hasMore}}):_c('moviereview',{attrs:{\"reviews\":_vm.discussion,\"reviewsNum\":_vm.discussionNum,\"needTitle\":_vm.needTitle,\"hasMore\":_vm.hasMore},on:{\"selectReview\":_vm.selectReview}})],1),_vm._v(\" \"),(!_vm.discussion.length && !_vm.noResult)?_c('loading',{attrs:{\"fullScreen\":_vm.fullScreen}}):_vm._e(),_vm._v(\" \"),(_vm.noResult)?_c('div',{staticClass:\"no-result\"},[_vm._v(\"暂无评论的数据...\")]):_vm._e()],1),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-4f595ab4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/allcomments/allcomments.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4f595ab4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./allcomments.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./allcomments.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./allcomments.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4f595ab4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./allcomments.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4f595ab4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/allcomments/allcomments.vue\n// module id = null\n// module chunks = ","<!--电影影评的详情页组件-->\r\n<template>\r\n  <div class=\"reviewdetail\">\r\n    <div class=\"fixed-title\">\r\n      <span class=\"back\" @click=\"back\">\r\n        <i class=\"icon-back\"></i>\r\n      </span>\r\n      <span class=\"type\">影评</span>\r\n    </div>\r\n    <scroll class=\"review-detail\" :data=\"reviewdetail\">\r\n      <div class=\"scroll-wrapper\">\r\n        <div class=\"review-content\" v-if=\"reviewdetail.author\">\r\n          <h1 class=\"title\">{{reviewdetail.title}}</h1>\r\n          <div class=\"author\">\r\n            <div class=\"avatar\">\r\n              <img v-lazy=\"reviewdetail.author.avatar\" alt=\"\" height=\"36\" width=\"36\">\r\n            </div>\r\n            <div class=\"info\">\r\n              <h2>\r\n                <span class=\"name\">{{reviewdetail.author.name}}</span>的影评\r\n              </h2>\r\n              <span class=\"date\">{{reviewdetail.created_at}}</span>\r\n              <star :size=\"24\" :score=\"reviewdetail.rating.value*2\" class=\"star\"></star>\r\n            </div>\r\n          </div>\r\n          <p class=\"desc\" v-html=\"reviewdetail.content\"></p>\r\n          <div class=\"copyright\">本文版权归{{reviewdetail.author.name}}所有，任何形式转载请联系作者</div>\r\n          <div class=\"end\">\r\n            <div class=\"line\"></div>\r\n            <span class=\"text\">THE END</span>\r\n          </div>\r\n          <div class=\"useful\">\r\n            <div class=\"use\">有用{{reviewdetail.useful_count}}</div>\r\n            <div class=\"no-use\">没用{{reviewdetail.useless_count}}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <loading :fullScreen=\"fullScreen\" v-if=\"!reviewdetail.author\"></loading>\r\n    </scroll>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import loading from 'base/loading/loading.vue'\r\n  import scroll from 'base/scroll/scroll.vue'\r\n  import star from 'base/star/star.vue'\r\n  import {getMovieReview} from 'api/moviedetail.js'\r\n  import {mapGetters} from 'vuex'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        reviewdetail: {},\r\n        fullScreen: true\r\n      }\r\n    },\r\n    created() {\r\n      this._getMovieReview(this.reviewId)\r\n    },\r\n    computed: {\r\n      ...mapGetters(['reviewId'])            // 获取到提交到vuex中电影影评的列表ID\r\n    },\r\n    methods: {\r\n      back() {                       // 点击返回上一层\r\n        this.$router.back()\r\n      },\r\n      _getMovieReview(id) {\r\n        if (!this.reviewId) {                 // 如果当前页面浏览器刷新是就跳转到首页\r\n          this.$router.push('/moiveshow')\r\n          return\r\n        }\r\n        getMovieReview(id).then((res) => {\r\n          this.reviewdetail = res\r\n          // console.log(res)\r\n        })\r\n      }\r\n    },\r\n    components: {\r\n      loading,\r\n      scroll,\r\n      star\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  @import \"~@/common/stylus/mixin.styl\"\r\n\r\n  .reviewdetail .fixed-title {\r\n    border-bottom-1px(#ccc)\r\n    position: fixed\r\n    top: 0\r\n    width: 100%\r\n    height: 50px\r\n    z-index: 500\r\n    background-color: #fff;\r\n    line-height: 50px\r\n  }\r\n\r\n  .fixed-title .back {\r\n    position: absolute\r\n    top: 0\r\n    left: 6px\r\n    z-index 500\r\n  }\r\n\r\n  .back .icon-back {\r\n    display block\r\n    padding 15px\r\n    font-size 18px\r\n    color #42bd56\r\n  }\r\n\r\n  .fixed-title .type {\r\n    line-height: 50px\r\n    font-size 16px\r\n    padding-left 60px\r\n  }\r\n\r\n  .review-detail {\r\n    position: fixed\r\n    top: 0\r\n    bottom: 0\r\n    left: 0\r\n    right: 0\r\n    z-index: 260\r\n    overflow: hidden\r\n    background-color: #fff\r\n  }\r\n\r\n  .review-detail .review-content {\r\n    padding 70px 20px 90px 20px\r\n  }\r\n\r\n  .review-content .title {\r\n    font-size 22px\r\n    color #333\r\n    line-height: 30px\r\n  }\r\n\r\n  .review-content .author {\r\n    margin-top 20px\r\n    display flex\r\n    align-items top\r\n  }\r\n\r\n  .author .avatar {\r\n    flex 36px 0 0\r\n    width: 36px\r\n  }\r\n\r\n  .avatar img {\r\n    border-radius 50%\r\n  }\r\n\r\n  .author .info {\r\n    flex 1\r\n    padding-left 10px\r\n    font-size 12px\r\n  }\r\n\r\n  .info .star {\r\n    display inline-block\r\n  }\r\n\r\n  .info h2 {\r\n    padding-bottom 5px\r\n  }\r\n\r\n  .info .name {\r\n    color #333\r\n    padding-left 5px\r\n  }\r\n\r\n  .desc {\r\n    margin-top 30px\r\n    color #333\r\n    line-height: 25px\r\n    white-space pre-wrap\r\n    font-size 16px\r\n    text-indent 2em\r\n  }\r\n\r\n  .copyright {\r\n    margin-top 40px\r\n    font-size 12px\r\n    text-align center\r\n  }\r\n\r\n  .end {\r\n    position: relative\r\n    margin 30px auto\r\n    text-align: center\r\n    height: 10px\r\n    width: 60%\r\n  }\r\n\r\n  .end .line {\r\n    border-bottom-1px(#ccc)\r\n  }\r\n\r\n  .end .text {\r\n    padding 0 10px\r\n    display inline-block\r\n    background-color: #fff;\r\n    position absolute\r\n    left: 50%\r\n    top: -8px\r\n    transform translateX(-50%)\r\n    font-size 14px\r\n  }\r\n\r\n  .useful {\r\n    text-align center\r\n  }\r\n\r\n  .useful div {\r\n    display inline-block\r\n    padding 10px 15px\r\n    margin-right 10px\r\n    color #333\r\n    font-size 14px\r\n    border 1px solid #ccc\r\n    border-radius 5px\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/reviewdetail/reviewdetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"reviewdetail\"},[_c('div',{staticClass:\"fixed-title\"},[_c('span',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})]),_vm._v(\" \"),_c('span',{staticClass:\"type\"},[_vm._v(\"影评\")])]),_vm._v(\" \"),_c('scroll',{staticClass:\"review-detail\",attrs:{\"data\":_vm.reviewdetail}},[_c('div',{staticClass:\"scroll-wrapper\"},[(_vm.reviewdetail.author)?_c('div',{staticClass:\"review-content\"},[_c('h1',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.reviewdetail.title))]),_vm._v(\" \"),_c('div',{staticClass:\"author\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.reviewdetail.author.avatar),expression:\"reviewdetail.author.avatar\"}],attrs:{\"alt\":\"\",\"height\":\"36\",\"width\":\"36\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('h2',[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.reviewdetail.author.name))]),_vm._v(\"的影评\\n            \")]),_vm._v(\" \"),_c('span',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.reviewdetail.created_at))]),_vm._v(\" \"),_c('star',{staticClass:\"star\",attrs:{\"size\":24,\"score\":_vm.reviewdetail.rating.value*2}})],1)]),_vm._v(\" \"),_c('p',{staticClass:\"desc\",domProps:{\"innerHTML\":_vm._s(_vm.reviewdetail.content)}}),_vm._v(\" \"),_c('div',{staticClass:\"copyright\"},[_vm._v(\"本文版权归\"+_vm._s(_vm.reviewdetail.author.name)+\"所有，任何形式转载请联系作者\")]),_vm._v(\" \"),_c('div',{staticClass:\"end\"},[_c('div',{staticClass:\"line\"}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"THE END\")])]),_vm._v(\" \"),_c('div',{staticClass:\"useful\"},[_c('div',{staticClass:\"use\"},[_vm._v(\"有用\"+_vm._s(_vm.reviewdetail.useful_count))]),_vm._v(\" \"),_c('div',{staticClass:\"no-use\"},[_vm._v(\"没用\"+_vm._s(_vm.reviewdetail.useless_count))])])]):_vm._e()]),_vm._v(\" \"),(!_vm.reviewdetail.author)?_c('loading',{attrs:{\"fullScreen\":_vm.fullScreen}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-9bd5fbea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/reviewdetail/reviewdetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9bd5fbea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./reviewdetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./reviewdetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./reviewdetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9bd5fbea\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./reviewdetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9bd5fbea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/reviewdetail/reviewdetail.vue\n// module id = null\n// module chunks = ","<!--电影排行的详情页组件-->\r\n<template>\r\n  <transition name=\"rank\">\r\n    <div class=\"rankdetail\">\r\n      <div class=\"fixed-title\">\r\n      <span class=\"back\" @click=\"back\">\r\n       <i class=\"icon-back\"></i>\r\n      </span>\r\n        <span class=\"type\">\r\n        <span>{{rankType}}</span>\r\n      </span>\r\n      </div>\r\n      <switches :switches=\"switches\"\r\n                :smallFont=\"smallFont\"\r\n                v-if=\"rankType==='豆瓣 Top250'\"\r\n                :currentIndex=\"currentIndex\"\r\n                @switch=\"switchTab\"\r\n                class=\"switches\"\r\n      >\r\n      </switches>\r\n      <scroll class=\"rank-list-wrapper\" ref=\"scroll\"\r\n              v-for=\"(item,index) in switches\"\r\n              :data=rankList[index]\r\n              v-show=\"currentIndex===index\"\r\n              :pullup=\"pullup\"\r\n              :key=\"index\"\r\n              :probeType=\"probeType\"\r\n              @scrollToEnd=\"loadMore\"\r\n              @scroll=\"scroll\"\r\n      >\r\n        <div class=\"rank-content\" :class=\"{'more-padding':rankType==='豆瓣 Top250'}\">\r\n          <ranklist :rankItems=\"rankList[index]\"\r\n                    :page=\"index\"\r\n                    :hasMore=\"hasMore[index]\"\r\n                    @select=\"selectMovie\"\r\n          ></ranklist>\r\n        </div>\r\n        <loading :fullScreen=\"fullScreen\" v-if=\"!rankList[index].length\"></loading>\r\n      </scroll>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import switches from 'base/switches/switches.vue'\r\n  import scroll from 'base/scroll/scroll.vue'\r\n  import loading from 'base/loading/loading.vue'\r\n  import {top250Rank, weeklyRank, usBoxRank, newMoviesRank} from 'api/movierank'\r\n  import {createRankList} from 'common/js/movielist'\r\n  import ranklist from 'components/ranklist/ranklist.vue'\r\n  import {mapMutations} from 'vuex'\r\n\r\n  const SEACH_MORE = 10\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        rankType: '',\r\n        dataFn: null,\r\n        top250Index: 0,\r\n        rankList: {},\r\n        fullScreen: true,\r\n        currentIndex: 0,\r\n        switches: [\r\n          {name: '1-50'},\r\n          {name: '51-100'},\r\n          {name: '101-150'},\r\n          {name: '151-200'},\r\n          {name: '201-250'}\r\n        ],\r\n        smallFont: true,                                         // tab栏目小字体\r\n        pullup: true,                                           // 支持滚动加载\r\n        hasMore: [false, false, false, false, false],          // 是否存在更多数据，仅针对top250\r\n        movieIndex: [0, 50, 100, 150, 200],                   // 每页起始索引\r\n        scrollY: [0, 0, 0, 0, 0]                             // 每页滚动位置\r\n      }\r\n    },\r\n    created() {\r\n      this.probeType = 3                 // 需要实时派发事件\r\n      this.listenScroll = true           // 监听滚动事件\r\n      this.loadingFlag = true            // 控制滚动加载速度\r\n      this._selectType()\r\n      this._getRankList()\r\n    },\r\n    beforeMount() {                   // 在挂载开始之前被调用：相关的render函数首次被调用。该钩子在服务器端渲染期间不被调用。\r\n      // 由于top250榜单分栏的存在，需要添加排行列表的子对象作为各排名区间的数据\r\n      // dom挂载前添加属性，防止挂载后由于属性未添加报错\r\n      for (let i = 0; i < this.switches.length; i++) {\r\n        this.$set(this.rankList, i, [])\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapMutations({\r\n        setMovie: 'SET_MOVIE'\r\n      }),\r\n      back() {                      // 返回上一层\r\n        this.$router.back()\r\n      },\r\n      switchTab(index) {                     // 切换tab选项卡\r\n        this.currentIndex = index\r\n        this.loadingFlag = true\r\n        this.$refs.scroll.forEach((item) => {               // 重新计算scroll\r\n          item.scrollTo(0, this.scrollY[index])             // 滚动到之前的位置\r\n          setTimeout(() => {\r\n            item.refresh()\r\n          }, 20)\r\n        })\r\n        if (this.rankList[index].length === 0) {                  // 首次切换到当前分页时\r\n          this.hasMore[index] = true\r\n          this.dataFn(this.movieIndex[index], SEACH_MORE).then((res) => {\r\n            this.rankList[index] = createRankList(res.subjects)\r\n          })\r\n        }\r\n      },\r\n      selectMovie(movie) {                   // 点击列表电影今日电影详情页\r\n        this.$router.push({\r\n          path: `/moiveshow/${movie.id}`\r\n        })\r\n        this.setMovie(movie)\r\n      },\r\n      _selectType() {                                         // 获取排行榜的类型\r\n        let type = this.$route.params.rankType               // 接收父组件传递过来的值\r\n        switch (type) {                                     // 绑定对应信息获取函数\r\n          case 'top250':\r\n            this.dataFn = top250Rank\r\n            this.rankType = '豆瓣 Top250'\r\n            break\r\n          case 'weekly':\r\n            this.dataFn = weeklyRank\r\n            this.rankType = '本周口碑榜'\r\n            break\r\n          case 'newmovie':\r\n            this.dataFn = newMoviesRank\r\n            this.rankType = '新片榜'\r\n            break\r\n          case 'usbox':\r\n            this.dataFn = usBoxRank\r\n            this.rankType = '北美票房榜'\r\n            break\r\n        }\r\n      },\r\n      _getRankList() {\r\n        if (this.rankType !== '豆瓣 Top250') {           // 非top250榜单\r\n          this.dataFn().then((res) => {\r\n            this.rankList[0] = createRankList(res.subjects)\r\n            // console.log(this.rankList[0])\r\n          })\r\n        } else {\r\n          this.dataFn(this.movieIndex[0], SEACH_MORE).then((res) => {\r\n            this.rankList[0] = createRankList(res.subjects)\r\n            this.hasMore[0] = true\r\n          })\r\n        }\r\n      },\r\n      loadMore() {            // 上拉加载更多数据\r\n        const index = this.currentIndex              // 获取当前分页页数\r\n        if (!this.loadingFlag) {                     // 上一次加载还没有完成就返回\r\n          return\r\n        }\r\n        this.loadingFlag = false                   // 重置标志位\r\n        if (!this.hasMore[index]) {               // 如果没有更多数据就返回\r\n          return\r\n        }\r\n        this.movieIndex[index] += SEACH_MORE\r\n        this.dataFn(this.movieIndex[index], SEACH_MORE).then((res) => {\r\n          this.rankList[index] = this.rankList[index].concat(createRankList(res.subjects))\r\n          this.loadingFlag = true\r\n          this._checkMore(res)\r\n        })\r\n      },\r\n      _checkMore(data) {                   // 判断列表中是否还有更多的数据\r\n        let movies = data.subjects\r\n        let end = 50 * (this.currentIndex + 1)\r\n        if (!movies.length || data.start + data.count >= end) {\r\n          this.hasMore[this.currentIndex] = false\r\n        }\r\n      },\r\n      scroll(pos) {\r\n        this.scrollY[this.currentIndex] = pos.y\r\n      }\r\n    },\r\n    components: {\r\n      switches,\r\n      scroll,\r\n      loading,\r\n      ranklist\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  @import \"~@/common/stylus/mixin.styl\"\r\n\r\n  .rankdetail {\r\n    position fixed\r\n    top: 0\r\n    left: 0\r\n    bottom: 0\r\n    right: 0\r\n    background-color: #fff;\r\n    z-index 600\r\n  }\r\n\r\n  .rankdetail .switches {\r\n    z-index 999\r\n  }\r\n\r\n  .rank-enter-active, .rank-leave-active {\r\n    transition all .3s\r\n  }\r\n\r\n  .rank-enter, .rank-leave-to {\r\n    transform translate3d(100%, 0, 0)\r\n  }\r\n\r\n  .rankdetail .fixed-title {\r\n    border-bottom-1px(#ccc)\r\n    position fixed\r\n    top: 0\r\n    width: 100%\r\n    height: 50px\r\n    z-index 980\r\n    background-color: #fff;\r\n  }\r\n\r\n  .fixed-title .back {\r\n    position absolute\r\n    top: 0px\r\n    left: 6px\r\n    /*z-index 100*/\r\n  }\r\n\r\n  .back .icon-back {\r\n    display block\r\n    padding 15px\r\n    font-size 18px\r\n    color #42bd56\r\n  }\r\n\r\n  .fixed-title .type {\r\n    line-height: 50px\r\n    font-size 16px\r\n    padding-left 60px\r\n    color #333\r\n  }\r\n\r\n  .switches {\r\n    position fixed\r\n    top: 50px\r\n    width: 100%\r\n    height: 40px\r\n    z-index 250\r\n    background-color: #fff\r\n  }\r\n\r\n  .rank-list-wrapper {\r\n    z-index 900\r\n    position fixed\r\n    top: 0\r\n    bottom: 0\r\n    left: 0\r\n    right: 0\r\n    background-color: #fff;\r\n  }\r\n\r\n  .rank-content {\r\n    padding 50px 15px 70px 15px\r\n  }\r\n\r\n  .rank-content.more-padding {\r\n    padding-top: 90px\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/rankdetail/rankdetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"rank\"}},[_c('div',{staticClass:\"rankdetail\"},[_c('div',{staticClass:\"fixed-title\"},[_c('span',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})]),_vm._v(\" \"),_c('span',{staticClass:\"type\"},[_c('span',[_vm._v(_vm._s(_vm.rankType))])])]),_vm._v(\" \"),(_vm.rankType==='豆瓣 Top250')?_c('switches',{staticClass:\"switches\",attrs:{\"switches\":_vm.switches,\"smallFont\":_vm.smallFont,\"currentIndex\":_vm.currentIndex},on:{\"switch\":_vm.switchTab}}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.switches),function(item,index){return _c('scroll',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentIndex===index),expression:\"currentIndex===index\"}],key:index,ref:\"scroll\",refInFor:true,staticClass:\"rank-list-wrapper\",attrs:{\"data\":_vm.rankList[index],\"pullup\":_vm.pullup,\"probeType\":_vm.probeType},on:{\"scrollToEnd\":_vm.loadMore,\"scroll\":_vm.scroll}},[_c('div',{staticClass:\"rank-content\",class:{'more-padding':_vm.rankType==='豆瓣 Top250'}},[_c('ranklist',{attrs:{\"rankItems\":_vm.rankList[index],\"page\":index,\"hasMore\":_vm.hasMore[index]},on:{\"select\":_vm.selectMovie}})],1),_vm._v(\" \"),(!_vm.rankList[index].length)?_c('loading',{attrs:{\"fullScreen\":_vm.fullScreen}}):_vm._e()],1)})],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-0e939eac\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/rankdetail/rankdetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e939eac\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./rankdetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./rankdetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./rankdetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e939eac\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./rankdetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0e939eac\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/rankdetail/rankdetail.vue\n// module id = null\n// module chunks = ","import axios from 'axios';\r\nimport {commonParams} from './config';\r\n\r\nexport function getCelebrity(id) {                          // 获取影人介绍的数据\r\n  const url = `/v2/movie/celebrity/${id}`;\r\n  const data = Object.assign({}, commonParams);\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data);\r\n  }).catch((err) => {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\nexport function getCelebrityWorks(id, start, count) {      // 获取影人的全部作品的数据\r\n  const url = `/v2/movie/celebrity/${id}/works`;\r\n  const data = Object.assign({}, commonParams, {\r\n    start,\r\n    count\r\n  });\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data);\r\n  }).catch((err) => {\r\n    console.log(err);\r\n  });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/celebrity.js","export default class Celebrity {\r\n  constructor({id, name, works, image}) {\r\n    this.id = id\r\n    this.name = name\r\n    this.works = works\r\n    this.image = image\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/celebrity.js","<!--影人介绍简介组件-->\r\n<template>\r\n  <transition name=\"slide\">\r\n    <div class=\"celebrityinfo\" v-show=\"showFlag\">\r\n      <div class=\"fixed-title\">\r\n        <span class=\"back\" @click=\"close\">\r\n          <i class=\"icon-close\"></i>\r\n        </span>\r\n        <span class=\"type\">影人介绍</span>\r\n      </div>\r\n      <scroll class=\"celebrity-info\" ref=\"scroll\">\r\n        <div class=\"scroll-wrapper\">\r\n          <h1 class=\"name\">{{infoLists.name}}</h1>\r\n          <h2 class=\"name-en\">{{infoLists.name_en}}</h2>\r\n          <div class=\"info-lists\">\r\n            <div class=\"gender\">\r\n              <span class=\"item\">性别:</span>\r\n              <span>{{infoLists.gender?infoLists.gender:'暂无信息'}}</span>\r\n            </div>\r\n            <div class=\"constellation\">\r\n              <span class=\"item\">星座:</span>\r\n              <span>{{infoLists.constellation?infoLists.constellation:'暂无信息'}}</span>\r\n            </div>\r\n            <div class=\"birthday\">\r\n              <span class=\"item\">出生日期:</span>\r\n              <span>{{infoLists.birthday?infoLists.birthday:'暂无信息'}}</span>\r\n            </div>\r\n            <div class=\"born-place\">\r\n              <span class=\"item\">出生地:</span>\r\n              <span>{{infoLists.born_place?infoLists.born_place:'暂无信息'}}</span>\r\n            </div>\r\n            <div class=\"more-name\">\r\n              <span class=\"item\">更多中文名:</span>\r\n              <span class=\"more\">{{getNames(infoLists.aka)}}</span>\r\n            </div>\r\n          </div>\r\n          <p class=\"summary\">{{infoLists.summary}}</p>\r\n        </div>\r\n      </scroll>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\n  import scroll from 'base/scroll/scroll.vue'\r\n\r\n  export default {\r\n    props: {\r\n      infoLists: {\r\n        type: Object,\r\n        default: {}\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        showFlag: false\r\n      }\r\n    },\r\n    methods: {\r\n      close() {                 // 关闭影人信息简介的对话框\r\n        this.showFlag = false\r\n      },\r\n      show() {                  // 打开影人信息简介的对话框\r\n        this.showFlag = true\r\n        this.$nextTick(() => {\r\n          this.$refs.scroll.refresh()\r\n        })\r\n      },\r\n      getNames(lists) {\r\n        if (!lists || lists.length === 0 || lists[0] === '') {\r\n          return '暂无信息'\r\n        }\r\n        return lists.join(' / ')\r\n      }\r\n    },\r\n    components: {\r\n      scroll\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  @import \"~@/common/stylus/mixin.styl\"\r\n\r\n  .celebrityinfo {\r\n    position: fixed\r\n    top: 0\r\n    width: 100%\r\n    bottom: 0\r\n    z-index 500\r\n    background-color: #fff\r\n  }\r\n\r\n  .slide-enter-active, .slide-leave-active {\r\n    transition all 0.3s\r\n  }\r\n\r\n  .slide-enter, .slide-leave-to {\r\n    transform translate3d(-100%, 0, 0)\r\n  }\r\n\r\n  .celebrityinfo .fixed-title {\r\n    position: fixed\r\n    top: 0\r\n    width: 100%\r\n    height: 40px\r\n    line-height: 40px\r\n    z-index 100\r\n    text-align center\r\n    background-color: #fff;\r\n    color #333\r\n    border-bottom-1px(#09941F)\r\n  }\r\n\r\n  .fixed-title .back {\r\n    position absolute\r\n    top: 0\r\n    right: 6px\r\n    z-index 50\r\n    /*border-radius 50%*/\r\n    /*border 1px solid grey*/\r\n  }\r\n\r\n  .back .icon-close {\r\n    display block\r\n    padding: 11px\r\n    font-size 18px\r\n  }\r\n\r\n  .celebrityinfo .type {\r\n    display inline-block\r\n    font-size 18px\r\n  }\r\n\r\n  .celebrity-info {\r\n    position fixed\r\n    top: 0\r\n    width: 100%\r\n    bottom: 0\r\n  }\r\n\r\n  .celebrityinfo .scroll-wrapper {\r\n    padding 40px 20px 80px 20px\r\n    color #333\r\n  }\r\n\r\n  .scroll-wrapper .name {\r\n    margin-top: 30px\r\n    font-size 18px\r\n    font-weight 600\r\n  }\r\n\r\n  .scroll-wrapper .name-en {\r\n    margin-top 10px\r\n    font-size 12px\r\n  }\r\n\r\n  .scroll-wrapper .info-lists {\r\n    padding 20px 0\r\n    font-size 14px\r\n  }\r\n\r\n  .info-lists div {\r\n    line-height: 25px\r\n    font-size 0\r\n  }\r\n\r\n  .info-lists span {\r\n    vertical-align middle\r\n    font-size 14px\r\n  }\r\n\r\n  .info-lists .item {\r\n    display inline-block\r\n    width: 80px\r\n  }\r\n\r\n  .more-name {\r\n    display flex\r\n    align-items top\r\n  }\r\n\r\n  .more-name .item {\r\n    flex 80px 0 0\r\n    width: 80px\r\n  }\r\n\r\n  .more-name .more {\r\n    flex 1\r\n    no-wrap()\r\n  }\r\n\r\n  .summary {\r\n    font-size 14px\r\n    line-height: 24px\r\n    text-indent 2em\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/celebrityinfo/celebrityinfo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFlag),expression:\"showFlag\"}],staticClass:\"celebrityinfo\"},[_c('div',{staticClass:\"fixed-title\"},[_c('span',{staticClass:\"back\",on:{\"click\":_vm.close}},[_c('i',{staticClass:\"icon-close\"})]),_vm._v(\" \"),_c('span',{staticClass:\"type\"},[_vm._v(\"影人介绍\")])]),_vm._v(\" \"),_c('scroll',{ref:\"scroll\",staticClass:\"celebrity-info\"},[_c('div',{staticClass:\"scroll-wrapper\"},[_c('h1',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.infoLists.name))]),_vm._v(\" \"),_c('h2',{staticClass:\"name-en\"},[_vm._v(_vm._s(_vm.infoLists.name_en))]),_vm._v(\" \"),_c('div',{staticClass:\"info-lists\"},[_c('div',{staticClass:\"gender\"},[_c('span',{staticClass:\"item\"},[_vm._v(\"性别:\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.infoLists.gender?_vm.infoLists.gender:'暂无信息'))])]),_vm._v(\" \"),_c('div',{staticClass:\"constellation\"},[_c('span',{staticClass:\"item\"},[_vm._v(\"星座:\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.infoLists.constellation?_vm.infoLists.constellation:'暂无信息'))])]),_vm._v(\" \"),_c('div',{staticClass:\"birthday\"},[_c('span',{staticClass:\"item\"},[_vm._v(\"出生日期:\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.infoLists.birthday?_vm.infoLists.birthday:'暂无信息'))])]),_vm._v(\" \"),_c('div',{staticClass:\"born-place\"},[_c('span',{staticClass:\"item\"},[_vm._v(\"出生地:\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.infoLists.born_place?_vm.infoLists.born_place:'暂无信息'))])]),_vm._v(\" \"),_c('div',{staticClass:\"more-name\"},[_c('span',{staticClass:\"item\"},[_vm._v(\"更多中文名:\")]),_vm._v(\" \"),_c('span',{staticClass:\"more\"},[_vm._v(_vm._s(_vm.getNames(_vm.infoLists.aka)))])])]),_vm._v(\" \"),_c('p',{staticClass:\"summary\"},[_vm._v(_vm._s(_vm.infoLists.summary))])])])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-3c92b262\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/celebrityinfo/celebrityinfo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3c92b262\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./celebrityinfo.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./celebrityinfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./celebrityinfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3c92b262\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./celebrityinfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3c92b262\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/celebrityinfo/celebrityinfo.vue\n// module id = null\n// module chunks = ","<!--影人介绍的详情组件-->\r\n<template>\r\n  <div class=\"celebritydetail\">\r\n    <div class=\"fixed-title\">\r\n      影人信息\r\n      <span class=\"back\" @click=\"back\">\r\n        <i class=\"icon-back\"></i>\r\n      </span>\r\n     <!-- <span class=\"type\" ref=\"fixed\">影人信息</span>-->\r\n    </div>\r\n    <scroll class=\"celebrity-detail\" v-if=\"celebrityDetail.avatars\" :data=\"celebrityDetail\">\r\n      <div class=\"scroll-wrapper\">\r\n        <div class=\"bg-image\" ref=\"image\">\r\n          <img v-lazy=\"replaceUrl(celebrityDetail.avatars.large)\" alt=\"\">\r\n        </div>\r\n        <div class=\"celebrity-info\">\r\n          <div class=\"main\">\r\n            <h1 class=\"name-cn\">{{celebrityDetail.name}}</h1>\r\n            <span class=\"name-en\">{{celebrityDetail.name_en}}</span>\r\n            <div class=\"collect\" @click=\"saveCollect\" :class=\"{'has-collected':isCollected}\">\r\n              <i class=\"icon\" :class=\"collect\"></i>\r\n              <span class=\"text\">{{collectText}}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"brief\">\r\n            <div class=\"title\">个人简介</div>\r\n            <p class=\"text\" @click=\"showInfo\">\r\n              {{celebrityDetail.summary}}\r\n              <span class=\"more\">\r\n                <i class=\"icon-keyboard_arrow_right\"></i>\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <scroll class=\"works\" ref=\"scroll\" :scrollX=\"this.scrollX\" :eventPassthrough=\"this.eventPassthrough\" :click=\"this.click\" v-if=\"works.length\">\r\n            <div class=\"works-content\" ref=\"content\">\r\n              <h2 class=\"title\">代表作品</h2>\r\n              <div class=\"work-item\" v-for=\"item in works\" @click=\"selectWork(item,$event)\">\r\n                <img v-lazy=\"replaceUrl(item.image)\" alt=\"\" width=\"90\" height=\"120\">\r\n                <h3 class=\"item-title\">{{item.title}}</h3>\r\n                <star :showScore=\"showScore\" :score=\"item.rating\"></star>\r\n              </div>\r\n            </div>\r\n          </scroll>\r\n          <div class=\"allWorks\" @click=\"getAllWorks\">查看全部作品\r\n            <i class=\"icon-keyboard_arrow_right\"></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </scroll>\r\n    <loading :fullScreen=\"fullScreen\" v-if=\"!celebrityDetail.avatars\"></loading>\r\n    <celebrityinfo ref=\"info\" :infoLists=\"celebrityDetail\"></celebrityinfo>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import scroll from 'base/scroll/scroll.vue'\r\n  import star from 'base/star/star.vue'\r\n  import loading from 'base/loading/loading.vue'\r\n  import {createMovieList} from 'common/js/movielist'\r\n  import {mapGetters, mapActions, mapMutations} from 'vuex'\r\n  import {getCelebrity} from 'api/celebrity'\r\n  import Celebrity from 'common/js/celebrity.js'\r\n  import celebrityinfo from 'components/celebrityinfo/celebrityinfo.vue'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        celebrityDetail: {},\r\n        click: false,                     // 让滚动组件不支持点击事件，使用原生的点击事件\r\n        eventPassthrough: 'vertical',      // 设置滚动方向为横向滚动\r\n        works: [],\r\n        scrollX: true,            // 支持横向滚动\r\n        fullScreen: true,        // 支持全屏加载动画\r\n        showScore: true,\r\n        collectText: '收藏',\r\n        isCollected: false            // 收藏影人的标志位\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapGetters([\r\n        'currentCelebrityId',\r\n        'collected'\r\n      ]),\r\n      collect() {\r\n        return this.isCollected === false ? 'icon-collect' : 'icon-checkmark'\r\n      }\r\n    },\r\n    created() {\r\n      this._getCelebrity()\r\n    },\r\n    methods: {\r\n      ...mapActions(['markCelebrity']),\r\n      ...mapMutations({setMovie: 'SET_MOVIE'}),\r\n      back() {                // 点击返回上一层路由\r\n        this.$router.back()\r\n      },\r\n      _getCelebrity() {             // 获取影人介绍的数据\r\n        if (!this.currentCelebrityId) {\r\n          this.$router.push('/moiveshow')\r\n          return\r\n        }\r\n        getCelebrity(this.currentCelebrityId).then((res) => {\r\n          console.log(res)\r\n          this.celebrityDetail = res       // 需要把影人作品包装成电影类，否则传递给vuex的类型会出现问题，即使以对象的格式只传入id，如果在跳转后的界面进行收藏操作也会由于数据不全影响收藏列表的展示\r\n          let ret = []\r\n          res.works.forEach((item) => {\r\n            ret.push(item.subject)\r\n          })\r\n          this.works = createMovieList(ret)\r\n          this._checkCollect()\r\n          const mainworks = []           // 把影人包装成影人类，便于收藏和读取收藏\r\n          res.works.forEach((item) => {\r\n            mainworks.push(item.subject.title)\r\n          })\r\n          this.celebrity = new Celebrity({\r\n            id: res.id,\r\n            name: res.name,\r\n            image: res.avatars.large,\r\n            works: mainworks.slice(0, 3).join(' / ')\r\n          })\r\n          this._initPics()\r\n        })\r\n      },\r\n      replaceUrl(url) {            // 图片防盗链处理\r\n        return ('https://images.weserv.nl/?url=' + url.replace(/http\\w{0,1}:\\/\\//, ''))\r\n      },\r\n      _checkCollect() {           // 收藏影人的数据\r\n        const index = this.collected.findIndex((item) => {\r\n          return item.id === this.celebrityDetail.id\r\n        })\r\n        if (index > -1) {\r\n          this.isCollected = true\r\n          this.collectText = '已收藏'\r\n        } else {\r\n          this.isCollected = false\r\n          this.collectText = '收藏'\r\n        }\r\n      },\r\n      saveCollect() {            // 点击收藏的按钮将数据提交到action中\r\n        this.markCelebrity(this.celebrity)\r\n        this.isCollected = !this.isCollected\r\n        if (!this.isCollected) {\r\n          this.collectText = '收藏'\r\n        } else {\r\n          this.collectText = '已收藏'\r\n        }\r\n      },\r\n      showInfo() {          // 点击个人简介进入影人的详情简介介绍\r\n        this.$refs.info.show()\r\n      },\r\n      _initPics() {             // 计算影人代表作品的总宽度\r\n        let picWidth = 130\r\n        let margin = 8\r\n        let width = (picWidth + margin) * this.celebrityDetail.works.length - margin\r\n        this.$nextTick(() => {\r\n          this.$refs.content.style.width = width + 'px'\r\n        })\r\n      },\r\n      selectWork(movie) {         // 点击影人代表作品进入电影介绍的详情页\r\n        if (!event._constructed) {\r\n          return;\r\n        }\r\n        this.setMovie(movie)\r\n        this.$router.push({\r\n          path: `/moiveshow/${movie.id}`\r\n        })\r\n      },\r\n      getAllWorks() {             // 查看全部作品\r\n        this.$router.push({\r\n          path: `/clebrity/${this.currentCelebrityId}/works`\r\n        })\r\n      }\r\n    },\r\n    components: {\r\n      scroll,\r\n      star,\r\n      loading,\r\n      celebrityinfo\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  @import \"~@/common/stylus/mixin.styl\"\r\n\r\n  .celebritydetail {\r\n    position fixed\r\n    top: 0\r\n    left: 0\r\n    bottom: 0\r\n    right: 0\r\n    background-color: #555\r\n    z-index: 10\r\n  }\r\n\r\n  .fixed-title {\r\n    position fixed\r\n    top: 0\r\n    width: 100%\r\n    height: 40px\r\n    line-height: 40px\r\n    z-index: 100\r\n    background-color: #4EE559\r\n    font-size: 16px\r\n    color #fff\r\n    text-align center\r\n  }\r\n\r\n  .fixed-title .back {\r\n    position absolute\r\n    top: 0\r\n    left: 6px\r\n    z-index 50\r\n  }\r\n\r\n  .back .icon-back {\r\n    display block\r\n    padding 11px\r\n    font-size 18px\r\n    color: #fff;\r\n  }\r\n\r\n  .celebrity-detail {\r\n    position fixed\r\n    top: 0\r\n    bottom: 0\r\n    left: 0\r\n    right: 0\r\n    background-color: #555\r\n  }\r\n\r\n  .celebrity-detail .bg-image {\r\n    text-align center\r\n    padding: 50px 0 20px 0\r\n    background-color: #555;\r\n  }\r\n\r\n  .bg-image img {\r\n    width: 50%\r\n    vertical-align: middle\r\n  }\r\n\r\n  .celebrity-info {\r\n    background-color: #fff\r\n    padding 15px 20px 60px 20px\r\n  }\r\n\r\n  .celebrity-info .main {\r\n    position relative\r\n  }\r\n\r\n  .main .name-cn {\r\n    font-size 16px\r\n    color #333\r\n  }\r\n\r\n  .main .name-en {\r\n    display inline-block\r\n    padding-top: 7px\r\n    font-size 14px\r\n  }\r\n\r\n  .main .collect {\r\n    position absolute\r\n    top: 0\r\n    right: 0\r\n    height: 30px\r\n    line-height: 30px\r\n    width: 80px\r\n    text-align: center\r\n    fnot-size 14px\r\n    border: 1px solid #42bd56\r\n    border-radius 10px\r\n  }\r\n\r\n  .main .collect.has-collected {\r\n    border: 1px solid #FE9800\r\n    color #FE9800\r\n  }\r\n\r\n  .main .collect.has-collected .icon {\r\n    color #FE9800\r\n  }\r\n\r\n  .main .collect.has-collected .text {\r\n    color #FE9800\r\n  }\r\n\r\n  .main .collect .icon {\r\n    display: inline-block\r\n    vertical-align middle\r\n    color: #42bd56\r\n  }\r\n\r\n  .main .collect .text {\r\n    font-size: 12px\r\n    display inline-block\r\n    color #42bd56\r\n  }\r\n\r\n  .brief {\r\n    position relative\r\n    margin-top: 30px\r\n    font-size 14px\r\n  }\r\n\r\n  .brief .text {\r\n    position relative\r\n    padding-right 30px\r\n    display -webkit-box\r\n    -webkit-line-clamp 3\r\n    -webkit-box-orient vertical\r\n    overflow hidden\r\n    margin-top: 20px\r\n    color #333\r\n    line-height: 20px\r\n  }\r\n\r\n  .brief .text .more {\r\n    position absolute\r\n    top: 50%\r\n    transform translateY(-50%)\r\n    right: -10px\r\n    font-size 40px\r\n    color #42bd56\r\n  }\r\n\r\n  .works {\r\n    margin-top 30px\r\n    padding-bottom 20px\r\n    font-size 14px\r\n    white-space nowrap\r\n    overflow hidden\r\n    font-size 0\r\n    border-bottom-1px(#ccc)\r\n  }\r\n\r\n  .works-content .title {\r\n    font-size 14px\r\n    padding-bottom 20px\r\n  }\r\n\r\n  .works-content .work-item {\r\n    width: 130px\r\n    vertical-align top\r\n    display inline-block\r\n    margin-right 8px\r\n    font-size 14px\r\n    text-align center\r\n  }\r\n\r\n  .work-item img {\r\n    height: 200px\r\n    width: 130px\r\n  }\r\n\r\n  .work-item .item-title {\r\n    color #333\r\n    padding 8px 0 5px 0\r\n    no-wrap()\r\n  }\r\n\r\n  .allWorks {\r\n    padding 20px 0\r\n    font-size 14px\r\n  }\r\n\r\n  .allWorks i {\r\n    display inline-block\r\n    vertical-align middle\r\n    font-size 22px\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/celebritydetail/celebritydetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"celebritydetail\"},[_c('div',{staticClass:\"fixed-title\"},[_vm._v(\"\\n    影人信息\\n    \"),_c('span',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})])]),_vm._v(\" \"),(_vm.celebrityDetail.avatars)?_c('scroll',{staticClass:\"celebrity-detail\",attrs:{\"data\":_vm.celebrityDetail}},[_c('div',{staticClass:\"scroll-wrapper\"},[_c('div',{ref:\"image\",staticClass:\"bg-image\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.replaceUrl(_vm.celebrityDetail.avatars.large)),expression:\"replaceUrl(celebrityDetail.avatars.large)\"}],attrs:{\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"celebrity-info\"},[_c('div',{staticClass:\"main\"},[_c('h1',{staticClass:\"name-cn\"},[_vm._v(_vm._s(_vm.celebrityDetail.name))]),_vm._v(\" \"),_c('span',{staticClass:\"name-en\"},[_vm._v(_vm._s(_vm.celebrityDetail.name_en))]),_vm._v(\" \"),_c('div',{staticClass:\"collect\",class:{'has-collected':_vm.isCollected},on:{\"click\":_vm.saveCollect}},[_c('i',{staticClass:\"icon\",class:_vm.collect}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.collectText))])])]),_vm._v(\" \"),_c('div',{staticClass:\"brief\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"个人简介\")]),_vm._v(\" \"),_c('p',{staticClass:\"text\",on:{\"click\":_vm.showInfo}},[_vm._v(\"\\n            \"+_vm._s(_vm.celebrityDetail.summary)+\"\\n            \"),_c('span',{staticClass:\"more\"},[_c('i',{staticClass:\"icon-keyboard_arrow_right\"})])])]),_vm._v(\" \"),(_vm.works.length)?_c('scroll',{ref:\"scroll\",staticClass:\"works\",attrs:{\"scrollX\":this.scrollX,\"eventPassthrough\":this.eventPassthrough,\"click\":this.click}},[_c('div',{ref:\"content\",staticClass:\"works-content\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"代表作品\")]),_vm._v(\" \"),_vm._l((_vm.works),function(item){return _c('div',{staticClass:\"work-item\",on:{\"click\":function($event){_vm.selectWork(item,$event)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.replaceUrl(item.image)),expression:\"replaceUrl(item.image)\"}],attrs:{\"alt\":\"\",\"width\":\"90\",\"height\":\"120\"}}),_vm._v(\" \"),_c('h3',{staticClass:\"item-title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('star',{attrs:{\"showScore\":_vm.showScore,\"score\":item.rating}})],1)})],2)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"allWorks\",on:{\"click\":_vm.getAllWorks}},[_vm._v(\"查看全部作品\\n          \"),_c('i',{staticClass:\"icon-keyboard_arrow_right\"})])],1)])]):_vm._e(),_vm._v(\" \"),(!_vm.celebrityDetail.avatars)?_c('loading',{attrs:{\"fullScreen\":_vm.fullScreen}}):_vm._e(),_vm._v(\" \"),_c('celebrityinfo',{ref:\"info\",attrs:{\"infoLists\":_vm.celebrityDetail}}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-0e0adfe8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/celebritydetail/celebritydetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e0adfe8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./celebritydetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./celebritydetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./celebritydetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e0adfe8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./celebritydetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0e0adfe8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/celebritydetail/celebritydetail.vue\n// module id = null\n// module chunks = ","<!--全部作品列表的组件-->\r\n<template>\r\n  <transition name=\"works\">\r\n    <div class=\"CelebrityWorks\">\r\n      <div class=\"fixed-title\">\r\n      <span class=\"back\" @click=\"back\">\r\n        <i class=\"icon-back\"></i>\r\n      </span>\r\n        <span class=\"type\">全部作品</span>\r\n        <span class=\"to-top\" @click=\"toTop\">\r\n        <i class=\"icon-circle-up\"></i>\r\n      </span>\r\n      </div>\r\n      <scroll class=\"celebrity-works\" ref=\"scroll\" :data=\"works\" :pullup=\"pullup\" @scrollToEnd=\"loadMore\">\r\n        <div class=\"scroll-wrapper\">\r\n          <ranklist :bottom=\"bottom\" :rankItems=\"works\" :needRank=\"needRank\" :hasMore=\"hasMore\" @select=\"selectMovie\"></ranklist>\r\n        </div>\r\n      </scroll>\r\n      <loading :fullScreen=\"fullScreen\" v-if=\"!works.length\"></loading>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\n  import scroll from 'base/scroll/scroll.vue'\r\n  import loading from 'base/loading/loading.vue'\r\n  import {mapGetters, mapMutations} from 'vuex'\r\n  import {getCelebrityWorks} from 'api/celebrity'\r\n  import {createRankList} from 'common/js/movielist'\r\n  import ranklist from 'components/ranklist/ranklist.vue'\r\n\r\n  const SEARCH_MORE = 20          // 每次请求加载的条目的长度\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        needRank: false,\r\n        searchIndex: 0,\r\n        fullScreen: true,\r\n        hasMore: true,\r\n        pullup: true,\r\n        bottom: true,\r\n        works: []\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapGetters(['currentCelebrityId'])\r\n    },\r\n    created() {\r\n      this.loadingFlag = true         // 控制滚动加载的速度\r\n      this._getWorks()\r\n    },\r\n    methods: {\r\n      ...mapMutations({\r\n        setMovie: 'SET_MOVIE'\r\n      }),\r\n      back() {             // 点击返回上一层路由\r\n        this.$router.back()\r\n      },\r\n      _getWorks() {             // 获取影人的全部作品数据\r\n        if (!this.currentCelebrityId) {\r\n          this.$router.push('/movieShow')\r\n          return\r\n        }\r\n        getCelebrityWorks(this.currentCelebrityId, this.searchIndex, SEARCH_MORE).then((res) => {\r\n          console.log(res)\r\n          let ret = []\r\n          res.works.forEach((item) => {\r\n            ret.push(item.subject)\r\n          })\r\n          this.works = createRankList(ret)\r\n          this._checkMore(res)\r\n          // console.log(this.works)\r\n        })\r\n      },\r\n      toTop() {                   // 返回顶部\r\n        this.$refs.scroll.scrollTo(0, 0, 1000)\r\n      },\r\n      selectMovie(movie) {                 // 点击影人的全部作品列表进入电影的详情页\r\n        this.setMovie(movie)\r\n        this.$router.push({\r\n          path: `/moiveshow/${movie.id}`\r\n        })\r\n      },\r\n      loadMore() {           // 上拉列表加载更多数据\r\n        if (!this.loadingFlag || !this.hasMore) {         // 如果上一次加载数据还没有完成就返回\r\n          return\r\n        }\r\n        this.loadingFlag = false          // 重置滚动的标志位\r\n        this.searchIndex += SEARCH_MORE\r\n        getCelebrityWorks(this.currentCelebrityId, this.searchIndex, SEARCH_MORE).then((res) => {\r\n          let ret = []\r\n          res.works.forEach((item) => {\r\n            ret.push(item.subject)\r\n          })\r\n          this.works = this.works.concat(createRankList(ret))\r\n          this.loadingFlag = true\r\n          this._checkMore(res)\r\n        })\r\n      },\r\n      _checkMore(data) {            // 检测是否还有更多的数据\r\n        let works = data.works\r\n        if (!works.length || data.start + data.count >= data.total) {\r\n          this.hasMore = false\r\n        }\r\n      }\r\n    },\r\n    components: {\r\n      scroll,\r\n      loading,\r\n      ranklist\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  @import \"~@/common/stylus/mixin.styl\"\r\n\r\n  .CelebrityWorks {\r\n    height: 100%\r\n    position: relative\r\n    z-index 800\r\n    background-color: #fff;\r\n  }\r\n\r\n  .CelebrityWorks .fixed-title {\r\n    border-bottom-1px(#ccc)\r\n    position fixed\r\n    top: 0\r\n    width: 100%\r\n    height: 50px\r\n    z-index 200\r\n    background-color: #fff\r\n    text-align center\r\n  }\r\n\r\n  .fixed-title .back {\r\n    position absolute\r\n    top: 0\r\n    left: 6px\r\n    z-index 50\r\n  }\r\n\r\n  .back .icon-back {\r\n    display block\r\n    padding 15px\r\n    font-size 18px\r\n    color #42bd56\r\n  }\r\n\r\n  .fixed-title .type {\r\n    line-height: 50px\r\n    font-size 16px\r\n  }\r\n\r\n  .fixed-title .to-top {\r\n    position absolute\r\n    top: 0\r\n    right: 6px\r\n    z-index 50\r\n  }\r\n\r\n  .fixed-title .icon-circle-up {\r\n    display block\r\n    padding 15px\r\n    font-size 22px\r\n    color #42bd56\r\n  }\r\n\r\n  .celebrity-works {\r\n    position absolute\r\n    top: 0\r\n    bottom: 0\r\n    width: 100%\r\n    background-color: #fff;\r\n  }\r\n\r\n  .scroll-wrapper {\r\n    padding 50px 0 70px 0\r\n  }\r\n\r\n  .works-enter-active, .works-leave-active {\r\n    transition all .3s\r\n  }\r\n\r\n  .works-enter, .works-leave-to {\r\n    transform translate3d(-100%, 0, 0)\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/CelebrityWorks/CelebrityWorks.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"works\"}},[_c('div',{staticClass:\"CelebrityWorks\"},[_c('div',{staticClass:\"fixed-title\"},[_c('span',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})]),_vm._v(\" \"),_c('span',{staticClass:\"type\"},[_vm._v(\"全部作品\")]),_vm._v(\" \"),_c('span',{staticClass:\"to-top\",on:{\"click\":_vm.toTop}},[_c('i',{staticClass:\"icon-circle-up\"})])]),_vm._v(\" \"),_c('scroll',{ref:\"scroll\",staticClass:\"celebrity-works\",attrs:{\"data\":_vm.works,\"pullup\":_vm.pullup},on:{\"scrollToEnd\":_vm.loadMore}},[_c('div',{staticClass:\"scroll-wrapper\"},[_c('ranklist',{attrs:{\"bottom\":_vm.bottom,\"rankItems\":_vm.works,\"needRank\":_vm.needRank,\"hasMore\":_vm.hasMore},on:{\"select\":_vm.selectMovie}})],1)]),_vm._v(\" \"),(!_vm.works.length)?_c('loading',{attrs:{\"fullScreen\":_vm.fullScreen}}):_vm._e()],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-72dd26c2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/CelebrityWorks/CelebrityWorks.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72dd26c2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./CelebrityWorks.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./CelebrityWorks.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./CelebrityWorks.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72dd26c2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./CelebrityWorks.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-72dd26c2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/CelebrityWorks/CelebrityWorks.vue\n// module id = null\n// module chunks = ","<!--电影预告片组件-->\r\n<template>\r\n  <div class=\"video\">\r\n    <div class=\"fixed-title\">电影预告片</div>\r\n    <scroll class=\"center\"\r\n            ref=\"scroll\"\r\n            :data=\"videoData\"\r\n            @scrollToEnd=\"loadMore\"\r\n            :pullup=\"pullup\"\r\n            :probeType=\"probeType\"\r\n    >\r\n      <div class=\"video-box clearfix\">\r\n        <div class=\"clearfix box-videos\">\r\n          <!--左边的列表-->\r\n          <div class=\"item-left\">\r\n            <div class=\"video-item\" @click=\"videoSelect(item)\" v-for=\"item in evenData\">\r\n              <img v-lazy=\"replaceUrl(item.image)\" alt=\"\">\r\n              <p class=\"title\">{{item.title}}</p>\r\n              <star :size=\"24\" :score=\"item.rating\" :showScore=\"showScore\" class=\"star\"></star>\r\n            </div>\r\n          </div>\r\n          <!--右边的列表-->\r\n          <div class=\"item-right\">\r\n            <div class=\"video-item\" @click=\"videoSelect(item)\" v-for=\"item in oddData\">\r\n              <img v-lazy=\"replaceUrl(item.image)\" alt=\"\">\r\n              <p class=\"title\">{{item.title}}</p>\r\n              <star :size=\"24\" :score=\"item.rating\" :showScore=\"showScore\" class=\"star\"></star>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <loading :hasMore=\"hasMore\" v-show=\"videoData.length\"></loading>\r\n      </div>\r\n    </scroll>\r\n    <loading :fullScreen=\"fullScreen\" v-if=\"!videoData.length\"></loading>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import scroll from 'base/scroll/scroll.vue'\r\n  import {getComingMovie} from 'api/movieShow.js'\r\n  import {createMovieList} from 'common/js/movielist.js'\r\n  import {ERR_OK} from 'api/config'\r\n  import loading from 'base/loading/loading.vue'\r\n  import star from 'base/star/star.vue'\r\n  import {mapMutations} from 'vuex'\r\n\r\n  const VIDEO_MORE = 20        // 每次请求加载数据量\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        videoData: [],\r\n        oddData: [],\r\n        evenData: [],\r\n        fullScreen: true,\r\n        showScore: true,\r\n        videoIndex: 0,\r\n        loadingFlag: true,\r\n        hasMore: true,\r\n        pullup: true,\r\n        probeType: 3\r\n      }\r\n    },\r\n    created() {\r\n      this._getComingMovies()\r\n    },\r\n    methods: {\r\n      ...mapMutations({\r\n        setMovie: 'SET_MOVIE'\r\n      }),\r\n      _getComingMovies() {\r\n        getComingMovie(this.videoIndex, VIDEO_MORE).then((res) => {\r\n          if (res.start === ERR_OK) {\r\n            this.videoData = createMovieList(res.subjects)\r\n          }\r\n          this.videoData.findIndex((item, index) => {\r\n            if (index % 2 !== 1) {       // 获取偶数行的数据\r\n              this.evenData.push(item)\r\n            } else {\r\n              this.oddData.push(item)\r\n            }\r\n          })\r\n          this._checkMore(res)\r\n        })\r\n      },\r\n      videoSelect(item) {                // 点击电影预告片列表进入电影预告片的详情页\r\n        this.setMovie(item)\r\n        this.$router.push({\r\n          path: `/video/${item.id}`\r\n        })\r\n      },\r\n      replaceUrl(url) {            // 图片防盗链处理,把现在的图片连接传进来，返回一个不受限制的路径\r\n        return ('https://images.weserv.nl/?url=' + url.replace(/http\\w{0,1}:\\/\\//, ''))\r\n      },\r\n      loadMore() {\r\n        if (!this.loadingFlag) {\r\n          return\r\n        }\r\n        this.loadingFlag = false\r\n        if (!this.hasMore) {           // 没有更多数据时，返回\r\n          this.loadingFlag = true\r\n          return\r\n        }\r\n        this.videoIndex += VIDEO_MORE\r\n        getComingMovie(this.videoIndex, VIDEO_MORE).then((res) => {\r\n          this.videoData = this.videoData.concat(createMovieList(res.subjects))\r\n          this.videoData.findIndex((item, index) => {\r\n            if (index % 2 !== 1) {       // 获取偶数行的数据\r\n              this.evenData.push(item)\r\n            } else {\r\n              this.oddData.push(item)\r\n            }\r\n          })\r\n          this.loadingFlag = true\r\n          this._checkMore(res)\r\n        })\r\n      },\r\n      _checkMore(data) {\r\n        let videos = data.subjects\r\n        if (!videos.length || data.start + data.count > data.total) {\r\n          this.hasMore = false\r\n        }\r\n        this.loadingFlag = true\r\n      }\r\n    },\r\n    components: {\r\n      scroll,\r\n      loading,\r\n      star\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n  @import \"~@/common/stylus/mixin.styl\"\r\n\r\n  .video {\r\n    position: fixed\r\n    top: 0\r\n    left: 0\r\n    right: 0\r\n    bottom: 0\r\n    z-index 300\r\n    background-color: #fff\r\n  }\r\n\r\n  .fixed-title {\r\n    position: fixed;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 45px;\r\n    line-height: 45px\r\n    z-index: 400;\r\n    background-color: #4EE559;\r\n    text-align center\r\n    color #fff\r\n    font-size 16px\r\n  }\r\n\r\n  .center {\r\n    position: absolute\r\n    top: 55px\r\n    bottom: 70px\r\n    overflow: hidden\r\n    box-sizing border-box\r\n    width: 100%\r\n  }\r\n\r\n  .video-box {\r\n    padding 0 10px\r\n    text-align center\r\n  }\r\n\r\n  .video-box .item-left, .video-box .item-right {\r\n    box-sizing border-box\r\n    width: 49%\r\n  }\r\n\r\n  .video-box .item-left {\r\n    float left\r\n  }\r\n\r\n  .video-box .item-right {\r\n    float right\r\n  }\r\n\r\n  .video-item {\r\n    text-align: center\r\n    margin-bottom 15px\r\n    background-color: #F5F5F5\r\n  }\r\n\r\n  .video-item img {\r\n    width: 100%\r\n    vertical-align: top\r\n  }\r\n\r\n  .video-item .title {\r\n    margin-top 8px\r\n    font-size 15px\r\n    color #000000\r\n    line-height: 25px\r\n    no-wrap()\r\n  }\r\n\r\n  .video-item .star {\r\n    line-height: 25px\r\n  }\r\n\r\n  .box-videos {\r\n    padding-bottom: 20px\r\n  }\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/video/video.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"video\"},[_c('div',{staticClass:\"fixed-title\"},[_vm._v(\"电影预告片\")]),_vm._v(\" \"),_c('scroll',{ref:\"scroll\",staticClass:\"center\",attrs:{\"data\":_vm.videoData,\"pullup\":_vm.pullup,\"probeType\":_vm.probeType},on:{\"scrollToEnd\":_vm.loadMore}},[_c('div',{staticClass:\"video-box clearfix\"},[_c('div',{staticClass:\"clearfix box-videos\"},[_c('div',{staticClass:\"item-left\"},_vm._l((_vm.evenData),function(item){return _c('div',{staticClass:\"video-item\",on:{\"click\":function($event){_vm.videoSelect(item)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.replaceUrl(item.image)),expression:\"replaceUrl(item.image)\"}],attrs:{\"alt\":\"\"}}),_vm._v(\" \"),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('star',{staticClass:\"star\",attrs:{\"size\":24,\"score\":item.rating,\"showScore\":_vm.showScore}})],1)})),_vm._v(\" \"),_c('div',{staticClass:\"item-right\"},_vm._l((_vm.oddData),function(item){return _c('div',{staticClass:\"video-item\",on:{\"click\":function($event){_vm.videoSelect(item)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.replaceUrl(item.image)),expression:\"replaceUrl(item.image)\"}],attrs:{\"alt\":\"\"}}),_vm._v(\" \"),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('star',{staticClass:\"star\",attrs:{\"size\":24,\"score\":item.rating,\"showScore\":_vm.showScore}})],1)}))]),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.videoData.length),expression:\"videoData.length\"}],attrs:{\"hasMore\":_vm.hasMore}})],1)]),_vm._v(\" \"),(!_vm.videoData.length)?_c('loading',{attrs:{\"fullScreen\":_vm.fullScreen}}):_vm._e(),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-f93751b2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/video/video.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f93751b2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./video.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./video.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./video.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f93751b2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./video.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f93751b2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/video/video.vue\n// module id = null\n// module chunks = ","<!--电影预告片的详情页组件-->\r\n<template>\r\n  <div class=\"videodetail\">\r\n    <div class=\"fixed-title\">\r\n      {{videoData.title}}\r\n      <span class=\"back\" @click=\"back\">\r\n          <i class=\"icon-back\"></i>\r\n        </span>\r\n    </div>\r\n    <!-- 视频播放器-->\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {getMoviedetail} from 'api/moviedetail.js'\r\n  import {mapGetters} from 'vuex'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        videoData: {}\r\n      }\r\n    },\r\n    created() {\r\n      this._getMoviedetail()\r\n    },\r\n    computed: {\r\n      ...mapGetters(['movie'])\r\n    },\r\n    methods: {\r\n      back() {\r\n        this.$router.back()\r\n      },\r\n      _getMoviedetail() {                 // 获取电影列表的详情页数据\r\n        if (!this.movie.id) {             // 当在电影详情页刷新是强制回到电影展示页\r\n          this.$router.push('/moiveshow')\r\n          return\r\n        }\r\n        getMoviedetail(this.movie.id).then((res) => {\r\n          this.videoData = res\r\n        })\r\n      },\r\n      replaceUrl(url) {            // 图片防盗链处理,把现在的图片连接传进来，返回一个不受限制的路径\r\n        return ('https://images.weserv.nl/?url=' + url.replace(/http\\w{0,1}:\\/\\//, ''))\r\n      }\r\n    },\r\n    components: {}\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\" scoped>\r\n\r\n  .videodetail {\r\n    position: fixed\r\n    top: 0\r\n    left: 0\r\n    bottom: 0\r\n    right: 0\r\n    z-index 650\r\n    background-color: #fff;\r\n  }\r\n\r\n  .fixed-title {\r\n    height: 45px\r\n    line-height: 45px\r\n    font-size 16px\r\n    text-align center\r\n    color #fff\r\n    position relative\r\n    background-color: #4EE559\r\n  }\r\n\r\n  .fixed-title .back {\r\n    position: absolute\r\n    top: 0\r\n    left: 6px\r\n    z-index 60\r\n  }\r\n\r\n  .back .icon-back {\r\n    padding 10px\r\n    font-size 18px\r\n    color #ffffff\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/videodetail/videodetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"videodetail\"},[_c('div',{staticClass:\"fixed-title\"},[_vm._v(\"\\n    \"+_vm._s(_vm.videoData.title)+\"\\n    \"),_c('span',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-8e0daa06\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/videodetail/videodetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8e0daa06\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./videodetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./videodetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./videodetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8e0daa06\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./videodetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8e0daa06\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/videodetail/videodetail.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport moiveShow from 'components/moiveShow/moiveShow.vue'\r\nimport rank from 'components/rank/rank.vue'\r\nimport user from 'components/user/user.vue'\r\nimport search from 'components/search/search.vue'\r\nimport moviedetail from 'components/moviedetail/moviedetail.vue'\r\nimport allcomments from 'components/allcomments/allcomments.vue'\r\nimport reviewdetail from 'components/reviewdetail/reviewdetail.vue'\r\nimport rankdetail from 'components/rankdetail/rankdetail.vue'\r\nimport celebritydetail from 'components/celebritydetail/celebritydetail.vue'\r\nimport CelebrityWorks from 'components/CelebrityWorks/CelebrityWorks.vue'\r\nimport video from 'components/video/video.vue'\r\nimport videodetail from 'components/videodetail/videodetail.vue'\r\n\r\n\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n  linkActiveClass: 'active',\r\n  // mode: 'history',\r\n  routes: [\r\n    {path: '/', redirect: '/moiveshow', component: moiveShow},\r\n    {\r\n      path: '/moiveshow',\r\n      component: moiveShow,\r\n      meta: {keepAlive: true},\r\n      children: [\r\n        {\r\n          path: '/moiveshow/:id',\r\n          component: moviedetail,\r\n          meta: {keepAlive: false}\r\n        },\r\n        {\r\n          path: '/moiveshow/:id/:movietype',\r\n          component: allcomments,\r\n          meta: {keepAlive: true}\r\n        },\r\n        {\r\n          path: '/moiveshow/:id/:movietype/:typeid',\r\n          component: reviewdetail,\r\n          meta: {keepAlive: true}\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      path: '/rank',\r\n      component: rank,\r\n      meta: {keepAlive: true},\r\n      children: [\r\n        {\r\n          path: ':rankType',             // top250\r\n          component: rankdetail,\r\n          meta: {keepAlive: true}\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      path: '/user',\r\n      component: user,\r\n      meta: {keepAlive: true}\r\n    },\r\n    {\r\n      path: '/search',\r\n      component: search,\r\n      meta: {keepAlive: false}\r\n    },\r\n    {\r\n      path: '/clebrity/:clebrityid',\r\n      component: celebritydetail,\r\n      meta: {keepAlive: false},\r\n      children: [\r\n        {\r\n          path: '/clebrity/:clebrityid/works',\r\n          component: CelebrityWorks\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      path: '/video',\r\n      component: video,\r\n      meta: {keepAlive: true},\r\n      children: [\r\n        {\r\n          path: '/video/:videoId',\r\n          component: videodetail\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","export function saveToLocal(id, key, val) {                  // 将数据缓存到本地\r\n  let userInfo = window.localStorage._doubanMovie_\r\n  if (!userInfo) {\r\n    userInfo = {}\r\n    userInfo[id] = {}\r\n  } else {\r\n    userInfo = JSON.parse(userInfo)           // JSON.parse() 方法用于将一个 JSON 字符串转换为对象。\r\n    if (!userInfo[id]) {\r\n      userInfo[id] = {}\r\n    }\r\n  }\r\n  userInfo[id][key] = val\r\n  window.localStorage._doubanMovie_ = JSON.stringify(userInfo)           // JSON.stringify() 方法用于将 JavaScript 值转换为 JSON 字符串。\r\n}\r\n\r\nexport function loadFromLocal(id, key, def) {                     // 获取缓存在本地的数据\r\n  let userInfo = window.localStorage._doubanMovie_\r\n  if (!userInfo) {\r\n    return def\r\n  }\r\n  userInfo = JSON.parse(userInfo)[id]\r\n  if (!userInfo) {\r\n    return def\r\n  }\r\n  let ret = userInfo[key]\r\n  return ret || def\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/store.js","import {saveToLocal, loadFromLocal} from './store.js'\r\n\r\nconst USER_ID = 'douban'                              // 定义缓存的用户id\r\nconst SEARCH_KEY = '_search_'                        // 搜索历史的键名\r\nconst COMMENT_KEY = '_comment_'                     // 电影短评的点赞键名\r\nconst WATCHED_KEY = '_watched_'                    // 已经看过的电影\r\nconst WANTED_KEY = '_wanted_'                     // 想看的电影\r\nconst CELEBRITY_KEY = '_celebrity_'              // 收藏的影人\r\nconst SEARCH_MAX_LENGTH = 20                    // 搜索结果缓存的最大长度\r\nconst COMMENT_MAX_LENGTH = 300                 // 缓存电影短评的点赞最大长度\r\nconst WATCHED_MAX_LENGTH = 300                // 缓存已经看过的电影的最大长度\r\nconst WANTED_MAX_LENGTH = 300                // 缓存想看的电影的最大长度\r\nconst CELEBRITY_MAX_LENGTH = 300\r\n\r\n\r\n// 缓存看过的电影数据到本地\r\nexport function saveWatchedMovie(movie) {\r\n  const maxLen = WATCHED_MAX_LENGTH\r\n  let movies = loadFromLocal(USER_ID, WATCHED_KEY, [])           // 获取不到返回空数组\r\n  const index = movies.findIndex((item) => {                    // 查找缓存数组中是否有包含添加的数据，返回索引\r\n    return item.id === movie.id\r\n  })\r\n  if (index === -1) {                                         // 当没有缓存数据时就把当前的数据缓存到本地\r\n    movies.push(movie)\r\n    if (maxLen && movies.length > maxLen) {                 // 当缓存的数据超过最大的长度时就移出先前缓存的数据\r\n      movies.shift()                                       // shift() 方法用于把数组的第一个元素从其中删除，并返回第一个元素的值。\r\n    }\r\n  } else {                                               // 如果当前缓存的数据已经存在就移除\r\n    movies.splice(index, 1)                             // splice() 方法可删除从 index 处开始的零个或多个元素，并且用参数列表中声明的一个或多个值来替换那些被删除的元素。\r\n  }\r\n  saveToLocal(USER_ID, WATCHED_KEY, movies)            // 将数据缓存到本地\r\n  return movies\r\n}\r\n\r\n// 从缓存中获取看过的电影数据\r\nexport function loadWatchedMovie() {\r\n  return loadFromLocal(USER_ID, WATCHED_KEY, [])\r\n}\r\n\r\n\r\n// 缓存想看的电影数据到本地\r\nexport function saveWantedMovie(movie) {\r\n  const maxLen = WANTED_MAX_LENGTH\r\n  let movies = loadFromLocal(USER_ID, WANTED_KEY, [])\r\n  const index = movies.findIndex((item) => {\r\n    return item.id === movie.id\r\n  })\r\n  if (index === -1) {\r\n    movies.push(movie)\r\n    if (maxLen && movies.length > maxLen) {\r\n      movies.shift()\r\n    }\r\n  } else {\r\n    movies.splice(index, 1)\r\n  }\r\n  saveToLocal(USER_ID, WANTED_KEY, movies)\r\n  return movies\r\n}\r\n\r\n// 从缓存中获取想看的电影数据\r\nexport function loadWantedMovie() {\r\n  return loadFromLocal(USER_ID, WANTED_KEY, [])\r\n}\r\n\r\n\r\n// 缓存电影短评的点赞数据\r\nexport function saveComment(id) {\r\n  const maxLen = COMMENT_MAX_LENGTH\r\n  let comments = loadFromLocal(USER_ID, COMMENT_KEY, [])       // 获取不到数据就返回空数组\r\n  const index = comments.findIndex((item) => {\r\n    return item === id\r\n  })\r\n  if (index === -1) {           // 当前要缓存数据不存在时，就把数据缓存到本地\r\n    comments.push(id)\r\n    if (maxLen && comments.length > maxLen) {          // 当缓存数据超过最大的长度时就移出前面的数据\r\n      comments.shift()\r\n    }\r\n  } else {                     // 当前要缓存数据存在时，就把缓存的数据移出\r\n    comments.splice(index, 1)\r\n  }\r\n  saveToLocal(USER_ID, COMMENT_KEY, comments)\r\n  return comments\r\n}\r\n\r\n// 从本地缓存中读取电影短评的点赞数据\r\nexport function loadComment() {\r\n  return loadFromLocal(USER_ID, COMMENT_KEY, [])\r\n}\r\n\r\n\r\n// 将数据插入缓存数组中\r\nfunction insertArray(arr, val, compare, maxLen) {            // 查找缓存数组中是否包含添加的函数，返回索引\r\n  const index = arr.findIndex(compare)\r\n  if (index === 0) {\r\n    return\r\n  }\r\n  if (index > 0) {                    // 如果当前的缓存数组中有添加函数，就移除\r\n    arr.splice(index, 1)\r\n  }\r\n  arr.unshift(val)                 // 将最新数据添加到最前面\r\n  if (maxLen && arr.length > maxLen) {           // 当缓存的数据超过最大长度时移除最后的数据\r\n    arr.pop()\r\n  }\r\n}\r\n\r\n// 将信息从缓存数组中删除\r\nfunction deleteFromArray(arr, compare) {\r\n  const index = arr.findIndex(compare)\r\n  if (index > -1) {\r\n    arr.splice(index, 1)\r\n  }\r\n}\r\n\r\n// 保存搜索的结果\r\nexport function saveSearch(query) {\r\n  let searches = loadFromLocal(USER_ID, SEARCH_KEY, [])            // 获取不到就返回空数组\r\n  insertArray(searches, query, (item) => {\r\n    return item === query\r\n  }, SEARCH_MAX_LENGTH)\r\n  saveToLocal(USER_ID, SEARCH_KEY, searches)        // 将数据缓存到数组中\r\n  return searches\r\n}\r\n\r\n// 从缓存中读取搜索结果的数据\r\nexport function loadSearch() {\r\n  return loadFromLocal(USER_ID, SEARCH_KEY, [])\r\n}\r\n\r\n\r\n// 从缓存中删除搜索结果的数据\r\nexport function deleteSearch(query) {\r\n  let searches = loadFromLocal(USER_ID, SEARCH_KEY, [])\r\n  deleteFromArray(searches, (item) => {\r\n    return item === query\r\n  })\r\n  saveToLocal(USER_ID, SEARCH_KEY, searches)\r\n  return searches\r\n}\r\n\r\n\r\n// 删除全部缓存的搜索数据\r\nexport function clearSearch() {\r\n  saveToLocal(USER_ID, SEARCH_KEY, [])\r\n  return []\r\n}\r\n\r\n\r\n// 收藏影人的数据\r\nexport function saveCelebrity(celebrity) {\r\n  const maxLen = CELEBRITY_MAX_LENGTH\r\n  let celebrities = loadFromLocal(USER_ID, CELEBRITY_KEY, [])\r\n  const index = celebrities.findIndex((item) => {            // 查找缓存数组中是否包含添加的数据，返回索引\r\n    return item.id === celebrity.id\r\n  })\r\n  if (index === -1) {\r\n    celebrities.push(celebrity)\r\n    if (maxLen && celebrities.length > maxLen) {\r\n      celebrities.shift()\r\n    }\r\n  } else {                            // 如果已经存在被标记的id,则代表用户进行反操作，取消喜欢\r\n    celebrities.splice(index, 1)\r\n  }\r\n  saveToLocal(USER_ID, CELEBRITY_KEY, celebrities)         // 存入缓存\r\n  return celebrities\r\n}\r\n\r\n// 从缓存中读取收藏影人的数据\r\nexport function loadCelebrity() {\r\n  return loadFromLocal(USER_ID, CELEBRITY_KEY, [])\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/cache.js","import {loadWatchedMovie, loadWantedMovie, loadComment, loadSearch, loadCelebrity} from '../common/js/cache.js'\r\n\r\nconst state = {\r\n  movie: {},                                            // 电影的信息\r\n  watchedMovies: loadWatchedMovie(),                   // 看过的电影\r\n  wantedMovies: loadWantedMovie(),                    // 想看的电影\r\n  reviewsType: '',                                   // 电影的短评或影评的类型\r\n  reviewId: 0,                                      // 电影影评的列表ID\r\n  favoriteComments: loadComment(),                 // 电影短评的点赞\r\n  searchHistory: loadSearch(),                    // 搜索历史，每次刷新从缓存中读取\r\n  currentCelebrityId: 0,                         // 影人的ID\r\n  collected: loadCelebrity()                    // 收藏影人\r\n}\r\n\r\nexport default state\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/state.js","import * as types from './mutation-types'\r\n\r\nconst mutations = {\r\n  [types.SET_MOVIE](state, movie) {                        // 电影的信息\r\n    state.movie = movie\r\n  },\r\n  [types.SET_WANTED_MOVIES](state, movies) {               // 想看的电影\r\n    state.wantedMovies = movies\r\n  },\r\n  [types.SET_WATCHED_MOVIES](state, movies) {              // 看过的电影\r\n    state.watchedMovies = movies\r\n  },\r\n  [types.SET_REVIEWS_TYPE](state, type) {              // 电影的短评或影评的类型\r\n    state.reviewsType = type\r\n  },\r\n  [types.SET_REVIEWS_ID](state, id) {              // 电影影评的列表ID\r\n    state.reviewId = id\r\n  },\r\n  [types.SET_COMMENT_ID](state, comments) {              // 电影短评的点赞\r\n    state.favoriteComments = comments\r\n  },\r\n  [types.SET_SEARCH_HISTORY](state, history) {         // 搜索历史，每次刷新从缓存中读取\r\n    state.searchHistory = history;\r\n  },\r\n  [types.SET_CELEBRITY_ID](state, id) {               // 影人的id\r\n    state.currentCelebrityId = id;\r\n  },\r\n  [types.SET_COLLECT_CELEBRITY](state, celebrity) {        // 收藏影人\r\n    state.collected = celebrity;\r\n  }\r\n}\r\n\r\nexport default mutations\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","export const SET_MOVIE = 'SET_MOVIE'                                          // 定义电影信息的常量\r\n\r\nexport const SET_WANTED_MOVIES = 'SET_WANTED_MOVIES'                        // 定义想看的电影的常量\r\n\r\nexport const SET_WATCHED_MOVIES = 'SET_WATCHED_MOVIES'                    // 定义看过的电影的常量\r\n\r\nexport const SET_REVIEWS_TYPE = 'SET_REVIEWS_TYPE'                      // 电影的短评或影评的类型\r\n\r\nexport const SET_REVIEWS_ID = 'SET_REVIEWS_ID'                        // 电影影评的列表ID\r\n\r\nexport const SET_COMMENT_ID = 'SET_COMMENT_ID'                      // 电影短评的点赞\r\n\r\nexport const SET_SEARCH_HISTORY = 'SET_SEARCH_HISTORY'            // 搜索历史，每次刷新从缓存中读取\r\n\r\nexport const SET_CELEBRITY_ID = 'SET_CELEBRITY_ID'              // 影人的id\r\n\r\nexport const SET_COLLECT_CELEBRITY = 'SET_COLLECT_CELEBRITY'        // 收藏影人\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutation-types.js","import * as types from './mutation-types.js'\r\n\r\nimport {saveWatchedMovie, saveWantedMovie, saveComment, saveSearch, deleteSearch, clearSearch, saveCelebrity} from '../common/js/cache.js'\r\n\r\n\r\nexport const markWatchedMovie = function ({commit}, movie) {                // 看过的电影\r\n  commit(types.SET_WATCHED_MOVIES, saveWatchedMovie(movie))\r\n}\r\n\r\nexport const markWantedMovie = function ({commit}, movie) {                 // 想看的电影\r\n  commit(types.SET_WANTED_MOVIES, saveWantedMovie(movie))\r\n}\r\n\r\nexport const markComment = function ({commit}, id) {                 // 电影短评的点赞\r\n  commit(types.SET_COMMENT_ID, saveComment(id))\r\n}\r\n\r\nexport const saveSearchHistory = function ({commit}, query) {           // 保存搜索结果数据\r\n  commit(types.SET_SEARCH_HISTORY, saveSearch(query));\r\n};\r\n\r\nexport const deleteSearchHistory = function ({commit}, query) {          // 删除搜索结果的数据\r\n  commit(types.SET_SEARCH_HISTORY, deleteSearch(query));\r\n};\r\n\r\nexport const clearSearchHistory = function ({commit}) {                // 清空所有的搜索记录\r\n  commit(types.SET_SEARCH_HISTORY, clearSearch());\r\n};\r\n\r\nexport const markCelebrity = function ({commit}, celebrity) {                // 收藏影人\r\n  commit(types.SET_COLLECT_CELEBRITY, saveCelebrity(celebrity));\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","export const movie = state => state.movie                                           // 电影的信息\r\n\r\nexport const wantedMovies = state => state.wantedMovies                            // 想看的电影\r\n\r\nexport const watchedMovies = state => state.watchedMovies                         // 看过的电影\r\n\r\nexport const reviewsType = state => state.reviewsType                            // 电影的短评或影评的类型\r\n\r\nexport const reviewId = state => state.reviewId                                 // 电影影评的列表ID\r\n\r\nexport const favoriteComments = state => state.favoriteComments                // 电影短评的点赞\r\n\r\nexport const searchHistory = state => state.searchHistory                     // 搜索历史，每次刷新从缓存中读取\r\n\r\nexport const currentCelebrityId = state => state.currentCelebrityId         // 影人的id\r\n\r\nexport const collected = state => state.collected                          // 收藏影人\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport state from './state';\r\nimport mutations from './mutations';\r\nimport * as actions from './actions';\r\nimport * as getters from './getters';\r\nimport createLogger from 'vuex/dist/logger'; // vuex调试工具\r\nVue.use(Vuex);\r\n\r\n// 开发环境下开启严格模式\r\nconst debug = process.env.NODE_ENV !== 'production';\r\n\r\nexport default new Vuex.Store({\r\n  actions,\r\n  getters,\r\n  state,\r\n  mutations,\r\n  strict: debug,\r\n  plugins: debug ? [createLogger()] : []\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport store from './store'         // 引入vuex\r\nimport 'common/stylus/index.styl'  // 引入样式表\r\nimport VueLazyload from 'vue-lazyload'\r\n\r\nVue.use(VueLazyload, {\r\n  error: require('./common/image/loading.gif'),                  // 这个是请求失败后显示的图片\r\n  loading: require('./common/image/loading.gif')               // 这个是加载的loading过渡效果\r\n  // try: 2                                       // 这个是加载图片数量\r\n})\r\nVue.config.productionTip = false\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  store,\r\n  router,\r\n  template: '<App/>',\r\n  components: {App}\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = __webpack_public_path__ + \"static/img/avatar.ab7112d.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/movieinfo/avatar.jpg\n// module id = T/KO\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/loading.eb5079a.gif\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/image/loading.gif\n// module id = zUsG\n// module chunks = 1"],"sourceRoot":""}